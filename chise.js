/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["chise"] = factory();
	else
		root["chise"] = factory();
})(self, () => {
return /******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("(function () {\n  var chise = function chise(_options) {\n    var param = {};\n\n    // Access the libs\n    var libs = (__webpack_require__(/*! ./utilities/lib-utilities */ \"./src/utilities/lib-utilities.js\").getLibs)();\n    var optionUtilities = __webpack_require__(/*! ./utilities/option-utilities-factory */ \"./src/utilities/option-utilities-factory.js\")();\n    var options = optionUtilities.extendOptions(_options); // Extends the default options with the given options\n\n    // Create an sbgnviz instance\n    var sbgnvizInstanceUtilities = __webpack_require__(/*! ./utilities/sbgnviz-instance-utilities-factory */ \"./src/utilities/sbgnviz-instance-utilities-factory.js\")();\n    var sbgnvizInstance = sbgnvizInstanceUtilities(options);\n\n    // Register undo/redo actions\n    var registerUndoRedoActions = __webpack_require__(/*! ./utilities/register-undo-redo-actions-factory */ \"./src/utilities/register-undo-redo-actions-factory.js\")();\n    var mainUtilities = __webpack_require__(/*! ./utilities/main-utilities-factory */ \"./src/utilities/main-utilities-factory.js\")();\n    var elementUtilitiesExtender = __webpack_require__(/*! ./utilities/element-utilities-extender-factory */ \"./src/utilities/element-utilities-extender-factory.js\")();\n    var undoRedoActionFunctionsExtender = __webpack_require__(/*! ./utilities/ur-action-functions-extender-factory */ \"./src/utilities/ur-action-functions-extender-factory.js\")();\n    var sifTopologyGrouping = __webpack_require__(/*! ./utilities/topology-grouping-factory */ \"./src/utilities/topology-grouping-factory.js\")();\n    var elementUtilities = sbgnvizInstance.elementUtilities;\n    var undoRedoActionFunctions = sbgnvizInstance.undoRedoActionFunctions;\n    param.sbgnvizInstanceUtilities = sbgnvizInstanceUtilities;\n    param.optionUtilities = optionUtilities;\n    param.elementUtilities = elementUtilities;\n    param.undoRedoActionFunctions = undoRedoActionFunctions;\n    param.sifTopologyGrouping = sifTopologyGrouping;\n    var shouldApply = function shouldApply() {\n      return param.elementUtilities.mapType === 'SIF';\n    };\n    undoRedoActionFunctionsExtender(param);\n    elementUtilitiesExtender(param);\n    registerUndoRedoActions(param);\n    mainUtilities(param);\n    sifTopologyGrouping(param, {\n      metaEdgeIdentifier: 'sif-meta',\n      lockGraphTopology: true,\n      shouldApply: shouldApply\n    });\n\n    // Expose the api\n    var api = {};\n\n    // Expose the properties inherited from sbgnviz\n    // then override some of these properties and expose some new properties\n    for (var prop in sbgnvizInstance) {\n      api[prop] = sbgnvizInstance[prop];\n    }\n\n    // Expose each main utility seperately\n    for (var prop in mainUtilities) {\n      api[prop] = mainUtilities[prop];\n    }\n\n    // Expose getSbgnvizInstance()\n    api.getSbgnvizInstance = sbgnvizInstanceUtilities.getInstance;\n\n    // Expose elementUtilities and undoRedoActionFunctions as is\n    api.elementUtilities = elementUtilities;\n    api.undoRedoActionFunctions = undoRedoActionFunctions;\n    api.sifTopologyGrouping = sifTopologyGrouping;\n    return api;\n  };\n\n  // Register chise with given libraries\n  chise.register = function (_libs) {\n    var libs = {};\n    libs.jQuery = _libs.jQuery || jQuery;\n    libs.cytoscape = _libs.cytoscape || cytoscape;\n    libs.sbgnviz = _libs.sbgnviz || sbgnviz;\n    libs.saveAs = _libs.filesaver ? _libs.filesaver.saveAs : saveAs;\n    libs.sbgnviz.register(_libs); // Register sbgnviz with the given libs\n\n    // inherit exposed static properties of sbgnviz other than register\n    for (var prop in libs.sbgnviz) {\n      if (prop !== 'register') {\n        chise[prop] = libs.sbgnviz[prop];\n      }\n    }\n\n    // Set the libraries to access them from any file\n    var libUtilities = __webpack_require__(/*! ./utilities/lib-utilities */ \"./src/utilities/lib-utilities.js\");\n    libUtilities.setLibs(libs);\n  };\n  if ( true && module.exports) {\n    module.exports = chise;\n  }\n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVEsR0FBRyxVQUFVQyxLQUFLLEVBQUU7SUFFaEMsSUFBSXhCLElBQUksR0FBRyxDQUFDLENBQUM7SUFDYkEsSUFBSSxDQUFDeUIsTUFBTSxHQUFHRCxLQUFLLENBQUNDLE1BQU0sSUFBSUEsTUFBTTtJQUNwQ3pCLElBQUksQ0FBQzBCLFNBQVMsR0FBR0YsS0FBSyxDQUFDRSxTQUFTLElBQUlBLFNBQVM7SUFDN0MxQixJQUFJLENBQUMyQixPQUFPLEdBQUdILEtBQUssQ0FBQ0csT0FBTyxJQUFJQSxPQUFPO0lBQ3ZDM0IsSUFBSSxDQUFDNEIsTUFBTSxHQUFHSixLQUFLLENBQUNLLFNBQVMsR0FBR0wsS0FBSyxDQUFDSyxTQUFTLENBQUNELE1BQU0sR0FBR0EsTUFBTTtJQUUvRDVCLElBQUksQ0FBQzJCLE9BQU8sQ0FBQ0osUUFBUSxDQUFDQyxLQUFLLENBQUMsQ0FBQyxDQUFDOztJQUU5QjtJQUNBLEtBQUssSUFBSUosSUFBSSxJQUFJcEIsSUFBSSxDQUFDMkIsT0FBTyxFQUFFO01BQzdCLElBQUlQLElBQUksS0FBSyxVQUFVLEVBQUU7UUFDdkJ2QixLQUFLLENBQUN1QixJQUFJLENBQUMsR0FBR3BCLElBQUksQ0FBQzJCLE9BQU8sQ0FBQ1AsSUFBSSxDQUFDO01BQ2xDO0lBQ0Y7O0lBRUE7SUFDQSxJQUFJVSxZQUFZLEdBQUc3QixtQkFBTyxDQUFDLG1FQUEyQixDQUFDO0lBQ3ZENkIsWUFBWSxDQUFDQyxPQUFPLENBQUMvQixJQUFJLENBQUM7RUFDNUIsQ0FBQztFQUVELElBQUssS0FBNkIsSUFBSWdDLE1BQU0sQ0FBQ0MsT0FBTyxFQUFHO0lBQ3JERCxNQUFNLENBQUNDLE9BQU8sR0FBR3BDLEtBQUs7RUFDeEI7QUFDRixDQUFDLEVBQUUsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NoaXNlLy4vc3JjL2luZGV4LmpzP2I2MzUiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7XHJcbiAgdmFyIGNoaXNlID0gZnVuY3Rpb24oX29wdGlvbnMpIHtcclxuXHJcbiAgICB2YXIgcGFyYW0gPSB7fTtcclxuXHJcbiAgICAvLyBBY2Nlc3MgdGhlIGxpYnNcclxuICAgIHZhciBsaWJzID0gcmVxdWlyZSgnLi91dGlsaXRpZXMvbGliLXV0aWxpdGllcycpLmdldExpYnMoKTtcclxuXHJcbiAgICB2YXIgb3B0aW9uVXRpbGl0aWVzID0gcmVxdWlyZSgnLi91dGlsaXRpZXMvb3B0aW9uLXV0aWxpdGllcy1mYWN0b3J5JykoKTtcclxuICAgIHZhciBvcHRpb25zID0gb3B0aW9uVXRpbGl0aWVzLmV4dGVuZE9wdGlvbnMoX29wdGlvbnMpOyAvLyBFeHRlbmRzIHRoZSBkZWZhdWx0IG9wdGlvbnMgd2l0aCB0aGUgZ2l2ZW4gb3B0aW9uc1xyXG5cclxuICAgIC8vIENyZWF0ZSBhbiBzYmdudml6IGluc3RhbmNlXHJcbiAgICB2YXIgc2JnbnZpekluc3RhbmNlVXRpbGl0aWVzID0gcmVxdWlyZSgnLi91dGlsaXRpZXMvc2JnbnZpei1pbnN0YW5jZS11dGlsaXRpZXMtZmFjdG9yeScpKCk7XHJcbiAgICB2YXIgc2JnbnZpekluc3RhbmNlID0gc2JnbnZpekluc3RhbmNlVXRpbGl0aWVzKG9wdGlvbnMpO1xyXG5cclxuICAgIC8vIFJlZ2lzdGVyIHVuZG8vcmVkbyBhY3Rpb25zXHJcbiAgICB2YXIgcmVnaXN0ZXJVbmRvUmVkb0FjdGlvbnMgPSByZXF1aXJlKCcuL3V0aWxpdGllcy9yZWdpc3Rlci11bmRvLXJlZG8tYWN0aW9ucy1mYWN0b3J5JykoKTtcclxuXHJcbiAgICB2YXIgbWFpblV0aWxpdGllcyA9IHJlcXVpcmUoJy4vdXRpbGl0aWVzL21haW4tdXRpbGl0aWVzLWZhY3RvcnknKSgpO1xyXG4gICAgdmFyIGVsZW1lbnRVdGlsaXRpZXNFeHRlbmRlciA9IHJlcXVpcmUoJy4vdXRpbGl0aWVzL2VsZW1lbnQtdXRpbGl0aWVzLWV4dGVuZGVyLWZhY3RvcnknKSgpO1xyXG4gICAgdmFyIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zRXh0ZW5kZXIgPSByZXF1aXJlKCcuL3V0aWxpdGllcy91ci1hY3Rpb24tZnVuY3Rpb25zLWV4dGVuZGVyLWZhY3RvcnknKSgpO1xyXG4gICAgdmFyIHNpZlRvcG9sb2d5R3JvdXBpbmcgPSByZXF1aXJlKCcuL3V0aWxpdGllcy90b3BvbG9neS1ncm91cGluZy1mYWN0b3J5JykoKTtcclxuXHJcbiAgICB2YXIgZWxlbWVudFV0aWxpdGllcyA9ICBzYmdudml6SW5zdGFuY2UuZWxlbWVudFV0aWxpdGllcztcclxuICAgIHZhciB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucyA9IHNiZ252aXpJbnN0YW5jZS51bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucztcclxuXHJcbiAgICBwYXJhbS5zYmdudml6SW5zdGFuY2VVdGlsaXRpZXMgPSBzYmdudml6SW5zdGFuY2VVdGlsaXRpZXM7XHJcbiAgICBwYXJhbS5vcHRpb25VdGlsaXRpZXMgPSBvcHRpb25VdGlsaXRpZXM7XHJcbiAgICBwYXJhbS5lbGVtZW50VXRpbGl0aWVzID0gZWxlbWVudFV0aWxpdGllcztcclxuICAgIHBhcmFtLnVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zID0gdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnM7XHJcbiAgICBwYXJhbS5zaWZUb3BvbG9neUdyb3VwaW5nID0gc2lmVG9wb2xvZ3lHcm91cGluZztcclxuXHJcbiAgICB2YXIgc2hvdWxkQXBwbHkgPSBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIHBhcmFtLmVsZW1lbnRVdGlsaXRpZXMubWFwVHlwZSA9PT0gJ1NJRic7XHJcbiAgICB9O1xyXG5cclxuICAgIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zRXh0ZW5kZXIocGFyYW0pO1xyXG4gICAgZWxlbWVudFV0aWxpdGllc0V4dGVuZGVyKHBhcmFtKTtcclxuICAgIHJlZ2lzdGVyVW5kb1JlZG9BY3Rpb25zKHBhcmFtKTtcclxuICAgIG1haW5VdGlsaXRpZXMocGFyYW0pO1xyXG4gICAgc2lmVG9wb2xvZ3lHcm91cGluZyhwYXJhbSwge21ldGFFZGdlSWRlbnRpZmllcjogJ3NpZi1tZXRhJywgbG9ja0dyYXBoVG9wb2xvZ3k6IHRydWUsIHNob3VsZEFwcGx5fSk7XHJcblxyXG4gICAgLy8gRXhwb3NlIHRoZSBhcGlcclxuICAgIHZhciBhcGkgPSB7fTtcclxuXHJcbiAgICAvLyBFeHBvc2UgdGhlIHByb3BlcnRpZXMgaW5oZXJpdGVkIGZyb20gc2JnbnZpelxyXG4gICAgLy8gdGhlbiBvdmVycmlkZSBzb21lIG9mIHRoZXNlIHByb3BlcnRpZXMgYW5kIGV4cG9zZSBzb21lIG5ldyBwcm9wZXJ0aWVzXHJcbiAgICBmb3IgKHZhciBwcm9wIGluIHNiZ252aXpJbnN0YW5jZSkge1xyXG4gICAgICBhcGlbcHJvcF0gPSBzYmdudml6SW5zdGFuY2VbcHJvcF07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRXhwb3NlIGVhY2ggbWFpbiB1dGlsaXR5IHNlcGVyYXRlbHlcclxuICAgIGZvciAodmFyIHByb3AgaW4gbWFpblV0aWxpdGllcykge1xyXG4gICAgICBhcGlbcHJvcF0gPSBtYWluVXRpbGl0aWVzW3Byb3BdO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEV4cG9zZSBnZXRTYmdudml6SW5zdGFuY2UoKVxyXG4gICAgYXBpLmdldFNiZ252aXpJbnN0YW5jZSA9IHNiZ252aXpJbnN0YW5jZVV0aWxpdGllcy5nZXRJbnN0YW5jZTtcclxuXHJcbiAgICAvLyBFeHBvc2UgZWxlbWVudFV0aWxpdGllcyBhbmQgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMgYXMgaXNcclxuICAgIGFwaS5lbGVtZW50VXRpbGl0aWVzID0gZWxlbWVudFV0aWxpdGllcztcclxuICAgIGFwaS51bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucyA9IHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zO1xyXG4gICAgYXBpLnNpZlRvcG9sb2d5R3JvdXBpbmcgPSBzaWZUb3BvbG9neUdyb3VwaW5nO1xyXG5cclxuICAgIHJldHVybiBhcGk7XHJcbiAgfTtcclxuXHJcbiAgLy8gUmVnaXN0ZXIgY2hpc2Ugd2l0aCBnaXZlbiBsaWJyYXJpZXNcclxuICBjaGlzZS5yZWdpc3RlciA9IGZ1bmN0aW9uIChfbGlicykge1xyXG5cclxuICAgIHZhciBsaWJzID0ge307XHJcbiAgICBsaWJzLmpRdWVyeSA9IF9saWJzLmpRdWVyeSB8fCBqUXVlcnk7XHJcbiAgICBsaWJzLmN5dG9zY2FwZSA9IF9saWJzLmN5dG9zY2FwZSB8fCBjeXRvc2NhcGU7XHJcbiAgICBsaWJzLnNiZ252aXogPSBfbGlicy5zYmdudml6IHx8IHNiZ252aXo7XHJcbiAgICBsaWJzLnNhdmVBcyA9IF9saWJzLmZpbGVzYXZlciA/IF9saWJzLmZpbGVzYXZlci5zYXZlQXMgOiBzYXZlQXM7XHJcblxyXG4gICAgbGlicy5zYmdudml6LnJlZ2lzdGVyKF9saWJzKTsgLy8gUmVnaXN0ZXIgc2JnbnZpeiB3aXRoIHRoZSBnaXZlbiBsaWJzXHJcblxyXG4gICAgLy8gaW5oZXJpdCBleHBvc2VkIHN0YXRpYyBwcm9wZXJ0aWVzIG9mIHNiZ252aXogb3RoZXIgdGhhbiByZWdpc3RlclxyXG4gICAgZm9yICh2YXIgcHJvcCBpbiBsaWJzLnNiZ252aXopIHtcclxuICAgICAgaWYgKHByb3AgIT09ICdyZWdpc3RlcicpIHtcclxuICAgICAgICBjaGlzZVtwcm9wXSA9IGxpYnMuc2JnbnZpeltwcm9wXTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFNldCB0aGUgbGlicmFyaWVzIHRvIGFjY2VzcyB0aGVtIGZyb20gYW55IGZpbGVcclxuICAgIHZhciBsaWJVdGlsaXRpZXMgPSByZXF1aXJlKCcuL3V0aWxpdGllcy9saWItdXRpbGl0aWVzJyk7XHJcbiAgICBsaWJVdGlsaXRpZXMuc2V0TGlicyhsaWJzKTtcclxuICB9O1xyXG5cclxuICBpZiAoIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzICkge1xyXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBjaGlzZTtcclxuICB9XHJcbn0pKCk7XHJcbiJdLCJuYW1lcyI6WyJjaGlzZSIsIl9vcHRpb25zIiwicGFyYW0iLCJsaWJzIiwicmVxdWlyZSIsImdldExpYnMiLCJvcHRpb25VdGlsaXRpZXMiLCJvcHRpb25zIiwiZXh0ZW5kT3B0aW9ucyIsInNiZ252aXpJbnN0YW5jZVV0aWxpdGllcyIsInNiZ252aXpJbnN0YW5jZSIsInJlZ2lzdGVyVW5kb1JlZG9BY3Rpb25zIiwibWFpblV0aWxpdGllcyIsImVsZW1lbnRVdGlsaXRpZXNFeHRlbmRlciIsInVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zRXh0ZW5kZXIiLCJzaWZUb3BvbG9neUdyb3VwaW5nIiwiZWxlbWVudFV0aWxpdGllcyIsInVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zIiwic2hvdWxkQXBwbHkiLCJtYXBUeXBlIiwibWV0YUVkZ2VJZGVudGlmaWVyIiwibG9ja0dyYXBoVG9wb2xvZ3kiLCJhcGkiLCJwcm9wIiwiZ2V0U2JnbnZpekluc3RhbmNlIiwiZ2V0SW5zdGFuY2UiLCJyZWdpc3RlciIsIl9saWJzIiwialF1ZXJ5IiwiY3l0b3NjYXBlIiwic2JnbnZpeiIsInNhdmVBcyIsImZpbGVzYXZlciIsImxpYlV0aWxpdGllcyIsInNldExpYnMiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ }),

/***/ "./src/utilities/element-utilities-extender-factory.js":
/*!*************************************************************!*\
  !*** ./src/utilities/element-utilities-extender-factory.js ***!
  \*************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("function _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n// Extends sbgnviz.elementUtilities\nvar libs = (__webpack_require__(/*! ./lib-utilities */ \"./src/utilities/lib-utilities.js\").getLibs)();\nvar jQuery = $ = libs.jQuery;\nmodule.exports = function () {\n  var options, sbgnvizInstance, elementUtilities, cy;\n  function elementUtilitiesExtender(param) {\n    sbgnvizInstance = param.sbgnvizInstanceUtilities.getInstance();\n    options = param.optionUtilities.getOptions();\n    elementUtilities = sbgnvizInstance.elementUtilities;\n    cy = param.sbgnvizInstanceUtilities.getCy();\n    extend();\n\n    // Return the extended elementUtilities\n    return elementUtilities;\n  }\n\n  // Extends elementUtilities with chise specific facilities\n  function extend() {\n    // Section Start\n    // Add remove utilities\n\n    elementUtilities.addNode = function (x, y, nodeParams, id, parent, visibility) {\n      if (_typeof(nodeParams) != \"object\") {\n        var sbgnclass = nodeParams;\n      } else {\n        var sbgnclass = nodeParams[\"class\"];\n        var language = nodeParams.language;\n      }\n      var css = {};\n      //('sbgnclass', sbgnclass)\n      // if there is no specific default width or height for\n      // sbgnclass these sizes are used\n      var defaultWidth = 50;\n      var defaultHeight = 50;\n      if (visibility) {\n        css.visibility = visibility;\n      }\n      var data = {\n        \"class\": sbgnclass,\n        language: language,\n        bbox: {\n          w: defaultWidth,\n          h: defaultHeight,\n          x: x,\n          y: y\n        },\n        statesandinfos: [],\n        ports: []\n      };\n      if (id) {\n        data.id = id;\n      } else {\n        data.id = elementUtilities.generateNodeId();\n      }\n      if (parent) {\n        data.parent = parent;\n      }\n      this.extendNodeDataWithClassDefaults(data, sbgnclass);\n\n      // some defaults are not set by extendNodeDataWithClassDefaults()\n      var defaults = this.getDefaultProperties(sbgnclass);\n      if (defaults[\"multimer\"]) {\n        data[\"class\"] += \" multimer\";\n      }\n      if (defaults[\"clonemarker\"]) {\n        data[\"clonemarker\"] = true;\n      }\n      if (defaults[\"hypothetical\"]) {\n        data[\"class\"] = \"hypothetical \" + data[\"class\"];\n      }\n      if (defaults[\"active\"]) {\n        data[\"class\"] = \"active \" + data[\"class\"];\n      }\n      data.bbox[\"w\"] = defaults[\"width\"];\n      data.bbox[\"h\"] = defaults[\"height\"];\n      var eles = cy.add({\n        group: \"nodes\",\n        data: data,\n        css: css,\n        position: {\n          x: x,\n          y: y\n        }\n      });\n      var newNode = eles[eles.length - 1];\n      // Get the default ports ordering for the nodes with given sbgnclass\n      var ordering = defaults[\"ports-ordering\"];\n\n      // If there is a default ports ordering for the nodes with given sbgnclass and it is different than 'none' set the ports ordering to that ordering\n      if (ordering && ordering !== \"none\") {\n        this.setPortsOrdering(newNode, ordering);\n      }\n      if (language == \"AF\" && !elementUtilities.canHaveMultipleUnitOfInformation(newNode)) {\n        if (sbgnclass != \"BA plain\") {\n          // if AF node can have label i.e: not plain biological activity\n          var uoi_obj = {\n            clazz: \"unit of information\"\n          };\n          uoi_obj.label = {\n            text: \"\"\n          };\n          uoi_obj.bbox = {\n            w: 12,\n            h: 12\n          };\n          elementUtilities.addStateOrInfoBox(newNode, uoi_obj);\n        }\n      }\n\n      // node bg image was unexpectedly not rendered until it is clicked\n      // use this dirty hack until finding a solution to the problem\n      var bgImage = newNode.data(\"background-image\");\n      //alert('bgImage', bgImage)\n      if (bgImage) {\n        newNode.data(\"background-image\", bgImage);\n      }\n      return newNode;\n    };\n\n    //Saves old aux units of given node\n    elementUtilities.saveUnits = function (node) {\n      var tempData = [];\n      var index = 0;\n      node.data(\"statesandinfos\").forEach(function (ele) {\n        tempData.push({\n          x: ele.bbox.x,\n          y: ele.bbox.y,\n          anchorSide: ele.anchorSide\n        });\n        index++;\n      });\n      return tempData;\n    };\n\n    //Restores from given data\n    elementUtilities.restoreUnits = function (node, data) {\n      var index = 0;\n      node.data(\"statesandinfos\").forEach(function (ele) {\n        if (data !== undefined) {\n          ele.bbox.x = data[index].x;\n          ele.bbox.y = data[index].y;\n          var anchorSide = ele.anchorSide;\n          ele.anchorSide = data[index].anchorSide;\n          elementUtilities.modifyUnits(node, ele, anchorSide);\n          index++;\n        }\n      });\n    };\n\n    //Modify aux unit layouts\n    elementUtilities.modifyUnits = function (node, ele, anchorSide) {\n      instance.classes.AuxUnitLayout.modifyUnits(node, ele, anchorSide, cy);\n    };\n\n    //For reversible reactions both side of the process can be input/output\n    //Group ID identifies to which group of nodes the edge is going to be connected for reversible reactions(0: group 1 ID and 1:group 2 ID)\n    elementUtilities.addEdge = function (source, target, edgeParams, id, visibility, groupID) {\n      if (_typeof(edgeParams) != \"object\") {\n        var sbgnclass = edgeParams;\n      } else {\n        var sbgnclass = edgeParams[\"class\"];\n        var language = edgeParams.language;\n      }\n      var css = {};\n      if (visibility) {\n        css.visibility = visibility;\n      }\n      var data = {\n        source: source,\n        target: target,\n        \"class\": sbgnclass,\n        language: language\n      };\n      var defaults = elementUtilities.getDefaultProperties(sbgnclass);\n      // extend the data with default properties of edge style\n      Object.keys(defaults).forEach(function (prop) {\n        data[prop] = defaults[prop];\n      });\n      if (id) {\n        data.id = id;\n      } else {\n        data.id = elementUtilities.generateEdgeId();\n      }\n      if (elementUtilities.canHaveSBGNCardinality(sbgnclass)) {\n        data.cardinality = 0;\n      }\n      var sourceNode = cy.getElementById(source); // The original source node\n      var targetNode = cy.getElementById(target); // The original target node\n      var sourceHasPorts = sourceNode.data(\"ports\").length === 2;\n      var targetHasPorts = targetNode.data(\"ports\").length === 2;\n      // The portsource and porttarget variables\n      var portsource;\n      var porttarget;\n\n      /*\r\n       * Get input/output port id's of a node with the assumption that the node has valid ports.\r\n       */\n      var getIOPortIds = function getIOPortIds(node) {\n        var nodeInputPortId, nodeOutputPortId;\n        var nodePortsOrdering = sbgnvizInstance.elementUtilities.getPortsOrdering(node);\n        var nodePorts = node.data(\"ports\");\n        if (nodePortsOrdering === \"L-to-R\" || nodePortsOrdering === \"R-to-L\") {\n          var leftPortId = nodePorts[0].x < 0 ? nodePorts[0].id : nodePorts[1].id; // The x value of left port is supposed to be negative\n          var rightPortId = nodePorts[0].x > 0 ? nodePorts[0].id : nodePorts[1].id; // The x value of right port is supposed to be positive\n          /*\r\n           * If the port ordering is left to right then the input port is the left port and the output port is the right port.\r\n           * Else if it is right to left it is vice versa\r\n           */\n          nodeInputPortId = nodePortsOrdering === \"L-to-R\" ? leftPortId : rightPortId;\n          nodeOutputPortId = nodePortsOrdering === \"R-to-L\" ? leftPortId : rightPortId;\n        } else if (nodePortsOrdering === \"T-to-B\" || nodePortsOrdering === \"B-to-T\") {\n          var topPortId = nodePorts[0].y < 0 ? nodePorts[0].id : nodePorts[1].id; // The y value of top port is supposed to be negative\n          var bottomPortId = nodePorts[0].y > 0 ? nodePorts[0].id : nodePorts[1].id; // The y value of bottom port is supposed to be positive\n          /*\r\n           * If the port ordering is top to bottom then the input port is the top port and the output port is the bottom port.\r\n           * Else if it is right to left it is vice versa\r\n           */\n          nodeInputPortId = nodePortsOrdering === \"T-to-B\" ? topPortId : bottomPortId;\n          nodeOutputPortId = nodePortsOrdering === \"B-to-T\" ? topPortId : bottomPortId;\n        }\n\n        // Return an object containing the IO ports of the node\n        return {\n          inputPortId: nodeInputPortId,\n          outputPortId: nodeOutputPortId\n        };\n      };\n      // If at least one end of the edge has ports then we should determine the ports where the edge should be connected.\n      if (sourceHasPorts || targetHasPorts) {\n        var sourceNodeInputPortId, sourceNodeOutputPortId, targetNodeInputPortId, targetNodeOutputPortId;\n\n        // If source node has ports set the variables dedicated for its IO ports\n        if (sourceHasPorts) {\n          var ioPorts = getIOPortIds(sourceNode);\n          sourceNodeInputPortId = ioPorts.inputPortId;\n          sourceNodeOutputPortId = ioPorts.outputPortId;\n        }\n\n        // && (elementUtilities.isModulationArcClass(sbgnclass) && )\n        // If target node has ports set the variables dedicated for its IO ports\n        if (targetHasPorts && !(elementUtilities.isModulationArcClass(sbgnclass) && elementUtilities.isProcessNode(targetNode.data('class')))) {\n          var ioPorts = getIOPortIds(targetNode);\n          targetNodeInputPortId = ioPorts.inputPortId;\n          targetNodeOutputPortId = ioPorts.outputPortId;\n        }\n        if (sbgnclass === \"consumption\" || sbgnclass === \"translation consumption\" || sbgnclass === \"transcription consumption\") {\n          // A consumption edge should be connected to the input port of the target node which is supposed to be a process (any kind of)\n          portsource = sourceNodeOutputPortId;\n          porttarget = targetNodeInputPortId;\n        } else if (sbgnclass === \"production\" || sbgnclass === \"translation production\" || sbgnclass === \"transcription production\" || sbgnclass === \"transport\") {\n          // A production edge should be connected to the output port of the source node which is supposed to be a process (any kind of)\n          // A modulation edge may have a logical operator as source node in this case the edge should be connected to the output port of it\n          // The below assignment satisfy all of these condition\n          if (groupID == 0 || groupID == undefined) {\n            // groupID 0 for reversible reactions group 0\n            portsource = sourceNodeOutputPortId;\n            porttarget = targetNodeInputPortId;\n          } else {\n            //if reaction is reversible and edge belongs to group 1\n            portsource = sourceNodeInputPortId;\n          }\n        } else if (elementUtilities.isModulationArcClass(sbgnclass) || elementUtilities.isAFArcClass(sbgnclass) || elementUtilities.isSBMLArcClass(sbgnclass) || elementUtilities.isLogicArc(sbgnclass)) {\n          portsource = sourceNodeOutputPortId;\n          porttarget = targetNodeInputPortId;\n        }\n      }\n\n      // The default portsource/porttarget are the source/target themselves. If they are not set use these defaults.\n      // The portsource and porttarget are determined set them in data object.\n      data.portsource = portsource || source;\n      data.porttarget = porttarget || target;\n      var eles = cy.add({\n        group: \"edges\",\n        data: data,\n        css: css\n      });\n      var newEdge = eles[eles.length - 1];\n      return newEdge;\n    };\n    elementUtilities.addProcessWithConvenientEdges = function (_source, _target, nodeParams) {\n      // If source and target IDs are given get the elements by IDs\n      var source = typeof _source === \"string\" ? cy.getElementById(_source) : _source;\n      var target = typeof _target === \"string\" ? cy.getElementById(_target) : _target;\n\n      // Process parent should be the closest common ancestor of the source and target nodes\n      var processParent = cy.collection([source[0], target[0]]).commonAncestors().first();\n\n      // Process should be at the middle of the source and target nodes\n      var x = (source.position(\"x\") + target.position(\"x\")) / 2;\n      var y = (source.position(\"y\") + target.position(\"y\")) / 2;\n\n      // Create the process with given/calculated variables\n      var process = elementUtilities.addNode(x, y, nodeParams, undefined, processParent.id());\n      var xdiff = source.position(\"x\") - target.position(\"x\");\n      var ydiff = source.position(\"y\") - target.position(\"y\");\n      if (Math.abs(xdiff) >= Math.abs(ydiff)) {\n        if (xdiff < 0) elementUtilities.setPortsOrdering(process, \"L-to-R\");else elementUtilities.setPortsOrdering(process, \"R-to-L\");\n      } else {\n        if (ydiff < 0) elementUtilities.setPortsOrdering(process, \"T-to-B\");else elementUtilities.setPortsOrdering(process, \"B-to-T\");\n      }\n\n      // Create the edges one is between the process and the source node (which should be a consumption),\n      // the other one is between the process and the target node (which should be a production).\n      // For more information please refer to SBGN-PD reference card.\n      var edgeBtwSrc = elementUtilities.addEdge(source.id(), process.id(), {\n        \"class\": \"consumption\",\n        language: nodeParams.language\n      });\n      var edgeBtwTgt = elementUtilities.addEdge(process.id(), target.id(), {\n        \"class\": \"production\",\n        language: nodeParams.language\n      });\n\n      // Create a collection including the elements and to be returned\n      var collection = cy.collection([process[0], edgeBtwSrc[0], edgeBtwTgt[0]]);\n      return collection;\n    };\n\n    /*\r\n     * This method assumes that param.nodesToMakeCompound contains at least one node\r\n     * and all of the nodes including in it have the same parent. It creates a compound fot the given nodes an having the given type.\r\n     */\n    elementUtilities.createCompoundForGivenNodes = function (nodesToMakeCompound, compoundType) {\n      var oldParentId = nodesToMakeCompound[0].data(\"parent\");\n      var language = nodesToMakeCompound[0].data(\"language\");\n      // if nodesToMakeCompound contain both PD and AF nodes, then set language of compound as Unknown\n      for (var i = 1; i < nodesToMakeCompound.length; i++) {\n        if (nodesToMakeCompound[i] != language) {\n          language = \"Unknown\";\n          break;\n        }\n      }\n      // The parent of new compound will be the old parent of the nodes to make compound. x, y and id parameters are not set.\n      var newCompound = elementUtilities.addNode(undefined, undefined, {\n        \"class\": compoundType,\n        language: language\n      }, undefined, oldParentId);\n      var newCompoundId = newCompound.id();\n      var newEles = elementUtilities.changeParent(nodesToMakeCompound, newCompoundId);\n      newEles = newEles.union(newCompound);\n      return newEles;\n    };\n    elementUtilities.createTranslationReaction = function (mRnaName, proteinName, processPosition, edgeLength) {\n      var defaultProcessProperties = elementUtilities.getDefaultProperties(\"translation\");\n      var defaultSourceAndSinkProperties = elementUtilities.getDefaultProperties(\"empty set\");\n      var defaultNucleicAcidFeatureProperties = elementUtilities.getDefaultProperties(\"nucleic acid feature\");\n      var defaultMacromoleculeProperties = elementUtilities.getDefaultProperties(\"macromolecule\");\n      var macromoleculeWidth = defaultMacromoleculeProperties.width || 50;\n      var sourceAndSinkWidth = defaultSourceAndSinkProperties.width || 50;\n      var nucleicAcidFeatureHeight = defaultNucleicAcidFeatureProperties.height || 50;\n      var processWidth = defaultProcessProperties.width || 50;\n      var processHeight = defaultProcessProperties.height || 50;\n      var processPosition = processPosition || elementUtilities.convertToModelPosition({\n        x: cy.width() / 2,\n        y: cy.height() / 2\n      });\n      var edgeLength = edgeLength || 60;\n      cy.startBatch();\n      if (!elementUtilities.getMapType()) {\n        elementUtilities.setMapType(\"PD\");\n      }\n      var processNode = elementUtilities.addNode(processPosition.x, processPosition.y, {\n        \"class\": \"process\",\n        language: \"PD\"\n      });\n      elementUtilities.setPortsOrdering(processNode, \"L-to-R\");\n      processNode.data(\"justAdded\", true);\n      var xPosOfSourceAndSinkNode = processPosition.x - edgeLength - processWidth / 2 - sourceAndSinkWidth / 2;\n      var yPosOfSourceAndSinkNode = processPosition.y;\n      var sourceAndSinkNode = elementUtilities.addNode(xPosOfSourceAndSinkNode, yPosOfSourceAndSinkNode, {\n        \"class\": \"empty set\",\n        language: \"PD\"\n      });\n      sourceAndSinkNode.data(\"justAdded\", true);\n      var consumptionEdge = elementUtilities.addEdge(sourceAndSinkNode.id(), processNode.id(), {\n        \"class\": \"consumption\",\n        language: \"PD\"\n      });\n      consumptionEdge.data(\"justAdded\", true);\n      var xPosOfmRnaNode = processPosition.x;\n      var yPosOfmRnaNode = processPosition.y - edgeLength - processHeight / 2 - nucleicAcidFeatureHeight / 2;\n      var mRnaNode = elementUtilities.addNode(xPosOfmRnaNode, yPosOfmRnaNode, {\n        \"class\": \"nucleic acid feature\",\n        language: \"PD\"\n      });\n      mRnaNode.data(\"justAdded\", true);\n      mRnaNode.data(\"label\", mRnaName);\n      var infoboxObjectOfGene = {\n        clazz: \"unit of information\",\n        label: {\n          text: \"ct:mRNA\"\n        },\n        bbox: {\n          w: 45,\n          h: 15\n        }\n      };\n      elementUtilities.addStateOrInfoBox(mRnaNode, infoboxObjectOfGene);\n      var necessaryStimulationEdge = elementUtilities.addEdge(mRnaNode.id(), processNode.id(), {\n        \"class\": \"necessary stimulation\",\n        language: \"PD\"\n      });\n      necessaryStimulationEdge.data(\"justAdded\", true);\n      var xPosOfProteinNode = processPosition.x + edgeLength + processWidth / 2 + macromoleculeWidth / 2;\n      var yPostOfProteinNode = processPosition.y;\n      var proteinNode = elementUtilities.addNode(xPosOfProteinNode, yPostOfProteinNode, {\n        \"class\": \"macromolecule\",\n        language: \"PD\"\n      });\n      proteinNode.data(\"justAdded\", true);\n      proteinNode.data(\"label\", proteinName);\n      var productionEdge = elementUtilities.addEdge(processNode.id(), proteinNode.id(), {\n        \"class\": \"production\",\n        language: \"PD\"\n      });\n      productionEdge.data(\"justAdded\", true);\n      cy.endBatch();\n\n      //filter the just added elememts to return them and remove just added mark\n      var eles = cy.elements(\"[justAdded]\");\n      eles.removeData(\"justAdded\");\n      cy.elements().unselect();\n      eles.select();\n      return eles; // Return the just added elements\n    };\n    elementUtilities.createTranscriptionReaction = function (geneName, mRnaName, processPosition, edgeLength) {\n      var defaultProcessProperties = elementUtilities.getDefaultProperties(\"transcription\");\n      var defaultSourceAndSinkProperties = elementUtilities.getDefaultProperties(\"empty set\");\n      var defaultNucleicAcidFeatureProperties = elementUtilities.getDefaultProperties(\"nucleic acid feature\");\n      var sourceAndSinkWidth = defaultSourceAndSinkProperties.width || 50;\n      var nucleicAcidFeatureHeight = defaultNucleicAcidFeatureProperties.height || 50;\n      var nucleicAcidFeatureWidth = defaultNucleicAcidFeatureProperties.width || 50;\n      var processWidth = defaultProcessProperties.width || 50;\n      var processHeight = defaultProcessProperties.height || 50;\n      var processPosition = processPosition || elementUtilities.convertToModelPosition({\n        x: cy.width() / 2,\n        y: cy.height() / 2\n      });\n      var edgeLength = edgeLength || 60;\n      cy.startBatch();\n      if (!elementUtilities.getMapType()) {\n        elementUtilities.setMapType(\"PD\");\n      }\n      var processNode = elementUtilities.addNode(processPosition.x, processPosition.y, {\n        \"class\": \"process\",\n        language: \"PD\"\n      });\n      elementUtilities.setPortsOrdering(processNode, \"L-to-R\");\n      processNode.data(\"justAdded\", true);\n      var xPosOfSourceAndSinkNode = processPosition.x - edgeLength - processWidth / 2 - sourceAndSinkWidth / 2;\n      var yPosOfSourceAndSinkNode = processPosition.y;\n      var sourceAndSinkNode = elementUtilities.addNode(xPosOfSourceAndSinkNode, yPosOfSourceAndSinkNode, {\n        \"class\": \"empty set\",\n        language: \"PD\"\n      });\n      sourceAndSinkNode.data(\"justAdded\", true);\n      var consumptionEdge = elementUtilities.addEdge(sourceAndSinkNode.id(), processNode.id(), {\n        \"class\": \"consumption\",\n        language: \"PD\"\n      });\n      consumptionEdge.data(\"justAdded\", true);\n      var xPosOfGeneNode = processPosition.x;\n      var yPosOfGeneNode = processPosition.y - edgeLength - processHeight / 2 - nucleicAcidFeatureHeight / 2;\n      var geneNode = elementUtilities.addNode(xPosOfGeneNode, yPosOfGeneNode, {\n        \"class\": \"nucleic acid feature\",\n        language: \"PD\"\n      });\n      geneNode.data(\"justAdded\", true);\n      geneNode.data(\"label\", geneName);\n      var infoboxObjectOfGene = {\n        clazz: \"unit of information\",\n        label: {\n          text: \"ct:gene\"\n        },\n        bbox: {\n          w: 36,\n          h: 15\n        }\n      };\n      elementUtilities.addStateOrInfoBox(geneNode, infoboxObjectOfGene);\n      var necessaryStimulationEdge = elementUtilities.addEdge(geneNode.id(), processNode.id(), {\n        \"class\": \"necessary stimulation\",\n        language: \"PD\"\n      });\n      necessaryStimulationEdge.data(\"justAdded\", true);\n      var xPosOfmRnaNode = processPosition.x + edgeLength + processWidth / 2 + nucleicAcidFeatureWidth / 2;\n      var yPostOfmRnaNode = processPosition.y;\n      var mRnaNode = elementUtilities.addNode(xPosOfmRnaNode, yPostOfmRnaNode, {\n        \"class\": \"nucleic acid feature\",\n        language: \"PD\"\n      });\n      mRnaNode.data(\"justAdded\", true);\n      mRnaNode.data(\"label\", mRnaName);\n      var infoboxObjectOfmRna = {\n        clazz: \"unit of information\",\n        label: {\n          text: \"ct:mRNA\"\n        },\n        bbox: {\n          w: 45,\n          h: 15\n        }\n      };\n      elementUtilities.addStateOrInfoBox(mRnaNode, infoboxObjectOfmRna);\n      var productionEdge = elementUtilities.addEdge(processNode.id(), mRnaNode.id(), {\n        \"class\": \"production\",\n        language: \"PD\"\n      });\n      productionEdge.data(\"justAdded\", true);\n      cy.endBatch();\n\n      //filter the just added elememts to return them and remove just added mark\n      var eles = cy.elements(\"[justAdded]\");\n      eles.removeData(\"justAdded\");\n      cy.elements().unselect();\n      eles.select();\n      return eles; // Return the just added elements\n    };\n    elementUtilities.rotate90 = function (point, center) {\n      var relativeX = center.x - point.x;\n      var relativeY = center.y - point.y;\n      var relativeRotatedX = relativeY;\n      var relativeRotatedY = -1 * relativeX;\n      var resultX = relativeRotatedX + center.x;\n      var resultY = relativeRotatedY + center.y;\n      return {\n        x: resultX,\n        y: resultY\n      };\n    };\n    elementUtilities.createTranslation = function (regulatorLabel, outputLabel, orientation) {\n      var defaultSourceAndSinkProperties = elementUtilities.getDefaultProperties(\"empty set\");\n      var defaultNucleicAcidFeatureProperties = elementUtilities.getDefaultProperties(\"nucleic acid feature\");\n      var defaultMacromoleculePropeties = elementUtilities.getDefaultProperties(\"macromolecule\");\n      var defaultProcessProperties = elementUtilities.getDefaultProperties(\"process\");\n      var sourceAndSinkWidth = defaultSourceAndSinkProperties.width || 50;\n      var nucleicAcidFeatureWidth = defaultNucleicAcidFeatureProperties.width || 50;\n      var nucleicAcidFeatureHeight = defaultNucleicAcidFeatureProperties.height || 50;\n      var macromoleculeWidth = defaultMacromoleculePropeties.width || 50;\n      var processWidth = defaultProcessProperties.width || 50;\n      var processHeight = defaultProcessProperties.height || 50;\n      var processPosition = elementUtilities.convertToModelPosition({\n        x: cy.width() / 2,\n        y: cy.height() / 2\n      });\n      var edgeLength = 30;\n      var vertical = orientation === \"vertical\";\n      var processPortsOrdering = vertical ? \"T-to-B\" : \"L-to-R\";\n      var minInfoboxDimension = 15;\n      var widthPerChar = 6;\n      var regulatorInfoboxLabel = \"ct:mRNA\";\n      cy.startBatch();\n      if (!elementUtilities.getMapType()) {\n        elementUtilities.setMapType(\"PD\");\n      }\n      var processNode = elementUtilities.addNode(processPosition.x, processPosition.y, {\n        \"class\": \"process\",\n        language: \"PD\"\n      });\n      elementUtilities.setPortsOrdering(processNode, processPortsOrdering);\n      processNode.data(\"justAdded\", true);\n      var xPosOfInput = processPosition.x - edgeLength - processWidth / 2 - sourceAndSinkWidth / 2;\n      var xPosOfOutput = processPosition.x + edgeLength + processWidth / 2 + macromoleculeWidth / 2;\n      var yPosOfInput = processPosition.y;\n      var yPosOfOutput = processPosition.y;\n      var nodePosition = {\n        x: xPosOfInput,\n        y: yPosOfInput\n      };\n      if (vertical) {\n        nodePosition = elementUtilities.rotate90(nodePosition, processPosition);\n      }\n      var inputNode = elementUtilities.addNode(nodePosition.x, nodePosition.y, {\n        \"class\": \"empty set\",\n        language: \"PD\"\n      });\n      inputNode.data(\"justAdded\", true);\n      inputNode.data(\"label\", label);\n      var inputEdge = elementUtilities.addEdge(inputNode.id(), processNode.id(), {\n        \"class\": \"consumption\",\n        language: \"PD\"\n      });\n      inputEdge.data(\"justAdded\", true);\n      nodePosition = {\n        x: xPosOfOutput,\n        y: yPosOfOutput\n      };\n      if (vertical) {\n        nodePosition = elementUtilities.rotate90(nodePosition, processPosition);\n      }\n      var outputNode = elementUtilities.addNode(nodePosition.x, nodePosition.y, {\n        \"class\": \"macromolecule\",\n        language: \"PD\"\n      });\n      outputNode.data(\"justAdded\", true);\n      outputNode.data(\"label\", outputLabel);\n      var outputEdge = elementUtilities.addEdge(processNode.id(), outputNode.id(), {\n        \"class\": \"production\",\n        language: \"PD\"\n      });\n      outputEdge.data(\"justAdded\", true);\n      var xPosOfRegulator = processPosition.x;\n      var dimension = vertical ? nucleicAcidFeatureWidth : nucleicAcidFeatureHeight;\n      var yPosOfRegulator = processPosition.y - (processHeight / 2 + dimension / 2 + edgeLength);\n      nodePosition = {\n        x: xPosOfRegulator,\n        y: yPosOfRegulator\n      };\n      if (vertical) {\n        nodePosition = elementUtilities.rotate90(nodePosition, processPosition);\n      }\n      var regulatorNode = elementUtilities.addNode(nodePosition.x, nodePosition.y, {\n        \"class\": \"nucleic acid feature\",\n        language: \"PD\"\n      });\n      regulatorNode.data(\"justAdded\", true);\n      regulatorNode.data(\"label\", regulatorLabel);\n      infoboxObject = {\n        clazz: \"unit of information\",\n        label: {\n          text: regulatorInfoboxLabel\n        },\n        bbox: {\n          w: Math.max(regulatorInfoboxLabel.length * widthPerChar, minInfoboxDimension),\n          h: minInfoboxDimension\n        }\n      };\n      elementUtilities.addStateOrInfoBox(regulatorNode, infoboxObject);\n      var regulatorEdge = elementUtilities.addEdge(regulatorNode.id(), processNode.id(), {\n        \"class\": \"necessary stimulation\",\n        language: \"PD\"\n      });\n      regulatorEdge.data(\"justAdded\", true);\n      cy.endBatch();\n      var eles = cy.elements(\"[justAdded]\");\n      eles.removeData(\"justAdded\");\n      cy.elements().unselect();\n      eles.select();\n      return eles;\n    };\n    elementUtilities.createTranscription = function (label, orientation) {\n      var defaultSourceAndSinkProperties = elementUtilities.getDefaultProperties(\"empty set\");\n      var defaultNucleicAcidFeatureProperties = elementUtilities.getDefaultProperties(\"nucleic acid feature\");\n      var defaultProcessProperties = elementUtilities.getDefaultProperties(\"process\");\n      var sourceAndSinkWidth = defaultSourceAndSinkProperties.width || 50;\n      var nucleicAcidFeatureWidth = defaultNucleicAcidFeatureProperties.width || 50;\n      var nucleicAcidFeatureHeight = defaultNucleicAcidFeatureProperties.height || 50;\n      var processWidth = defaultProcessProperties.width || 50;\n      var processHeight = defaultProcessProperties.height || 50;\n      var processPosition = elementUtilities.convertToModelPosition({\n        x: cy.width() / 2,\n        y: cy.height() / 2\n      });\n      var edgeLength = 30;\n      var vertical = orientation === \"vertical\";\n      var processPortsOrdering = vertical ? \"T-to-B\" : \"L-to-R\";\n      var minInfoboxDimension = 15;\n      var widthPerChar = 6;\n      var outputInfoboxLabel = \"ct:mRNA\";\n      var regulatorInfoboxLabel = \"ct:gene\";\n      cy.startBatch();\n      if (!elementUtilities.getMapType()) {\n        elementUtilities.setMapType(\"PD\");\n      }\n      var processNode = elementUtilities.addNode(processPosition.x, processPosition.y, {\n        \"class\": \"process\",\n        language: \"PD\"\n      });\n      elementUtilities.setPortsOrdering(processNode, processPortsOrdering);\n      processNode.data(\"justAdded\", true);\n      var xPosOfInput = processPosition.x - edgeLength - processWidth / 2 - sourceAndSinkWidth / 2;\n      var xPosOfOutput = processPosition.x + edgeLength + processWidth / 2 + nucleicAcidFeatureWidth / 2;\n      var yPosOfInput = processPosition.y;\n      var yPosOfOutput = processPosition.y;\n      var nodePosition = {\n        x: xPosOfInput,\n        y: yPosOfInput\n      };\n      if (vertical) {\n        nodePosition = elementUtilities.rotate90(nodePosition, processPosition);\n      }\n      var inputNode = elementUtilities.addNode(nodePosition.x, nodePosition.y, {\n        \"class\": \"empty set\",\n        language: \"PD\"\n      });\n      inputNode.data(\"justAdded\", true);\n      var inputEdge = elementUtilities.addEdge(inputNode.id(), processNode.id(), {\n        \"class\": \"consumption\",\n        language: \"PD\"\n      });\n      inputEdge.data(\"justAdded\", true);\n      nodePosition = {\n        x: xPosOfOutput,\n        y: yPosOfOutput\n      };\n      if (vertical) {\n        nodePosition = elementUtilities.rotate90(nodePosition, processPosition);\n      }\n      var outputNode = elementUtilities.addNode(nodePosition.x, nodePosition.y, {\n        \"class\": \"nucleic acid feature\",\n        language: \"PD\"\n      });\n      outputNode.data(\"justAdded\", true);\n      outputNode.data(\"label\", label);\n      infoboxObject = {\n        clazz: \"unit of information\",\n        label: {\n          text: outputInfoboxLabel\n        },\n        bbox: {\n          w: Math.max(outputInfoboxLabel.length * widthPerChar, minInfoboxDimension),\n          h: minInfoboxDimension\n        }\n      };\n      elementUtilities.addStateOrInfoBox(outputNode, infoboxObject);\n      var outputEdge = elementUtilities.addEdge(processNode.id(), outputNode.id(), {\n        \"class\": \"production\",\n        language: \"PD\"\n      });\n      outputEdge.data(\"justAdded\", true);\n      var xPosOfRegulator = processPosition.x;\n      var dimension = vertical ? nucleicAcidFeatureWidth : nucleicAcidFeatureHeight;\n      var yPosOfRegulator = processPosition.y - (processHeight / 2 + dimension / 2 + edgeLength);\n      nodePosition = {\n        x: xPosOfRegulator,\n        y: yPosOfRegulator\n      };\n      if (vertical) {\n        nodePosition = elementUtilities.rotate90(nodePosition, processPosition);\n      }\n      var regulatorNode = elementUtilities.addNode(nodePosition.x, nodePosition.y, {\n        \"class\": \"nucleic acid feature\",\n        language: \"PD\"\n      });\n      regulatorNode.data(\"justAdded\", true);\n      regulatorNode.data(\"label\", label);\n      infoboxObject = {\n        clazz: \"unit of information\",\n        label: {\n          text: regulatorInfoboxLabel\n        },\n        bbox: {\n          w: Math.max(regulatorInfoboxLabel.length * widthPerChar, minInfoboxDimension),\n          h: minInfoboxDimension\n        }\n      };\n      elementUtilities.addStateOrInfoBox(regulatorNode, infoboxObject);\n      var regulatorEdge = elementUtilities.addEdge(regulatorNode.id(), processNode.id(), {\n        \"class\": \"necessary stimulation\",\n        language: \"PD\"\n      });\n      regulatorEdge.data(\"justAdded\", true);\n      cy.endBatch();\n      var eles = cy.elements(\"[justAdded]\");\n      eles.removeData(\"justAdded\");\n      cy.elements().unselect();\n      eles.select();\n      return eles;\n    };\n    elementUtilities.createDegradation = function (macromolecule, orientation) {\n      var macromoleculeName = macromolecule.name;\n      var defaultMacromoleculeProperties = elementUtilities.getDefaultProperties(\"macromolecule\");\n      var macromoleculeWidth = defaultMacromoleculeProperties.width || 50;\n      var defaultProcessProperties = elementUtilities.getDefaultProperties(\"catalytic\");\n      var processWidth = defaultProcessProperties.width || 50;\n      var processPosition = elementUtilities.convertToModelPosition({\n        x: cy.width() / 2,\n        y: cy.height() / 2\n      });\n      var edgeLength = 30;\n      var vertical = orientation === \"vertical\";\n      var processPortsOrdering = vertical ? \"T-to-B\" : \"L-to-R\";\n      cy.startBatch();\n      if (!elementUtilities.getMapType()) {\n        elementUtilities.setMapType(\"PD\");\n      }\n      var processNode = elementUtilities.addNode(processPosition.x, processPosition.y, {\n        \"class\": \"process\",\n        language: \"PD\"\n      });\n      elementUtilities.setPortsOrdering(processNode, processPortsOrdering);\n      processNode.data(\"justAdded\", true);\n      var xPosOfInput = processPosition.x - edgeLength - processWidth / 2 - macromoleculeWidth / 2;\n      var xPosOfOutput = processPosition.x + edgeLength + processWidth / 2 + macromoleculeWidth / 2;\n      var yPosOfInput = processPosition.y;\n      var yPosOfOutput = processPosition.y;\n      var nodePosition = {\n        x: xPosOfInput,\n        y: yPosOfInput\n      };\n      if (vertical) {\n        nodePosition = elementUtilities.rotate90(nodePosition, processPosition);\n      }\n      var inputNode = elementUtilities.addNode(nodePosition.x, nodePosition.y, {\n        \"class\": \"macromolecule\",\n        language: \"PD\"\n      });\n      inputNode.data(\"justAdded\", true);\n      inputNode.data(\"label\", macromoleculeName);\n      var inputEdge = elementUtilities.addEdge(inputNode.id(), processNode.id(), {\n        \"class\": \"consumption\",\n        language: \"PD\"\n      });\n      inputEdge.data(\"justAdded\", true);\n      nodePosition = {\n        x: xPosOfOutput,\n        y: yPosOfOutput\n      };\n      if (vertical) {\n        nodePosition = elementUtilities.rotate90(nodePosition, processPosition);\n      }\n      var outputNode = elementUtilities.addNode(nodePosition.x, nodePosition.y, {\n        \"class\": \"empty set\",\n        language: \"PD\"\n      });\n      outputNode.data(\"justAdded\", true);\n      var outputEdge = elementUtilities.addEdge(processNode.id(), outputNode.id(), {\n        \"class\": \"production\",\n        language: \"PD\"\n      });\n      outputEdge.data(\"justAdded\", true);\n      cy.endBatch();\n      var eles = cy.elements(\"[justAdded]\");\n      eles.removeData(\"justAdded\");\n      cy.elements().unselect();\n      eles.select();\n      return eles;\n    };\n    elementUtilities.createComplexProteinFormation = function (proteinLabels, complexLabel, regulator, orientation, reverse) {\n      var hasRegulator = regulator.name !== undefined;\n      var defaultMacromoleculeProperties = elementUtilities.getDefaultProperties(\"macromolecule\");\n      var defaultRegulatorProperties = hasRegulator ? elementUtilities.getDefaultProperties(regulator.type) : {};\n      var defaultProcessProperties = elementUtilities.getDefaultProperties(\"catalytic\");\n      var processWidth = defaultProcessProperties.width || 50;\n      var macromoleculeWidth = defaultMacromoleculeProperties.width || 50;\n      var macromoleculeHeight = defaultMacromoleculeProperties.height || 50;\n      var processHeight = defaultProcessProperties.height || 50;\n      var regulatorHeight = defaultRegulatorProperties.height || 50;\n      var processPosition = elementUtilities.convertToModelPosition({\n        x: cy.width() / 2,\n        y: cy.height() / 2\n      });\n      var edgeLength = 30;\n      var processPortsOrdering = orientation === \"vertical\" ? \"T-to-B\" : \"L-to-R\";\n      var minInfoboxDimension = 20;\n      var widthPerChar = 6;\n      var tilingPaddingVertical = 15;\n      var tilingPaddingHorizontal = 15;\n      var multimerOffset = 6;\n      cy.startBatch();\n      if (!elementUtilities.getMapType()) {\n        elementUtilities.setMapType(\"PD\");\n      }\n      var processNode = elementUtilities.addNode(processPosition.x, processPosition.y, {\n        \"class\": \"process\",\n        language: \"PD\"\n      });\n      elementUtilities.setPortsOrdering(processNode, processPortsOrdering);\n      processNode.data(\"justAdded\", true);\n      var offsetX = processWidth / 2 + edgeLength + macromoleculeWidth / 2;\n      var xPosOfProtein = reverse ? processPosition.x + offsetX : processPosition.x - offsetX;\n      var proteinCount = proteinLabels.length;\n      var macromoleculeDimension = orientation === \"vertical\" ? macromoleculeWidth : macromoleculeHeight;\n      var stepOffset = macromoleculeDimension + tilingPaddingVertical;\n      var offsetY = (proteinCount - 1) / 2 * (macromoleculeDimension + tilingPaddingVertical);\n      var horizontalOffsetX = (proteinCount - 1) / 2 * (macromoleculeDimension + tilingPaddingHorizontal);\n      var yPosOfProtein = processPosition.y - offsetY;\n      proteinLabels.forEach(function (label) {\n        var nodePosition = {\n          x: xPosOfProtein,\n          y: yPosOfProtein\n        };\n        if (orientation === \"vertical\") {\n          nodePosition = elementUtilities.rotate90(nodePosition, processPosition);\n        }\n        var node = elementUtilities.addNode(nodePosition.x, nodePosition.y, {\n          \"class\": \"macromolecule\",\n          language: \"PD\"\n        });\n        node.data(\"label\", label);\n        node.data(\"justAdded\", true);\n        yPosOfProtein += stepOffset;\n        var source = reverse ? processNode.id() : node.id();\n        var target = reverse ? node.id() : processNode.id();\n        var edgeClass = reverse ? \"production\" : \"consumption\";\n        var edge = elementUtilities.addEdge(source, target, {\n          \"class\": edgeClass,\n          language: \"PD\"\n        });\n        edge.data(\"justAdded\", true);\n      });\n      var complexPos = {\n        x: processPosition.x + (reverse ? -1 : 1) * offsetX,\n        y: processPosition.y\n      };\n      if (orientation === \"vertical\") {\n        complexPos = elementUtilities.rotate90(complexPos, processPosition);\n      }\n      var complex = elementUtilities.addNode(complexPos.x, complexPos.y, {\n        \"class\": \"complex\",\n        language: \"PD\"\n      });\n      complex.data(\"label\", complexLabel);\n      complex.data(\"justAdded\", true);\n      var source = reverse ? complex.id() : processNode.id();\n      var target = reverse ? processNode.id() : complex.id();\n      var edgeClass = reverse ? \"consumption\" : \"production\";\n      var complexEdge = elementUtilities.addEdge(source, target, {\n        \"class\": edgeClass,\n        language: \"PD\"\n      });\n      complexEdge.data(\"justAdded\", true);\n      if (orientation === \"vertical\") {\n        xPosOfProtein = complex.position(\"x\") - horizontalOffsetX;\n        yPosOfProtein = complex.position(\"y\");\n      } else {\n        xPosOfProtein = complex.position(\"x\");\n        yPosOfProtein = complex.position(\"y\") - offsetY;\n      }\n      proteinLabels.forEach(function (label) {\n        var nodePosition = {\n          x: xPosOfProtein,\n          y: yPosOfProtein\n        };\n        var node = elementUtilities.addNode(nodePosition.x, nodePosition.y, {\n          \"class\": \"macromolecule\",\n          language: \"PD\"\n        }, undefined, complex.id());\n        node.data(\"label\", label);\n        node.data(\"justAdded\", true);\n        if (orientation === \"vertical\") {\n          xPosOfProtein += stepOffset;\n        } else {\n          yPosOfProtein += stepOffset;\n        }\n      });\n      if (hasRegulator) {\n        var regulatorName = regulator.name;\n        var regulatorType = regulator.type;\n        var regulatorEdgeType = regulator.edgeType;\n        var regulatorMultimer = regulator.multimer;\n        var xPosOfRegulator = processPosition.x;\n        if (regulatorMultimer.enabled && orientation === \"horizontal\") {\n          xPosOfRegulator -= multimerOffset;\n        }\n        var yPosOfRegulator = processPosition.y - (processHeight / 2 + regulatorHeight / 2 + edgeLength);\n        nodePosition = {\n          x: xPosOfRegulator,\n          y: yPosOfRegulator\n        };\n        if (orientation === \"vertical\") {\n          nodePosition = elementUtilities.rotate90(nodePosition, processPosition);\n        }\n        var regulatorNode = elementUtilities.addNode(nodePosition.x, nodePosition.y, {\n          \"class\": regulatorType,\n          language: \"PD\"\n        });\n        regulatorNode.data(\"justAdded\", true);\n        regulatorNode.data(\"label\", regulatorName);\n        if (regulatorMultimer.enabled) {\n          elementUtilities.setMultimerStatus(regulatorNode, true);\n          var cardinality = regulatorMultimer.cardinality;\n          if (cardinality != \"\") {\n            var infoboxLabel = \"N:\" + cardinality;\n            infoboxObject = {\n              clazz: \"unit of information\",\n              label: {\n                text: infoboxLabel\n              },\n              bbox: {\n                w: infoboxLabel.length * widthPerChar,\n                h: minInfoboxDimension\n              }\n            };\n            elementUtilities.addStateOrInfoBox(regulatorNode, infoboxObject);\n          }\n        }\n        var regulatorEdge = elementUtilities.addEdge(regulatorNode.id(), processNode.id(), {\n          \"class\": regulatorEdgeType,\n          language: \"PD\"\n        });\n        regulatorEdge.data(\"justAdded\", true);\n      }\n      cy.endBatch();\n      var eles = cy.elements(\"[justAdded]\");\n      eles.removeData(\"justAdded\");\n      cy.elements().unselect();\n      eles.select();\n      return eles;\n    };\n    elementUtilities.createMultimerization = function (macromolecule, regulator, regulatorMultimer, orientation) {\n      var hasRegulator = regulator.name !== undefined;\n      var macromoleculeName = macromolecule.name;\n      var macromoleculeMultimerCardinality = macromolecule.cardinality;\n      var defaultMacromoleculeProperties = elementUtilities.getDefaultProperties(\"macromolecule\");\n      var defaultRegulatorProperties = hasRegulator ? elementUtilities.getDefaultProperties(regulator.type) : {};\n      var defaultProcessProperties = elementUtilities.getDefaultProperties(\"catalytic\");\n      var processWidth = defaultProcessProperties.width || 50;\n      var macromoleculeWidth = defaultMacromoleculeProperties.width || 50;\n      var macromoleculeHeight = defaultMacromoleculeProperties.height || 50;\n      var processHeight = defaultProcessProperties.height || 50;\n      var regulatorHeight = defaultRegulatorProperties.height || 50;\n      var processPosition = elementUtilities.convertToModelPosition({\n        x: cy.width() / 2,\n        y: cy.height() / 2\n      });\n      var edgeLength = 30;\n      var processPortsOrdering = orientation === \"vertical\" ? \"T-to-B\" : \"L-to-R\";\n      var minInfoboxDimension = 20;\n      var widthPerChar = 6;\n      var multimerOffset = 6;\n      cy.startBatch();\n      if (!elementUtilities.getMapType()) {\n        elementUtilities.setMapType(\"PD\");\n      }\n      var xPosOfInput = processPosition.x - edgeLength - processWidth / 2 - macromoleculeWidth / 2;\n      var xPosOfOutput = processPosition.x + edgeLength + processWidth / 2 + macromoleculeWidth / 2;\n      var yPosOfInput = processPosition.y;\n      var yPosOfOutput = processPosition.y;\n      var processNode = elementUtilities.addNode(processPosition.x, processPosition.y, {\n        \"class\": \"process\",\n        language: \"PD\"\n      });\n      elementUtilities.setPortsOrdering(processNode, processPortsOrdering);\n      processNode.data(\"justAdded\", true);\n      var nodePosition = {\n        x: xPosOfInput,\n        y: yPosOfInput\n      };\n      if (orientation === \"vertical\") {\n        nodePosition = elementUtilities.rotate90(nodePosition, processPosition);\n      }\n      var inputNode = elementUtilities.addNode(nodePosition.x, nodePosition.y, {\n        \"class\": \"macromolecule\",\n        language: \"PD\"\n      });\n      inputNode.data(\"justAdded\", true);\n      inputNode.data(\"label\", macromoleculeName);\n      var inputEdge = elementUtilities.addEdge(inputNode.id(), processNode.id(), {\n        \"class\": \"consumption\",\n        language: \"PD\"\n      });\n      inputEdge.data(\"justAdded\", true);\n      var cardinality = macromoleculeMultimerCardinality;\n      if (cardinality !== \"\") {\n        inputEdge.data(\"cardinality\", cardinality);\n      }\n      nodePosition = {\n        x: xPosOfOutput,\n        y: yPosOfOutput\n      };\n      if (orientation === \"vertical\") {\n        nodePosition = elementUtilities.rotate90(nodePosition, processPosition);\n      }\n      var outputNode = elementUtilities.addNode(nodePosition.x, nodePosition.y, {\n        \"class\": \"macromolecule\",\n        language: \"PD\"\n      });\n      outputNode.data(\"justAdded\", true);\n      outputNode.data(\"label\", macromoleculeName);\n      elementUtilities.setMultimerStatus(outputNode, true);\n      if (cardinality !== \"\") {\n        var infoboxLabel = \"N:\" + cardinality;\n        infoboxObject = {\n          clazz: \"unit of information\",\n          label: {\n            text: infoboxLabel\n          },\n          bbox: {\n            w: infoboxLabel.length * widthPerChar,\n            h: minInfoboxDimension\n          }\n        };\n        elementUtilities.addStateOrInfoBox(outputNode, infoboxObject);\n      }\n      var outputEdge = elementUtilities.addEdge(processNode.id(), outputNode.id(), {\n        \"class\": \"production\",\n        language: \"PD\"\n      });\n      outputEdge.data(\"justAdded\", true);\n      if (hasRegulator) {\n        var regulatorName = regulator.name;\n        var regulatorType = regulator.type;\n        var regulatorEdgeType = regulator.edgeType;\n        var xPosOfRegulator = processPosition.x;\n        if (regulatorMultimer.enabled && orientation === \"horizontal\") {\n          xPosOfRegulator -= multimerOffset;\n        }\n        var yPosOfRegulator = processPosition.y - (processHeight / 2 + regulatorHeight / 2 + edgeLength);\n        nodePosition = {\n          x: xPosOfRegulator,\n          y: yPosOfRegulator\n        };\n        if (orientation === \"vertical\") {\n          nodePosition = elementUtilities.rotate90(nodePosition, processPosition);\n        }\n        var regulatorNode = elementUtilities.addNode(nodePosition.x, nodePosition.y, {\n          \"class\": regulatorType,\n          language: \"PD\"\n        });\n        regulatorNode.data(\"justAdded\", true);\n        regulatorNode.data(\"label\", regulatorName);\n        if (regulatorMultimer.enabled) {\n          elementUtilities.setMultimerStatus(regulatorNode, true);\n          var _cardinality = regulatorMultimer.cardinality;\n          if (_cardinality != \"\") {\n            var _infoboxLabel = \"N:\" + _cardinality;\n            infoboxObject = {\n              clazz: \"unit of information\",\n              label: {\n                text: _infoboxLabel\n              },\n              bbox: {\n                w: _infoboxLabel.length * widthPerChar,\n                h: minInfoboxDimension\n              }\n            };\n            elementUtilities.addStateOrInfoBox(regulatorNode, infoboxObject);\n          }\n        }\n        var regulatorEdge = elementUtilities.addEdge(regulatorNode.id(), processNode.id(), {\n          \"class\": regulatorEdgeType,\n          language: \"PD\"\n        });\n        regulatorEdge.data(\"justAdded\", true);\n      }\n      cy.endBatch();\n      var eles = cy.elements(\"[justAdded]\");\n      eles.removeData(\"justAdded\");\n      cy.elements().unselect();\n      eles.select();\n      return eles;\n    };\n    elementUtilities.createConversion = function (macromolecule, regulator, regulatorMultimer, orientation, inputInfoboxLabels, outputInfoboxLabels) {\n      var hasRegulator = regulator.name !== undefined;\n      var macromoleculeName = macromolecule.name;\n      var macromoleculeIsMultimer = macromolecule.multimer.enabled;\n      var macromoleculeMultimerCardinality = macromolecule.multimer.cardinality;\n      var defaultMacromoleculeProperties = elementUtilities.getDefaultProperties(\"macromolecule\");\n      var defaultRegulatorProperties = hasRegulator ? elementUtilities.getDefaultProperties(regulator.type) : {};\n      var defaultProcessProperties = elementUtilities.getDefaultProperties(\"catalytic\");\n      var processWidth = defaultProcessProperties.width || 50;\n      var macromoleculeWidth = defaultMacromoleculeProperties.width || 50;\n      var macromoleculeHeight = defaultMacromoleculeProperties.height || 50;\n      var processHeight = defaultProcessProperties.height || 50;\n      var regulatorHeight = defaultRegulatorProperties.height || 50;\n      var processPosition = elementUtilities.convertToModelPosition({\n        x: cy.width() / 2,\n        y: cy.height() / 2\n      });\n      var edgeLength = 30;\n      var processPortsOrdering = orientation === \"vertical\" ? \"T-to-B\" : \"L-to-R\";\n      var minInfoboxDimension = 20;\n      var widthPerChar = 6;\n      var multimerOffset = 6;\n      cy.startBatch();\n      if (!elementUtilities.getMapType()) {\n        elementUtilities.setMapType(\"PD\");\n      }\n      var xPosOfInput = processPosition.x - edgeLength - processWidth / 2 - macromoleculeWidth / 2;\n      var xPosOfOutput = processPosition.x + edgeLength + processWidth / 2 + macromoleculeWidth / 2;\n      var yPosOfInput = processPosition.y;\n      var yPosOfOutput = processPosition.y;\n      var processNode = elementUtilities.addNode(processPosition.x, processPosition.y, {\n        \"class\": \"process\",\n        language: \"PD\"\n      });\n      elementUtilities.setPortsOrdering(processNode, processPortsOrdering);\n      processNode.data(\"justAdded\", true);\n      var nodePosition = {\n        x: xPosOfInput,\n        y: yPosOfInput\n      };\n      if (orientation === \"vertical\") {\n        nodePosition = elementUtilities.rotate90(nodePosition, processPosition);\n      }\n      var inputNode = elementUtilities.addNode(nodePosition.x, nodePosition.y, {\n        \"class\": \"macromolecule\",\n        language: \"PD\"\n      });\n      inputNode.data(\"justAdded\", true);\n      inputNode.data(\"label\", macromoleculeName);\n      if (macromoleculeIsMultimer) {\n        elementUtilities.setMultimerStatus(inputNode, true);\n        var cardinality = macromoleculeMultimerCardinality;\n        if (cardinality != \"\") {\n          var infoboxLabel = \"N:\" + cardinality;\n          infoboxObject = {\n            clazz: \"unit of information\",\n            label: {\n              text: infoboxLabel\n            },\n            bbox: {\n              w: infoboxLabel.length * widthPerChar,\n              h: minInfoboxDimension\n            }\n          };\n          elementUtilities.addStateOrInfoBox(inputNode, infoboxObject);\n        }\n      }\n      inputInfoboxLabels.forEach(function (label) {\n        var inputInfoboxWidth = label.length > 0 ? Math.max(widthPerChar * label.length, minInfoboxDimension) : minInfoboxDimension;\n        var infoboxObject = {\n          clazz: \"unit of information\",\n          label: {\n            text: label\n          },\n          bbox: {\n            w: inputInfoboxWidth,\n            h: minInfoboxDimension\n          },\n          style: {\n            \"shape-name\": \"ellipse\"\n          }\n        };\n        elementUtilities.addStateOrInfoBox(inputNode, infoboxObject);\n      });\n      var inputEdge = elementUtilities.addEdge(inputNode.id(), processNode.id(), {\n        \"class\": \"consumption\",\n        language: \"PD\"\n      });\n      inputEdge.data(\"justAdded\", true);\n      nodePosition = {\n        x: xPosOfOutput,\n        y: yPosOfOutput\n      };\n      if (orientation === \"vertical\") {\n        nodePosition = elementUtilities.rotate90(nodePosition, processPosition);\n      }\n      var outputNode = elementUtilities.addNode(nodePosition.x, nodePosition.y, {\n        \"class\": \"macromolecule\",\n        language: \"PD\"\n      });\n      outputNode.data(\"justAdded\", true);\n      outputNode.data(\"label\", macromoleculeName);\n      if (macromoleculeIsMultimer) {\n        elementUtilities.setMultimerStatus(outputNode, true);\n        var _cardinality2 = macromoleculeMultimerCardinality;\n        if (_cardinality2 != \"\") {\n          var _infoboxLabel2 = \"N:\" + _cardinality2;\n          infoboxObject = {\n            clazz: \"unit of information\",\n            label: {\n              text: _infoboxLabel2\n            },\n            bbox: {\n              w: _infoboxLabel2.length * widthPerChar,\n              h: minInfoboxDimension\n            }\n          };\n          elementUtilities.addStateOrInfoBox(outputNode, infoboxObject);\n        }\n      }\n      outputInfoboxLabels.forEach(function (label) {\n        var outputInfoboxWidth = label.length > 0 ? Math.max(widthPerChar * label.length, minInfoboxDimension) : minInfoboxDimension;\n        infoboxObject = {\n          clazz: \"unit of information\",\n          label: {\n            text: label\n          },\n          bbox: {\n            w: outputInfoboxWidth,\n            h: minInfoboxDimension\n          },\n          style: {\n            \"shape-name\": \"ellipse\"\n          }\n        };\n        elementUtilities.addStateOrInfoBox(outputNode, infoboxObject);\n      });\n      [inputNode, outputNode].forEach(function (node) {\n        var width = elementUtilities.calculateMinWidth(node);\n        elementUtilities.resizeNodes(node, width, macromoleculeHeight, false, true);\n      });\n      if (orientation === \"horizontal\") {\n        var newInputXPos = processPosition.x - edgeLength - processWidth / 2 - inputNode.data(\"bbox\").w / 2;\n        inputNode.position(\"x\", newInputXPos);\n        var newOutputXPos = processPosition.x + edgeLength + processWidth / 2 + outputNode.data(\"bbox\").w / 2;\n        outputNode.position(\"x\", newOutputXPos);\n      } else {\n        var newInputYPos = processPosition.y - edgeLength - processWidth / 2 - inputNode.data(\"bbox\").h / 2;\n        inputNode.position(\"y\", newInputYPos);\n        var newOutputYPos = processPosition.y + edgeLength + processWidth / 2 + outputNode.data(\"bbox\").h / 2;\n        outputNode.position(\"y\", newOutputYPos);\n      }\n      var outputEdge = elementUtilities.addEdge(processNode.id(), outputNode.id(), {\n        \"class\": \"production\",\n        language: \"PD\"\n      });\n      outputEdge.data(\"justAdded\", true);\n      if (hasRegulator) {\n        var regulatorName = regulator.name;\n        var regulatorType = regulator.type;\n        var xPosOfRegulator = processPosition.x;\n        if (regulatorMultimer.enabled && orientation === \"horizontal\") {\n          xPosOfRegulator -= multimerOffset;\n        }\n        var yPosOfRegulator = processPosition.y - (processHeight / 2 + regulatorHeight / 2 + edgeLength);\n        nodePosition = {\n          x: xPosOfRegulator,\n          y: yPosOfRegulator\n        };\n        if (orientation === \"vertical\") {\n          nodePosition = elementUtilities.rotate90(nodePosition, processPosition);\n        }\n        var regulatorNode = elementUtilities.addNode(nodePosition.x, nodePosition.y, {\n          \"class\": regulatorType,\n          language: \"PD\"\n        });\n        regulatorNode.data(\"justAdded\", true);\n        regulatorNode.data(\"label\", regulatorName);\n        if (regulatorMultimer.enabled) {\n          elementUtilities.setMultimerStatus(regulatorNode, true);\n          var _cardinality3 = regulatorMultimer.cardinality;\n          if (_cardinality3 != \"\") {\n            var _infoboxLabel3 = \"N:\" + _cardinality3;\n            infoboxObject = {\n              clazz: \"unit of information\",\n              label: {\n                text: _infoboxLabel3\n              },\n              bbox: {\n                w: _infoboxLabel3.length * widthPerChar,\n                h: minInfoboxDimension\n              }\n            };\n            elementUtilities.addStateOrInfoBox(regulatorNode, infoboxObject);\n          }\n        }\n        var regulatorEdge = elementUtilities.addEdge(regulatorNode.id(), processNode.id(), {\n          \"class\": \"catalysis\",\n          language: \"PD\"\n        });\n        regulatorEdge.data(\"justAdded\", true);\n      }\n      cy.endBatch();\n      var eles = cy.elements(\"[justAdded]\");\n      eles.removeData(\"justAdded\");\n      cy.elements().unselect();\n      eles.select();\n      return eles;\n    };\n    elementUtilities.createMetabolicReaction = function (inputs, outputs, reversible, regulator, regulatorMultimer, orientation) {\n      var rotate90 = function rotate90(point, center) {\n        var relativeX = center.x - point.x;\n        var relativeY = center.y - point.y;\n        var relativeRotatedX = relativeY;\n        var relativeRotatedY = -1 * relativeX;\n        var resultX = relativeRotatedX + center.x;\n        var resultY = relativeRotatedY + center.y;\n        return {\n          x: resultX,\n          y: resultY\n        };\n      };\n      var hasRegulator = regulator.name !== undefined;\n      var defaultSimpleChemicalProperties = elementUtilities.getDefaultProperties(\"simple chemical\");\n      var defaultRegulatorProperties = hasRegulator ? elementUtilities.getDefaultProperties(regulator.type) : {};\n      var defaultProcessProperties = elementUtilities.getDefaultProperties(\"catalytic\");\n      var processWidth = defaultProcessProperties.width || 50;\n      var processHeight = defaultProcessProperties.height || 50;\n      var simpleChemicalHeight = defaultSimpleChemicalProperties.height || 35;\n      var simpleChemicalWidth = defaultSimpleChemicalProperties.width || 35;\n      var regulatorHeight = defaultRegulatorProperties.height || 50;\n      var processPosition = elementUtilities.convertToModelPosition({\n        x: cy.width() / 2,\n        y: cy.height() / 2\n      });\n      var tilingPaddingVertical = 15;\n      var edgeLength = 30;\n      var processLeftSideEdgeType = reversible ? \"production\" : \"consumption\";\n      var processRightSideEdgeType = \"production\";\n      var processPortsOrdering = orientation === \"vertical\" ? \"T-to-B\" : \"L-to-R\";\n      var multimerOffset = 6;\n      cy.startBatch();\n      if (!elementUtilities.getMapType()) {\n        elementUtilities.setMapType(\"PD\");\n      }\n      var xPosOfInput = processPosition.x - edgeLength - processWidth / 2 - simpleChemicalWidth / 2;\n      var xPosOfOutput = processPosition.x + edgeLength + processWidth / 2 + simpleChemicalWidth / 2;\n      var processNode = elementUtilities.addNode(processPosition.x, processPosition.y, {\n        \"class\": \"process\",\n        language: \"PD\"\n      });\n      elementUtilities.setPortsOrdering(processNode, processPortsOrdering);\n      processNode.data(\"justAdded\", true);\n      var numOfInputNodes = inputs.length;\n      var numOfOutputNodes = outputs.length;\n      var yPosOfInput = processPosition.y - (numOfInputNodes - 1) / 2 * (simpleChemicalHeight + tilingPaddingVertical);\n      inputs.forEach(function (data, index) {\n        var nodeName = data.name;\n        var nodeType = data.type;\n        if (index === 0) {\n          yPosOfInput = processPosition.y;\n        } else if (index % 2 === 1) {\n          yPosOfInput = processPosition.y - (simpleChemicalHeight + tilingPaddingVertical) * Math.ceil(index / 2);\n        } else {\n          yPosOfInput = processPosition.y + (simpleChemicalHeight + tilingPaddingVertical) * (index / 2);\n        }\n        var nodePosition = {\n          x: xPosOfInput,\n          y: yPosOfInput\n        };\n        if (orientation === \"vertical\") {\n          nodePosition = rotate90(nodePosition, processPosition);\n        }\n        var newNode = elementUtilities.addNode(nodePosition.x, nodePosition.y, {\n          \"class\": nodeType.toLowerCase(),\n          language: \"PD\"\n        });\n        newNode.data(\"justAdded\", true);\n        newNode.data(\"label\", nodeName);\n        var newEdge;\n        if (reversible) {\n          newEdge = elementUtilities.addEdge(processNode.id(), newNode.id(), {\n            \"class\": processLeftSideEdgeType,\n            language: \"PD\"\n          }, undefined, undefined, 1);\n        } else {\n          newEdge = elementUtilities.addEdge(newNode.id(), processNode.id(), {\n            \"class\": processLeftSideEdgeType,\n            language: \"PD\"\n          });\n        }\n        newEdge.data(\"justAdded\", true);\n      });\n      var yPosOfOutput = processPosition.y - (numOfOutputNodes - 1) / 2 * (simpleChemicalHeight + tilingPaddingVertical);\n      outputs.forEach(function (data, index) {\n        var nodeName = data.name;\n        var nodeType = data.type;\n        if (index === 0) {\n          yPosOfOutput = processPosition.y;\n        } else if (index % 2 === 1) {\n          yPosOfOutput = processPosition.y - (simpleChemicalHeight + tilingPaddingVertical) * Math.ceil(index / 2);\n        } else {\n          yPosOfOutput = processPosition.y + (simpleChemicalHeight + tilingPaddingVertical) * (index / 2);\n        }\n        var nodePosition = {\n          x: xPosOfOutput,\n          y: yPosOfOutput\n        };\n        if (orientation === \"vertical\") {\n          nodePosition = rotate90(nodePosition, processPosition);\n        }\n        var newNode = elementUtilities.addNode(nodePosition.x, nodePosition.y, {\n          \"class\": nodeType.toLowerCase(),\n          language: \"PD\"\n        });\n        newNode.data(\"justAdded\", true);\n        newNode.data(\"label\", nodeName);\n        var newEdge = elementUtilities.addEdge(processNode.id(), newNode.id(), {\n          \"class\": processRightSideEdgeType,\n          language: \"PD\"\n        }, undefined, undefined, 0);\n        newEdge.data(\"justAdded\", true);\n      });\n\n      // add regulator node\n      if (hasRegulator) {\n        var regulatorName = regulator.name;\n        var regulatorType = regulator.type;\n        var xPosOfRegulator = processPosition.x;\n        if (regulatorMultimer.enabled && orientation === \"horizontal\") {\n          xPosOfRegulator -= multimerOffset;\n        }\n        var yPosOfRegulator = processPosition.y - (processHeight / 2 + regulatorHeight / 2 + edgeLength);\n        var _nodePosition = {\n          x: xPosOfRegulator,\n          y: yPosOfRegulator\n        };\n        if (orientation === \"vertical\") {\n          _nodePosition = rotate90(_nodePosition, processPosition);\n        }\n        var regulatorNode = elementUtilities.addNode(_nodePosition.x, _nodePosition.y, {\n          \"class\": regulatorType,\n          language: \"PD\"\n        });\n        regulatorNode.data(\"justAdded\", true);\n        regulatorNode.data(\"label\", regulatorName);\n        if (regulatorMultimer.enabled) {\n          elementUtilities.setMultimerStatus(regulatorNode, true);\n          var cardinality = regulatorMultimer.cardinality;\n          if (cardinality != \"\") {\n            var infoboxLabel = \"N:\" + cardinality;\n            infoboxObject = {\n              clazz: \"unit of information\",\n              label: {\n                text: infoboxLabel\n              },\n              bbox: {\n                w: infoboxLabel.length * 6,\n                h: 15\n              }\n            };\n            elementUtilities.addStateOrInfoBox(regulatorNode, infoboxObject);\n          }\n        }\n        var regulatorEdge = elementUtilities.addEdge(regulatorNode.id(), processNode.id(), {\n          \"class\": \"catalysis\",\n          language: \"PD\"\n        });\n        regulatorEdge.data(\"justAdded\", true);\n      }\n      cy.endBatch();\n      var eles = cy.elements(\"[justAdded]\");\n      eles.removeData(\"justAdded\");\n      cy.elements().unselect();\n      eles.select();\n      return eles;\n    };\n    elementUtilities.createMetabolicCatalyticActivity = function (inputNodeList, outputNodeList, catalystName, catalystType, processPosition, tilingPaddingVertical, tilingPaddingHorizontal, edgeLength) {\n      var defaultMacromoleculProperties = elementUtilities.getDefaultProperties(\"macromolecule\");\n      var defaultSimpleChemicalProperties = elementUtilities.getDefaultProperties(\"simple chemical\");\n      var defaultCatalystTypeProperties = elementUtilities.getDefaultProperties(catalystType);\n      var defaultProcessProperties = elementUtilities.getDefaultProperties(\"catalytic\");\n      var processWidth = defaultProcessProperties.width || 50;\n      var processHeight = defaultProcessProperties.height || 50;\n      var simpleChemicalHeight = defaultSimpleChemicalProperties.height || 35;\n      var macromoleculeWidth = defaultMacromoleculProperties.width || 50;\n      var macromoleculeHeight = defaultMacromoleculProperties.height || 50;\n      var catalystHeight = defaultCatalystTypeProperties.height || 50;\n      var processPosition = processPosition || elementUtilities.convertToModelPosition({\n        x: cy.width() / 2,\n        y: cy.height() / 2\n      });\n      var tilingPaddingVertical = tilingPaddingVertical || 15;\n      var tilingPaddingHorizontal = tilingPaddingHorizontal || 15;\n      var edgeLength = edgeLength || 60;\n      cy.startBatch();\n      if (!elementUtilities.getMapType()) {\n        elementUtilities.setMapType(\"PD\");\n      }\n      var xPosOfInput = processPosition.x - edgeLength - processWidth / 2 - macromoleculeWidth / 2;\n      var xPosOfOutput = processPosition.x + edgeLength + processWidth / 2 + macromoleculeWidth / 2;\n      var processNode = elementUtilities.addNode(processPosition.x, processPosition.y, {\n        \"class\": \"process\",\n        language: \"PD\"\n      });\n      elementUtilities.setPortsOrdering(processNode, \"L-to-R\");\n      processNode.data(\"justAdded\", true);\n      var numOfInputNodes = inputNodeList.length;\n      var numOfOutputNodes = outputNodeList.length;\n      var yPosOfInput = processPosition.y - (numOfInputNodes - 1) / 2 * (macromoleculeHeight + tilingPaddingVertical);\n\n      // add input side nodes\n      for (var i = 0; i < numOfInputNodes; i++) {\n        if (inputNodeList[i].type == \"Simple Chemical\") {\n          var newNode = elementUtilities.addNode(xPosOfInput, yPosOfInput, {\n            \"class\": \"simple chemical\",\n            language: \"PD\"\n          });\n          yPosOfInput += simpleChemicalHeight + tilingPaddingVertical;\n        } else {\n          var newNode = elementUtilities.addNode(xPosOfInput, yPosOfInput, {\n            \"class\": \"macromolecule\",\n            language: \"PD\"\n          });\n          //update the y position\n          yPosOfInput += macromoleculeHeight + tilingPaddingVertical;\n        }\n        newNode.data(\"justAdded\", true);\n        newNode.data(\"label\", inputNodeList[i].name);\n        var newEdge = elementUtilities.addEdge(newNode.id(), processNode.id(), {\n          \"class\": \"consumption\",\n          language: \"PD\"\n        });\n        newEdge.data(\"justAdded\", true);\n      }\n      var yPosOfOutput = processPosition.y - (numOfOutputNodes - 1) / 2 * (macromoleculeHeight + tilingPaddingVertical);\n\n      // add output side nodes\n      for (var i = 0; i < numOfOutputNodes; i++) {\n        if (outputNodeList[i].type == \"Simple Chemical\") {\n          var newNode = elementUtilities.addNode(xPosOfOutput, yPosOfOutput, {\n            \"class\": \"simple chemical\",\n            language: \"PD\"\n          });\n          yPosOfOutput += simpleChemicalHeight + tilingPaddingVertical;\n        } else {\n          var newNode = elementUtilities.addNode(xPosOfOutput, yPosOfOutput, {\n            \"class\": \"macromolecule\",\n            language: \"PD\"\n          });\n          //update the y position\n          yPosOfOutput += macromoleculeHeight + tilingPaddingVertical;\n        }\n        newNode.data(\"justAdded\", true);\n        newNode.data(\"label\", outputNodeList[i].name);\n        var newEdge = elementUtilities.addEdge(processNode.id(), newNode.id(), {\n          \"class\": \"production\",\n          language: \"PD\"\n        });\n        newEdge.data(\"justAdded\", true);\n      }\n\n      // add catalyst node\n      var xPosOfCatalyst = processPosition.x;\n      var yPosOfCatalyst = processPosition.y - (processHeight + catalystHeight + tilingPaddingVertical);\n      var catalystNode = elementUtilities.addNode(xPosOfCatalyst, yPosOfCatalyst, {\n        \"class\": catalystType,\n        language: \"PD\"\n      });\n      catalystNode.data(\"justAdded\", true);\n      catalystNode.data(\"label\", catalystName);\n      var catalystEdge = elementUtilities.addEdge(catalystNode.id(), processNode.id(), {\n        \"class\": \"catalysis\",\n        language: \"PD\"\n      });\n      catalystEdge.data(\"justAdded\", true);\n      cy.endBatch();\n\n      //filter the just added elememts to return them and remove just added mark\n      var eles = cy.elements(\"[justAdded]\");\n      eles.removeData(\"justAdded\");\n      cy.elements().unselect();\n      eles.select();\n      return eles; // Return the just added elements\n    };\n    elementUtilities.createActivationReaction = function (proteinName, processPosition, edgeLength, reverse) {\n      var defaultMacromoleculProperties = elementUtilities.getDefaultProperties(\"macromolecule\");\n      var defaultProcessProperties = elementUtilities.getDefaultProperties(\"activation\");\n      var processWidth = defaultProcessProperties.width || 50;\n      var macromoleculeWidth = defaultMacromoleculProperties.width || 50;\n      var processPosition = processPosition || elementUtilities.convertToModelPosition({\n        x: cy.width() / 2,\n        y: cy.height() / 2\n      });\n      var edgeLength = edgeLength || 60;\n      cy.startBatch();\n      if (!elementUtilities.getMapType()) {\n        elementUtilities.setMapType(\"PD\");\n      }\n      var xPosOfInput = processPosition.x - edgeLength - processWidth / 2 - macromoleculeWidth / 2;\n      var xPosOfOutput = processPosition.x + edgeLength + processWidth / 2 + macromoleculeWidth / 2;\n      var processNode = elementUtilities.addNode(processPosition.x, processPosition.y, {\n        \"class\": \"process\",\n        language: \"PD\"\n      });\n      elementUtilities.setPortsOrdering(processNode, \"L-to-R\");\n      processNode.data(\"justAdded\", true);\n      var yPosition = processPosition.y;\n      var inputNode = elementUtilities.addNode(xPosOfInput, yPosition, {\n        \"class\": \"macromolecule\",\n        language: \"PD\"\n      });\n      inputNode.data(\"justAdded\", true);\n      inputNode.data(\"label\", proteinName);\n      var infoboxObject = {\n        clazz: \"unit of information\",\n        label: {\n          text: reverse ? \"active\" : \"inactive\"\n        },\n        style: {\n          \"shape-name\": \"ellipse\"\n        },\n        bbox: {\n          w: 36,\n          h: 15\n        }\n      };\n      elementUtilities.addStateOrInfoBox(inputNode, infoboxObject);\n      var outputNode = elementUtilities.addNode(xPosOfOutput, yPosition, {\n        \"class\": \"macromolecule\",\n        language: \"PD\"\n      });\n      outputNode.data(\"justAdded\", true);\n      outputNode.data(\"label\", proteinName);\n      infoboxObject = {\n        clazz: \"unit of information\",\n        label: {\n          text: reverse ? \"inactive\" : \"active\"\n        },\n        style: {\n          \"shape-name\": \"ellipse\"\n        },\n        bbox: {\n          w: 36,\n          h: 15\n        }\n      };\n      elementUtilities.addStateOrInfoBox(outputNode, infoboxObject);\n      var inputSideEdge = elementUtilities.addEdge(inputNode.id(), processNode.id(), {\n        \"class\": \"consumption\",\n        language: \"PD\"\n      });\n      inputSideEdge.data(\"justAdded\", true);\n      var outputSideEdge = elementUtilities.addEdge(processNode.id(), outputNode.id(), {\n        \"class\": \"production\",\n        language: \"PD\"\n      });\n      outputSideEdge.data(\"justAdded\", true);\n      cy.endBatch();\n\n      //filter the just added elememts to return them and remove just added mark\n      var eles = cy.elements(\"[justAdded]\");\n      eles.removeData(\"justAdded\");\n      cy.elements().unselect();\n      eles.select();\n      return eles; // Return the just added elements\n    };\n\n    /*\r\n     * Creates a template reaction with given parameters. Requires cose-bilkent layout to tile the free macromolecules included\r\n     * in the complex. Parameters are explained below.\r\n     * templateType: The type of the template reaction. It may be 'association', 'dissociation', 'reversible' or 'irreversible'.\r\n     * nodeList: The list of the names and types of molecules which will involve in the reaction.\r\n     * complexName: The name of the complex in the reaction.\r\n     * processPosition: The modal position of the process in the reaction. The default value is the center of the canvas.\r\n     * tilingPaddingVertical: This option will be passed to the cose-bilkent layout with the same name. The default value is 15.\r\n     * tilingPaddingHorizontal: This option will be passed to the cose-bilkent layout with the same name. The default value is 15.\r\n     * edgeLength: The distance between the process and the macromolecules at the both sides.\r\n     */\n    elementUtilities.createTemplateReaction = function (templateType, nodeList, complexName, processPosition, tilingPaddingVertical, tilingPaddingHorizontal, edgeLength, layoutParam) {\n      var defaultMacromoleculProperties = elementUtilities.getDefaultProperties(\"macromolecule\");\n      var defaultSimpleChemicalProperties = elementUtilities.getDefaultProperties(\"simple chemical\");\n      var defaultProcessProperties = elementUtilities.getDefaultProperties(templateType);\n      var processWidth = defaultProcessProperties.width || 50;\n      var macromoleculeWidth = defaultMacromoleculProperties.width || 50;\n      var macromoleculeHeight = defaultMacromoleculProperties.height || 50;\n      var simpleChemicalWidth = defaultSimpleChemicalProperties.width || 35;\n      var simpleChemicalHeight = defaultSimpleChemicalProperties.height || 35;\n      var processPosition = processPosition || elementUtilities.convertToModelPosition({\n        x: cy.width() / 2,\n        y: cy.height() / 2\n      });\n      var nodeList = nodeList;\n      var complexName = complexName;\n      var numOfMolecules = nodeList.length;\n      var tilingPaddingVertical = tilingPaddingVertical || 15;\n      var tilingPaddingHorizontal = tilingPaddingHorizontal || 15;\n      var edgeLength = edgeLength || 60;\n      cy.startBatch();\n      if (!elementUtilities.getMapType()) {\n        elementUtilities.setMapType(\"PD\");\n      }\n      var xPositionOfFreeMacromolecules;\n      var xPositionOfInputMacromolecules;\n      if (templateType === \"association\") {\n        xPositionOfFreeMacromolecules = processPosition.x - edgeLength - processWidth / 2 - macromoleculeWidth / 2;\n      } else if (templateType === \"dissociation\") {\n        xPositionOfFreeMacromolecules = processPosition.x + edgeLength + processWidth / 2 + macromoleculeWidth / 2;\n      } else {\n        xPositionOfFreeMacromolecules = processPosition.x - edgeLength - processWidth / 2 - macromoleculeWidth / 2;\n        xPositionOfInputMacromolecules = processPosition.x + edgeLength + processWidth / 2 + macromoleculeWidth / 2;\n      }\n\n      //Create the process in template type\n      var process;\n      if (templateType === \"reversible\" || templateType === \"irreversible\") {\n        process = elementUtilities.addNode(processPosition.x, processPosition.y, {\n          \"class\": \"process\",\n          language: \"PD\"\n        });\n        elementUtilities.setPortsOrdering(process, \"L-to-R\");\n      } else {\n        process = elementUtilities.addNode(processPosition.x, processPosition.y, {\n          \"class\": templateType,\n          language: \"PD\"\n        });\n        elementUtilities.setPortsOrdering(process, \"L-to-R\");\n      }\n      process.data(\"justAdded\", true);\n\n      //Define the starting y position\n      var yPosition = processPosition.y - (numOfMolecules - 1) / 2 * (macromoleculeHeight + tilingPaddingVertical);\n\n      //Create the free molecules\n      for (var i = 0; i < numOfMolecules; i++) {\n        // node addition operation is determined by molecule type\n        if (nodeList[i].type == \"Simple Chemical\") {\n          var newNode = elementUtilities.addNode(xPositionOfFreeMacromolecules, yPosition, {\n            \"class\": \"simple chemical\",\n            language: \"PD\"\n          });\n          //update the y position\n          yPosition += simpleChemicalHeight + tilingPaddingVertical;\n        } else {\n          var newNode = elementUtilities.addNode(xPositionOfFreeMacromolecules, yPosition, {\n            \"class\": \"macromolecule\",\n            language: \"PD\"\n          });\n          //update the y position\n          yPosition += macromoleculeHeight + tilingPaddingVertical;\n        }\n        newNode.data(\"justAdded\", true);\n        newNode.data(\"label\", nodeList[i].name);\n\n        //create the edge connected to the new molecule\n        var newEdge;\n        if (templateType === \"association\") {\n          newEdge = elementUtilities.addEdge(newNode.id(), process.id(), {\n            \"class\": \"consumption\",\n            language: \"PD\"\n          });\n        } else if (templateType === \"dissociation\") {\n          newEdge = elementUtilities.addEdge(process.id(), newNode.id(), {\n            \"class\": \"production\",\n            language: \"PD\"\n          });\n        } else {\n          //Group right or top elements in group id 1\n          if (templateType === \"irreversible\") {\n            newEdge = elementUtilities.addEdge(newNode.id(), process.id(), {\n              \"class\": \"consumption\",\n              language: \"PD\"\n            });\n          } else {\n            newEdge = elementUtilities.addEdge(process.id(), newNode.id(), {\n              \"class\": \"production\",\n              language: \"PD\"\n            }, undefined, undefined, 1);\n          }\n        }\n        newEdge.data(\"justAdded\", true);\n      }\n      if (templateType === \"association\" || templateType == \"dissociation\") {\n        //Create the complex including macromolecules inside of it\n        //Temprorarily add it to the process position we will move it according to the last size of it\n        var complex = elementUtilities.addNode(processPosition.x, processPosition.y, {\n          \"class\": \"complex\",\n          language: \"PD\"\n        });\n        complex.data(\"justAdded\", true);\n        complex.data(\"justAddedLayoutNode\", true);\n\n        //If a name is specified for the complex set its label accordingly\n        if (complexName) {\n          complex.data(\"label\", complexName);\n        }\n\n        //create the edge connnected to the complex\n        var edgeOfComplex;\n        if (templateType === \"association\") {\n          edgeOfComplex = elementUtilities.addEdge(process.id(), complex.id(), {\n            \"class\": \"production\",\n            language: \"PD\"\n          });\n        } else {\n          edgeOfComplex = elementUtilities.addEdge(complex.id(), process.id(), {\n            \"class\": \"consumption\",\n            language: \"PD\"\n          });\n        }\n        edgeOfComplex.data(\"justAdded\", true);\n        for (var i = 0; i < numOfMolecules; i++) {\n          // Add a molecule(dependent on it's type) not having a previously defined id and having the complex created in this reaction as parent\n          if (nodeList[i].type == \"Simple Chemical\") {\n            var newNode = elementUtilities.addNode(complex.position(\"x\"), complex.position(\"y\"), {\n              \"class\": \"simple chemical\",\n              language: \"PD\"\n            }, undefined, complex.id());\n          } else {\n            var newNode = elementUtilities.addNode(complex.position(\"x\"), complex.position(\"y\"), {\n              \"class\": \"macromolecule\",\n              language: \"PD\"\n            }, undefined, complex.id());\n          }\n          newNode.data(\"justAdded\", true);\n          newNode.data(\"label\", nodeList[i].name);\n          newNode.data(\"justAddedLayoutNode\", true);\n        }\n      } else {\n        //Create the input macromolecules\n        var numOfInputMacromolecules = complexName.length;\n        yPosition = processPosition.y - (numOfInputMacromolecules - 1) / 2 * (macromoleculeHeight + tilingPaddingVertical);\n        for (var i = 0; i < numOfInputMacromolecules; i++) {\n          if (complexName[i].type == \"Simple Chemical\") {\n            var newNode = elementUtilities.addNode(xPositionOfInputMacromolecules, yPosition, {\n              \"class\": \"simple chemical\",\n              language: \"PD\"\n            });\n            yPosition += simpleChemicalHeight + tilingPaddingVertical;\n          } else {\n            var newNode = elementUtilities.addNode(xPositionOfInputMacromolecules, yPosition, {\n              \"class\": \"macromolecule\",\n              language: \"PD\"\n            });\n            yPosition += macromoleculeHeight + tilingPaddingVertical;\n          }\n          newNode.data(\"justAdded\", true);\n          newNode.data(\"label\", complexName[i].name);\n\n          //create the edge connected to the new macromolecule\n          var newEdge;\n\n          //Group the left or bottom elements in group id 0 if reversible\n          if (templateType === \"irreversible\") {\n            newEdge = elementUtilities.addEdge(process.id(), newNode.id(), {\n              \"class\": \"production\",\n              language: \"PD\"\n            });\n          } else {\n            newEdge = elementUtilities.addEdge(process.id(), newNode.id(), {\n              \"class\": \"production\",\n              language: \"PD\"\n            }, undefined, undefined, 0);\n          }\n          newEdge.data(\"justAdded\", true);\n        }\n      }\n      cy.endBatch();\n      var layoutNodes = cy.nodes(\"[justAddedLayoutNode]\");\n      layoutNodes.removeData(\"justAddedLayoutNode\");\n      var layout = layoutNodes.layout({\n        name: layoutParam.name,\n        randomize: false,\n        fit: false,\n        animate: false,\n        tilingPaddingVertical: tilingPaddingVertical,\n        tilingPaddingHorizontal: tilingPaddingHorizontal,\n        stop: function stop() {\n          //If it is a reversible reaction no need to re-position complexes\n          if (templateType === \"reversible\") return;\n          //re-position the nodes inside the complex\n          var supposedXPosition;\n          var supposedYPosition = processPosition.y;\n          if (templateType === \"association\") {\n            supposedXPosition = processPosition.x + edgeLength + processWidth / 2 + complex.outerWidth() / 2;\n          } else {\n            supposedXPosition = processPosition.x - edgeLength - processWidth / 2 - complex.outerWidth() / 2;\n          }\n          var positionDiffX = (supposedXPosition - complex.position(\"x\")) / 2;\n          var positionDiffY = (supposedYPosition - complex.position(\"y\")) / 2;\n          elementUtilities.moveNodes({\n            x: positionDiffX,\n            y: positionDiffY\n          }, complex);\n        }\n      });\n\n      // Do this check for cytoscape.js backward compatibility\n      if (layout && layout.run && templateType !== \"reversible\" && templateType !== \"irreversible\") {\n        layout.run();\n      }\n\n      //filter the just added elememts to return them and remove just added mark\n      var eles = cy.elements(\"[justAdded]\");\n      eles.removeData(\"justAdded\");\n      cy.elements().unselect();\n      eles.select();\n      return eles; // Return the just added elements\n    };\n\n    /*\r\n     * Move the nodes to a new parent and change their position if possDiff params are set.\r\n     */\n    elementUtilities.changeParent = function (nodes, newParent, posDiffX, posDiffY) {\n      var newParentId = newParent == undefined || typeof newParent === \"string\" ? newParent : newParent.id();\n      var movedEles = nodes.move({\n        parent: newParentId\n      });\n      if (typeof posDiffX != \"undefined\" || typeof posDiffY != \"undefined\") {\n        elementUtilities.moveNodes({\n          x: posDiffX,\n          y: posDiffY\n        }, nodes);\n      }\n      elementUtilities.maintainPointer(movedEles);\n      return movedEles;\n    };\n    elementUtilities.updateInfoboxStyle = function (node, index, newProps) {\n      var infoboxObj = node.data(\"statesandinfos\")[index];\n      $.extend(infoboxObj.style, newProps);\n      cy.style().update();\n    };\n    elementUtilities.updateInfoboxObj = function (node, index, newProps) {\n      var infoboxObj = node.data(\"statesandinfos\")[index];\n      $.extend(infoboxObj, newProps);\n    };\n\n    // Resize given nodes if useAspectRatio is truthy one of width or height should not be set.\n    elementUtilities.resizeNodes = function (nodes, width, height, useAspectRatio, preserveRelativePos) {\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        var ratio = undefined;\n        var eleMustBeSquare = elementUtilities.mustBeSquare(node.data(\"class\"));\n        if (preserveRelativePos === true) {\n          var oldWidth = node.data(\"bbox\").w;\n          var oldHeight = node.data(\"bbox\").h;\n        }\n\n        // Note that both width and height should not be set if useAspectRatio is truthy\n        if (!node.isParent()) {\n          if (width) {\n            if (useAspectRatio || eleMustBeSquare) {\n              ratio = width / node.width();\n            }\n            node.data(\"bbox\").w = width;\n          }\n          if (height) {\n            if (useAspectRatio || eleMustBeSquare) {\n              ratio = height / node.height();\n            }\n            node.data(\"bbox\").h = height;\n          }\n          if (ratio && !height) {\n            node.data(\"bbox\").h = node.height() * ratio;\n          } else if (ratio && !width) {\n            node.data(\"bbox\").w = node.width() * ratio;\n          }\n        } else {\n          node.data(\"minHeight\", \"\" + height);\n          node.data(\"minWidth\", \"\" + width);\n          node.data(\"minWidthBiasLeft\", \"50%\");\n          node.data(\"minWidthBiasRight\", \"50%\");\n          node.data(\"minHeightBiasTop\", \"50%\");\n          node.data(\"minHeightBiasBottom\", \"50%\");\n        }\n\n        /*    if (preserveRelativePos === true) {\r\n          var statesandinfos = node.data('statesandinfos');\r\n          var topBottom = statesandinfos.filter(box => (box.anchorSide === \"top\" || box.anchorSide === \"bottom\"));\r\n          var rightLeft = statesandinfos.filter(box => (box.anchorSide === \"right\" || box.anchorSide === \"left\"));\r\n            topBottom.forEach(function(box){\r\n            if (box.bbox.x < 0) {\r\n              box.bbox.x = 0;\r\n            }\r\n            else if (box.bbox.x > oldWidth) {\r\n              box.bbox.x = oldWidth;\r\n            }\r\n            box.bbox.x = node.data(\"bbox\").w * box.bbox.x / oldWidth;\r\n          });\r\n            rightLeft.forEach(function(box){\r\n            if (box.bbox.y < 0) {\r\n              box.bbox.y = 0;\r\n            }\r\n            else if (box.bbox.y > oldHeight) {\r\n              box.bbox.y = oldHeight;\r\n            }\r\n            box.bbox.y = node.data(\"bbox\").h * box.bbox.y / oldHeight;\r\n          });\r\n        } */\n      }\n    };\n    elementUtilities.calculateMinWidth = function (node) {\n      var defaultWidth = this.getDefaultProperties(node.data(\"class\")).width;\n\n      // Label width calculation\n      var style = node.style();\n      var fontFamiliy = style[\"font-family\"];\n      var fontSize = style[\"font-size\"];\n      var labelText = style[\"label\"];\n      if (labelText === \"\" && node.data(\"label\") && node.data(\"label\") !== \"\") {\n        labelText = node.data(\"label\");\n      }\n      var labelWidth = elementUtilities.getWidthByContent(labelText, fontFamiliy, fontSize);\n      var statesandinfos = node.data(\"statesandinfos\");\n      //Top and bottom infoBoxes\n      //var topInfoBoxes = statesandinfos.filter(box => (box.anchorSide === \"top\" || ((box.anchorSide === \"right\" || box.anchorSide === \"left\") && (box.bbox.y <= 12))));\n      //var bottomInfoBoxes = statesandinfos.filter(box => (box.anchorSide === \"bottom\" || ((box.anchorSide === \"right\" || box.anchorSide === \"left\") && (box.bbox.y >= node.data('bbox').h - 12))));\n      var unitGap = 5;\n      var topIdealWidth = unitGap;\n      var bottomIdealWidth = unitGap;\n      var rightMaxWidth = 0;\n      var leftMaxWidth = 0;\n      statesandinfos.forEach(function (box) {\n        if (box.anchorSide === \"top\") {\n          topIdealWidth += box.bbox.w + unitGap;\n        } else if (box.anchorSide === \"bottom\") {\n          bottomIdealWidth += box.bbox.w + unitGap;\n        } else if (box.anchorSide === \"right\") {\n          rightMaxWidth = box.bbox.w > rightMaxWidth ? box.bbox.w : rightMaxWidth;\n        } else {\n          leftMaxWidth = box.bbox.w > leftMaxWidth ? box.bbox.w : leftMaxWidth;\n        }\n      });\n      var middleWidth = labelWidth + 2 * Math.max(rightMaxWidth / 2, leftMaxWidth / 2);\n      var compoundWidth = 0;\n      if (node.isParent()) {\n        compoundWidth = node.children().boundingBox().w;\n      }\n      return Math.max(middleWidth, defaultWidth / 2, topIdealWidth, bottomIdealWidth, compoundWidth);\n    };\n    elementUtilities.calculateMinHeight = function (node) {\n      var statesandinfos = node.data(\"statesandinfos\");\n      var margin = 7;\n      var unitGap = 5;\n      var defaultHeight = this.getDefaultProperties(node.data(\"class\")).height;\n      var leftInfoBoxes = statesandinfos.filter(function (box) {\n        return box.anchorSide === \"left\";\n      });\n      var leftHeight = unitGap;\n      leftInfoBoxes.forEach(function (box) {\n        leftHeight += box.bbox.h + unitGap;\n      });\n      var rightInfoBoxes = statesandinfos.filter(function (box) {\n        return box.anchorSide === \"right\";\n      });\n      var rightHeight = unitGap;\n      rightInfoBoxes.forEach(function (box) {\n        rightHeight += box.bbox.h + unitGap;\n      });\n      var style = node.style();\n      var labelText = style[\"label\"].split(\"\\n\").filter(function (text) {\n        return text !== \"\";\n      });\n      var fontSize = parseFloat(style[\"font-size\"].substring(0, style[\"font-size\"].length - 2));\n      var totalHeight = labelText.length * fontSize + 2 * margin;\n      var compoundHeight = 0;\n      if (node.isParent()) {\n        compoundHeight = node.children().boundingBox().h;\n      }\n      return Math.max(totalHeight, defaultHeight / 2, leftHeight, rightHeight, compoundHeight);\n    };\n    elementUtilities.isResizedToContent = function (node) {\n      if (!node || !node.isNode() || !node.data(\"bbox\")) {\n        return false;\n      }\n\n      //var w = node.data('bbox').w;\n      //var h = node.data('bbox').h;\n      var w = node.width();\n      var h = node.height();\n      var minW = elementUtilities.calculateMinWidth(node);\n      var minH = elementUtilities.calculateMinHeight(node);\n      if (w === minW && h === minH) return true;else return false;\n    };\n\n    // Section End\n    // Add remove utilities\n\n    // Relocates state and info boxes. This function is expected to be called after add/remove state and info boxes\n    elementUtilities.relocateStateAndInfos = function (ele) {\n      var stateAndInfos = ele.isNode && ele.isNode() ? ele.data(\"statesandinfos\") : ele;\n      var length = stateAndInfos.length;\n      if (length == 0) {\n        return;\n      } else if (length == 1) {\n        stateAndInfos[0].bbox.x = 0;\n        stateAndInfos[0].bbox.y = -50;\n      } else if (length == 2) {\n        stateAndInfos[0].bbox.x = 0;\n        stateAndInfos[0].bbox.y = -50;\n        stateAndInfos[1].bbox.x = 0;\n        stateAndInfos[1].bbox.y = 50;\n      } else if (length == 3) {\n        stateAndInfos[0].bbox.x = -25;\n        stateAndInfos[0].bbox.y = -50;\n        stateAndInfos[1].bbox.x = 25;\n        stateAndInfos[1].bbox.y = -50;\n        stateAndInfos[2].bbox.x = 0;\n        stateAndInfos[2].bbox.y = 50;\n      } else {\n        stateAndInfos[0].bbox.x = -25;\n        stateAndInfos[0].bbox.y = -50;\n        stateAndInfos[1].bbox.x = 25;\n        stateAndInfos[1].bbox.y = -50;\n        stateAndInfos[2].bbox.x = -25;\n        stateAndInfos[2].bbox.y = 50;\n        stateAndInfos[3].bbox.x = 25;\n        stateAndInfos[3].bbox.y = 50;\n      }\n    };\n\n    // Change state value or unit of information box of given nodes with given index.\n    // Type parameter indicates whether to change value or variable, it is valid if the box at the given index is a state variable.\n    // Value parameter is the new value to set.\n    // This method returns the old value of the changed data (We assume that the old value of the changed data was the same for all nodes).\n    // Each character assumed to occupy 8 unit\n    // Each infobox can have at most 32 units of width\n    elementUtilities.changeStateOrInfoBox = function (nodes, index, value, type) {\n      var result;\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        var sbgnclass = node.data(\"class\");\n        var stateAndInfos = node.data(\"statesandinfos\");\n        var box = stateAndInfos[index];\n        var oldLength = box.bbox.w;\n        var newLength = 0;\n        var content = \"\";\n        if (box.clazz == \"state variable\") {\n          if (!result) {\n            result = box.state[type];\n          }\n          box.state[type] = value;\n          if (box.state[\"value\"] !== undefined) {\n            content += box.state[\"value\"];\n          }\n          if (box.state[\"variable\"] !== undefined && box.state[\"variable\"].length > 0) {\n            content += box.state[\"variable\"] + \"@\";\n          }\n        } else if (box.clazz == \"unit of information\") {\n          if (!result) {\n            result = box.label.text;\n          }\n          content += value;\n          box.label.text = value;\n        } else if (box.clazz == \"residue variable\") {\n          if (!result) {\n            result = box.residue[type];\n          }\n          box.residue[type] = value;\n          if (box.residue[\"variable\"] !== undefined && box.residue[\"variable\"].length > 0) {\n            content += box.residue[\"variable\"];\n          }\n        } else if (box.clazz == \"binding region\") {\n          if (!result) {\n            result = box.region[type];\n          }\n          box.region[type] = value;\n          if (box.region[\"variable\"] !== undefined && box.region[\"variable\"].length > 0) {\n            content += box.region[\"variable\"];\n          }\n        }\n        var min = sbgnclass === \"SIF macromolecule\" || sbgnclass === \"SIF simple chemical\" ? 15 : 12;\n        var fontFamily = box.style[\"font-family\"];\n        var fontSize = box.style[\"font-size\"];\n        var borderWidth = box.style[\"border-width\"];\n        var opts = {\n          min: min,\n          max: 48,\n          margin: borderWidth / 2 + 0.5\n        };\n        var previousWidth = box.bbox.w;\n        box.bbox.w = elementUtilities.getWidthByContent(content, fontFamily, fontSize, opts);\n        if (box.anchorSide == \"top\" || box.anchorSide == \"bottom\") {\n          var unitLayout = node.data()[\"auxunitlayouts\"][box.anchorSide];\n          if (unitLayout.units[unitLayout.units.length - 1].id == box.id) {\n            var borderWidth = node.data()[\"border-width\"];\n            var shiftAmount = (box.bbox.w - previousWidth) / 2 * 100 / (node.outerWidth() - borderWidth);\n            if (shiftAmount >= 0) {\n              if (box.bbox.x + shiftAmount <= 100) {\n                box.bbox.x = box.bbox.x + shiftAmount;\n              }\n            }\n            /*  else{\r\n              var previousInfoBbox = {x : 0, w:0};\r\n              if(unitLayout.units.length > 1){\r\n                previousInfoBbox= unitLayout.units[unitLayout.units.length-2].bbox;      \r\n              }\r\n                \r\n              \r\n              sbgnvizInstance.classes.AuxUnitLayout.setIdealGap(node, box.anchorSide);\r\n              var idealGap = sbgnvizInstance.classes.AuxUnitLayout.getCurrentGap(box.anchorSide);\r\n              var newPosition = previousInfoBbox.x + (previousInfoBbox.w/2 + idealGap + box.bbox.w/2)*100 / (node.outerWidth() - borderWidth);\r\n              box.bbox.x = newPosition;\r\n              \r\n            } */\n          }\n        }\n\n        /* if (box.anchorSide === \"top\" || box.anchorSide === \"bottom\") {\r\n          box.bbox.x += (box.bbox.w - oldLength) / 2;\r\n          var units = (node.data('auxunitlayouts')[box.anchorSide]).units;\r\n          var shiftIndex = 0;\r\n          for (var i = 0; i < units.length; i++) {\r\n            if(units[i] === box){\r\n              shiftIndex = i;\r\n              break;\r\n            }\r\n          }\r\n          for (var j = shiftIndex+1; j < units.length; j++) {\r\n              units[j].bbox.x += (box.bbox.w - oldLength);\r\n          }\r\n        } */\n      }\n\n      //TODO find a way to elimate this redundancy to update info-box positions\n      node.data(\"border-width\", node.data(\"border-width\"));\n      return result;\n    };\n\n    // Add a new state or info box to given nodes.\n    // The box is represented by the parameter obj.\n    // This method returns the index of the just added box.\n    elementUtilities.addStateOrInfoBox = function (nodes, obj) {\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        var locationObj;\n        var defaultProps = elementUtilities.getDefaultProperties(node.data(\"class\"));\n        var infoboxProps = defaultProps[obj.clazz];\n        var bbox = obj.bbox || {\n          w: infoboxProps.width,\n          h: infoboxProps.height\n        };\n        var style = elementUtilities.getDefaultInfoboxStyle(node.data(\"class\"), obj.clazz);\n        if (obj.style) {\n          $.extend(style, obj.style);\n        }\n        if (obj.clazz == \"unit of information\") {\n          locationObj = sbgnvizInstance.classes.UnitOfInformation.create(node, cy, obj.label.text, bbox, obj.location, obj.position, style, obj.index, obj.id);\n        } else if (obj.clazz == \"state variable\") {\n          locationObj = sbgnvizInstance.classes.StateVariable.create(node, cy, obj.state.value, obj.state.variable, bbox, obj.location, obj.position, style, obj.index, obj.id);\n        } else if (obj.clazz == \"residue variable\") {\n          locationObj = sbgnvizInstance.classes.ResidueVariable.create(node, cy, obj.residue.value, obj.residue.variable, bbox, obj.location, obj.position, style, obj.index, obj.id);\n        } else if (obj.clazz == \"binding region\") {\n          locationObj = sbgnvizInstance.classes.BindingRegion.create(node, cy, obj.region.value, obj.region.variable, bbox, obj.location, obj.position, style, obj.index, obj.id);\n        }\n      }\n      return locationObj;\n    };\n\n    // Remove the state or info boxes of the given nodes at given index.\n    // Returns the removed box.\n    elementUtilities.removeStateOrInfoBox = function (nodes, locationObj) {\n      var obj;\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        var stateAndInfos = node.data(\"statesandinfos\");\n        var unit = stateAndInfos[locationObj.index];\n        var unitClass = sbgnvizInstance.classes.getAuxUnitClass(unit);\n        obj = unitClass.remove(unit, cy);\n      }\n      return obj;\n    };\n\n    //Tiles informations boxes for given anchorSides\n    elementUtilities.fitUnits = function (node, locations) {\n      var obj = [];\n      node.data(\"statesandinfos\").forEach(function (ele) {\n        obj.push({\n          x: ele.bbox.x,\n          y: ele.bbox.y,\n          anchorSide: ele.anchorSide\n        });\n      });\n      sbgnvizInstance.classes.AuxUnitLayout.fitUnits(node, cy, locations);\n      return obj;\n    };\n\n    //Check which anchorsides fits\n    elementUtilities.checkFit = function (node, location) {\n      //if no location given, it checks all possible locations\n      return sbgnvizInstance.classes.AuxUnitLayout.checkFit(node, cy, location);\n    };\n\n    //Modify array of aux layout units\n    elementUtilities.modifyUnits = function (node, unit, anchorSide) {\n      sbgnvizInstance.classes.AuxUnitLayout.modifyUnits(node, unit, anchorSide, cy);\n    };\n\n    // Set multimer status of the given nodes to the given status.\n    elementUtilities.setMultimerStatus = function (nodes, status) {\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        var sbgnclass = node.data(\"class\");\n        var isMultimer = node.data(\"class\").endsWith(\" multimer\");\n        if (status) {\n          // Make multimer status true\n          if (!isMultimer) {\n            node.data(\"class\", sbgnclass + \" multimer\");\n          }\n        } else {\n          // Make multimer status false\n          if (isMultimer) {\n            node.data(\"class\", sbgnclass.replace(\" multimer\", \"\"));\n          }\n        }\n      }\n    };\n\n    //Need to add this to doc : TO-DO\n    elementUtilities.setActiveStatus = function (nodes, status) {\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        var sbgnclass = node.data(\"class\");\n        var isActive = node.data(\"class\").startsWith(\"active \");\n        if (status) {\n          // Make multimer status true\n          if (!isActive) {\n            node.data(\"class\", \"active \" + sbgnclass);\n            //node.data('class', sbgnclass + ' multimer');\n          }\n        } else {\n          // Make multimer status false\n          if (isActive) {\n            node.data(\"class\", sbgnclass.replace(\"active \", \"\"));\n            //node.data('class', sbgnclass.replace(' multimer', ''));\n          }\n        }\n      }\n    };\n\n    //Need to add this to doc : TO-DO\n    elementUtilities.setHypotheticalStatus = function (nodes, status) {\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        var sbgnclass = node.data(\"class\");\n        var isHypothetical = node.data(\"class\").includes(\"hypothetical\");\n        var isActive = node.data(\"class\").startsWith(\"active \");\n        if (status) {\n          // Make multimer status true\n          if (!isHypothetical) {\n            if (isActive) {\n              var tmp = sbgnclass.substring(7);\n              node.data(\"class\", \"active hypothetical \" + tmp);\n            } else {\n              node.data(\"class\", \"hypothetical \" + sbgnclass);\n            }\n            //node.data('class', sbgnclass + ' multimer');\n          }\n        } else {\n          // Make multimer status false\n          if (isHypothetical) {\n            node.data(\"class\", sbgnclass.replace(\"hypothetical \", \"\"));\n            //node.data('class', sbgnclass.replace(' multimer', ''));\n          }\n        }\n      }\n    };\n\n    // Change font properties of the given elements with given font data\n    elementUtilities.changeFontProperties = function (eles, data) {\n      for (var prop in data) {\n        eles.data(prop, data[prop]);\n      }\n    };\n\n    // This function gets an edge, and ends of that edge (Optionally it may take just the classes of the edge as well) as parameters.\n    // It may return 'valid' (that ends is valid for that edge), 'reverse' (that ends is not valid for that edge but they would be valid\n    // if you reverse the source and target), 'invalid' (that ends are totally invalid for that edge).\n    elementUtilities.validateArrowEnds = function (edge, source, target, isReplacement) {\n      // if map type is Unknown -- no rules applied\n      if (elementUtilities.getMapType() == \"HybridAny\" || elementUtilities.getMapType() == \"HybridSbgn\" || !elementUtilities.getMapType()) return \"valid\";\n      var edgeclass = typeof edge === \"string\" ? edge : edge.data(\"class\");\n      var sourceclass = source.data(\"class\");\n      var targetclass = target.data(\"class\");\n      var mapType = elementUtilities.getMapType();\n      var edgeConstraints = elementUtilities[mapType].connectivityConstraints[edgeclass];\n      if (mapType == \"AF\") {\n        if (sourceclass.startsWith(\"BA\"))\n          // we have separate classes for each biological activity\n          sourceclass = \"biological activity\"; // but same rule applies to all of them\n\n        if (targetclass.startsWith(\"BA\"))\n          // we have separate classes for each biological activity\n          targetclass = \"biological activity\"; // but same rule applies to all of them\n      } else if (mapType == \"PD\") {\n        sourceclass = sourceclass.replace(/\\s*multimer$/, \"\");\n        targetclass = targetclass.replace(/\\s*multimer$/, \"\");\n      } else if (mapType == \"SBML\") {\n        sourceclass = sourceclass.replace(/\\s*multimer$/, \"\");\n        targetclass = targetclass.replace(/\\s*multimer$/, \"\");\n        sourceclass = sourceclass.replace(\"active \", \"\");\n        targetclass = targetclass.replace(\"active \", \"\");\n        sourceclass = sourceclass.replace(\"hypothetical \", \"\");\n        targetclass = targetclass.replace(\"hypothetical \", \"\");\n      }\n\n      // given a node, acting as source or target, returns boolean wether or not it has too many edges already\n      function hasTooManyEdges(node, sourceOrTarget) {\n        var nodeclass = node.data(\"class\");\n        nodeclass = nodeclass.replace(/\\s*multimer$/, \"\");\n        nodeclass = nodeclass.replace(\"active \", \"\");\n        nodeclass = nodeclass.replace(\"hypothetical \", \"\");\n        if (nodeclass.startsWith(\"BA\")) nodeclass = \"biological activity\";\n\n        /*\r\n          On the logic below:\r\n            Current edge count (incoming or outgoing) of nodes should be strictly less \r\n          than the maximum allowed if we are adding an edge to the node. This way\r\n          it will never exceed the max count.\r\n          \r\n          Edges can be added in two different ways. Either they are added directly or\r\n          they are added by being replaced from another node, i.e disconnected from\r\n          one and connected to another.\r\n            We can detect if the edge being added is added from a replacement by checking\r\n          whether the source stayed the same when checking edge counts of the source node,\r\n          and whether the target stayed the same when checking edge counts of the\r\n          target node.\r\n            Current edge count of nodes can be allowed to be equal to the maximum in \r\n          cases where a replacement is made. But we should be careful that this\r\n          replacement operation is not also an addition operation as described above.\r\n        */\n\n        var totalTooMany = true;\n        var edgeTooMany = true;\n        if (sourceOrTarget == \"source\") {\n          var sameEdgeCountOut = node.outgoers('edge[class=\"' + edgeclass + '\"]').size();\n          var totalEdgeCountOut = node.outgoers(\"edge\").size();\n          var maxTotal = edgeConstraints[nodeclass].asSource.maxTotal;\n          var maxEdge = edgeConstraints[nodeclass].asSource.maxEdge;\n          var compareStrict = !(isReplacement && edge.source() === source);\n          var withinLimits = !maxTotal || compareStrict && totalEdgeCountOut < maxTotal || !compareStrict && totalEdgeCountOut <= maxTotal;\n          if (withinLimits) {\n            totalTooMany = false;\n          }\n          // then check limits for this specific edge class\n\n          withinLimits = !maxEdge || compareStrict && sameEdgeCountOut < maxEdge || !compareStrict && sameEdgeCountOut <= maxEdge;\n          if (withinLimits) {\n            edgeTooMany = false;\n          }\n\n          // if only one of the limits is reached then edge is invalid\n          return totalTooMany || edgeTooMany;\n        } else {\n          // node is used as target\n          var sameEdgeCountIn = node.incomers('edge[class=\"' + edgeclass + '\"]').size();\n          var totalEdgeCountIn = node.incomers(\"edge\").size();\n          var maxTotal = edgeConstraints[nodeclass].asTarget.maxTotal;\n          var maxEdge = edgeConstraints[nodeclass].asTarget.maxEdge;\n          var compareStrict = !(isReplacement && edge.target() === target);\n          var withinLimits = !maxTotal || compareStrict && totalEdgeCountIn < maxTotal || !compareStrict && totalEdgeCountIn <= maxTotal;\n          if (withinLimits) {\n            totalTooMany = false;\n          }\n          withinLimits = !maxEdge || compareStrict && sameEdgeCountIn < maxEdge || !compareStrict && sameEdgeCountIn <= maxEdge;\n          if (withinLimits) {\n            edgeTooMany = false;\n          }\n          return totalTooMany || edgeTooMany;\n        }\n      }\n      function isInComplex(node) {\n        var parentClass = node.parent().data(\"class\");\n        return parentClass && parentClass.startsWith(\"complex\");\n      }\n      if (isInComplex(source) || isInComplex(target)) {\n        // subunits of a complex are no longer EPNs, no connection allowed\n        return \"invalid\";\n      }\n\n      // check nature of connection\n      if (edgeConstraints[sourceclass].asSource.isAllowed && edgeConstraints[targetclass].asTarget.isAllowed) {\n        // check amount of connections\n        if (!hasTooManyEdges(source, \"source\") && !hasTooManyEdges(target, \"target\")) {\n          return \"valid\";\n        }\n      }\n      // try to reverse\n      if (edgeConstraints[targetclass].asSource.isAllowed && edgeConstraints[sourceclass].asTarget.isAllowed) {\n        if (!hasTooManyEdges(target, \"source\") && !hasTooManyEdges(source, \"target\")) {\n          return \"reverse\";\n        }\n      }\n      return \"invalid\";\n    };\n    elementUtilities.deleteAndPerformLayout = function (eles, layoutparam) {\n      var result = eles.remove();\n      if (typeof layoutparam === \"function\") {\n        layoutparam(); // If layoutparam is a function execute it\n      } else {\n        var layout = cy.layout(layoutparam); // If layoutparam is layout options call layout with that options.\n\n        // Do this check for cytoscape.js backward compatibility\n        if (layout && layout.run) {\n          layout.run();\n        }\n      }\n      return result;\n    };\n\n    /*\r\n     * Hide given eles and perform given layout afterward. Layout parameter may be layout options\r\n     * or a function to call.\r\n     */\n    elementUtilities.hideAndPerformLayout = function (eles, layoutparam) {\n      var result = cy.viewUtilities().hide(eles); // Hide given eles\n      if (typeof layoutparam === \"function\") {\n        layoutparam(); // If layoutparam is a function execute it\n      } else {\n        var layout = cy.layout(layoutparam); // If layoutparam is layout options call layout with that options.\n\n        // Do this check for cytoscape.js backward compatibility\n        if (layout && layout.run) {\n          layout.run();\n        }\n      }\n      return result;\n    };\n\n    /*\r\n     * Unhide given eles and perform given layout afterward. Layout parameter may be layout options\r\n     * or a function to call.\r\n     */\n    elementUtilities.showAndPerformLayout = function (eles, layoutparam) {\n      var result = cy.viewUtilities().show(eles); // Show given eles\n      if (typeof layoutparam === \"function\") {\n        layoutparam(); // If layoutparam is a function execute it\n      } else {\n        var layout = cy.layout(layoutparam); // If layoutparam is layout options call layout with that options.\n\n        // Do this check for cytoscape.js backward compatibility\n        if (layout && layout.run) {\n          layout.run();\n        }\n      }\n      return result;\n    };\n\n    /*\r\n     * Change style/css of given eles by setting getting property name to the given value/values (Note that valueMap parameter may be\r\n     * a single string or an id to value map).\r\n     */\n    elementUtilities.changeCss = function (eles, name, valueMap) {\n      if (_typeof(valueMap) === \"object\") {\n        cy.startBatch();\n        for (var i = 0; i < eles.length; i++) {\n          var ele = cy.getElementById(eles[i].id());\n          ele.css(name, valueMap[ele.id()]); // valueMap is an id to value map use it in this way\n        }\n        cy.endBatch();\n      } else {\n        eles.css(name, valueMap); // valueMap is just a string set css('name') for all eles to this value\n      }\n    };\n\n    /*\r\n     * Change data of given eles by setting getting property name to the given value/values (Note that valueMap parameter may be\r\n     * a single string or an id to value map).\r\n     */\n    elementUtilities.changeData = function (eles, name, valueMap) {\n      if (_typeof(valueMap) === \"object\") {\n        cy.startBatch();\n        for (var i = 0; i < eles.length; i++) {\n          var ele = cy.getElementById(eles[i].id());\n          ele.data(name, valueMap[ele.id()]); // valueMap is an id to value map use it in this way\n        }\n        cy.endBatch();\n      } else {\n        eles.data(name, valueMap); // valueMap is just a string set css('name') for all eles to this value\n      }\n    };\n    elementUtilities.updateSetField = function (ele, fieldName, toDelete, toAdd, callback) {\n      var set = ele.data(fieldName);\n      if (!set) {\n        return;\n      }\n      var updates = {};\n      if (toDelete != null && set[toDelete]) {\n        delete set[toDelete];\n        updates.deleted = toDelete;\n      }\n      if (toAdd != null) {\n        set[toAdd] = true;\n        updates.added = toAdd;\n      }\n      if (callback && (updates[\"deleted\"] != null || updates[\"added\"] != null)) {\n        callback();\n      }\n      return updates;\n    };\n\n    /*\r\n     * Return the set of all nodes present under the given position\r\n     * renderedPos must be a point defined relatively to cytoscape container\r\n     * (like renderedPosition field of a node)\r\n     */\n    elementUtilities.getNodesAt = function (renderedPos) {\n      var nodes = cy.nodes();\n      var x = renderedPos.x;\n      var y = renderedPos.y;\n      var resultNodes = [];\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        var renderedBbox = node.renderedBoundingBox({\n          includeNodes: true,\n          includeEdges: false,\n          includeLabels: false,\n          includeShadows: false\n        });\n        if (x >= renderedBbox.x1 && x <= renderedBbox.x2) {\n          if (y >= renderedBbox.y1 && y <= renderedBbox.y2) {\n            resultNodes.push(node);\n          }\n        }\n      }\n      return resultNodes;\n    };\n    elementUtilities.demultimerizeClass = function (sbgnclass) {\n      return sbgnclass.replace(\" multimer\", \"\");\n    };\n\n    /**\r\n     * @param mapType - type of the current map (PD, AF or Unknown)\r\n     */\n    elementUtilities.setMapType = function (mapType) {\n      elementUtilities.mapType = mapType;\n      return mapType;\n    };\n\n    /**\r\n     * return - map type\r\n     */\n    elementUtilities.getMapType = function () {\n      return elementUtilities.mapType;\n    };\n    /**\r\n     * Resets map type\r\n     */\n    elementUtilities.resetMapType = function () {\n      elementUtilities.mapType = undefined;\n    };\n\n    /**\r\n     * Keep consistency of links to self inside the data() structure.\r\n     * This is needed whenever a node changes parents, for example,\r\n     * as it is destroyed and recreated. But the data() stays identical.\r\n     * This creates inconsistencies for the pointers stored in data(),\r\n     * as they now point to a deleted node.\r\n     */\n    elementUtilities.maintainPointer = function (eles) {\n      eles.nodes().forEach(function (ele) {\n        // restore background images\n        ele.emit(\"data\");\n\n        // skip nodes without any auxiliary units\n        if (!ele.data(\"statesandinfos\") || ele.data(\"statesandinfos\").length == 0) {\n          return;\n        }\n        for (var side in ele.data(\"auxunitlayouts\")) {\n          ele.data(\"auxunitlayouts\")[side].parentNode = ele.id();\n        }\n        for (var i = 0; i < ele.data(\"statesandinfos\").length; i++) {\n          ele.data(\"statesandinfos\")[i].parent = ele.id();\n        }\n      });\n    };\n    elementUtilities.anyHasBackgroundImage = function (eles) {\n      var obj = elementUtilities.getBackgroundImageObjs(eles);\n      if (obj === undefined) return false;else {\n        for (var key in obj) {\n          var value = obj[key];\n          if (value && !$.isEmptyObject(value)) return true;\n        }\n        return false;\n      }\n    };\n    elementUtilities.hasBackgroundImage = function (ele) {\n      if (!ele.isNode() || !ele.data(\"background-image\")) {\n        return false;\n      }\n      var bg;\n      if (typeof ele.data(\"background-image\") === \"string\") {\n        bg = ele.data(\"background-image\").split(\" \");\n      } else if (Array.isArray(obj[\"background-image\"])) {\n        bg = ele.data(\"background-image\");\n      }\n      if (!bg) return false;\n      var cloneImg = \"data:image/svg+xml;utf8,%3Csvg%20width%3D%22100%22%20height%3D%22100%22%20viewBox%3D%220%200%20100%20100%22%20style%3D%22fill%3Anone%3Bstroke%3Ablack%3Bstroke-width%3A0%3B%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20%3E%3Crect%20x%3D%220%22%20y%3D%220%22%20width%3D%22100%22%20height%3D%22100%22%20style%3D%22fill%3A%23838383%22/%3E%20%3C/svg%3E\";\n      // If cloneImg is not the only image or there are multiple images there is a background image\n      var onlyHasCloneMarkerAsBgImage = bg.length === 1 && bg.indexOf(cloneImg) === 0;\n      if (bg.length > 1 || !onlyHasCloneMarkerAsBgImage) return true;\n      return false;\n    };\n    elementUtilities.getBackgroundImageURL = function (eles) {\n      \"getting background images\";\n      if (!eles || eles.length < 1) return;\n      var commonURL = \"\";\n      for (var i = 0; i < eles.length; i++) {\n        var ele = eles[i];\n        if (!ele.isNode() || !elementUtilities.hasBackgroundImage(ele)) return;\n        var url = ele.data(\"background-image\").split(\" \").pop();\n        if (!url || url.indexOf(\"http\") !== 0 || commonURL !== \"\" && commonURL !== url) return;else if (commonURL === \"\") commonURL = url;\n      }\n      return commonURL;\n    };\n    elementUtilities.getBackgroundImageObjs = function (eles) {\n      if (!eles || eles.length < 1) return;\n      var list = {};\n      for (var i = 0; i < eles.length; i++) {\n        var ele = eles[i];\n        var obj = getBgObj(ele);\n        if (Object.keys(obj).length < 1) return;\n        list[ele.data(\"id\")] = obj;\n      }\n      return list;\n      function getBgObj(ele) {\n        if (ele.isNode() && elementUtilities.hasBackgroundImage(ele)) {\n          var keys = [\"background-image\", \"background-fit\", \"background-image-opacity\", \"background-position-x\", \"background-position-y\", \"background-height\", \"background-width\"];\n          var obj = {};\n          keys.forEach(function (key) {\n            var value;\n            if (ele.data(key) && typeof ele.data(key) === \"string\") {\n              value = ele.data(key).split(\" \")[0];\n            } else {\n              value = ele.data(key);\n            }\n            obj[key] = value;\n          });\n          return obj;\n        } else if (ele.isNode()) return {};\n      }\n    };\n    elementUtilities.getBackgroundFitOptions = function (eles) {\n      if (!eles || eles.length < 1) return;\n      var commonFit = \"\";\n      for (var i = 0; i < eles.length; i++) {\n        var node = eles[i];\n        if (!node.isNode()) return;\n        var fit = getFitOption(node);\n        if (!fit || commonFit !== \"\" && fit !== commonFit) return;else if (commonFit === \"\") commonFit = fit;\n      }\n      var options = '<option value=\"none\">None</option>' + '<option value=\"fit\">Fit</option>' + '<option value=\"cover\">Cover</option>' + '<option value=\"contain\">Contain</option>';\n      var searchKey = 'value=\"' + commonFit + '\"';\n      var index = options.indexOf(searchKey) + searchKey.length;\n      return options.substr(0, index) + \" selected\" + options.substr(index);\n      function getFitOption(node) {\n        if (!elementUtilities.hasBackgroundImage(node)) return;\n        var f = node.data(\"background-fit\");\n        var h = node.data(\"background-height\");\n        if (!f || !h) return;\n        f = f.split(\" \");\n        h = h.split(\" \");\n        if (f[f.length - 1] === \"none\") return h[h.length - 1] === \"auto\" ? \"none\" : \"fit\";else return f[f.length - 1];\n      }\n    };\n    elementUtilities.updateBackgroundImage = function (nodes, bgObj) {\n      if (!nodes || nodes.length == 0 || !bgObj) return;\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        var obj = bgObj[node.data(\"id\")];\n        if (!obj || $.isEmptyObject(obj)) continue;\n        var imgs = node.data(\"background-image\") ? node.data(\"background-image\").split(\" \") : [];\n        var xPos = node.data(\"background-position-x\") ? node.data(\"background-position-x\").split(\" \") : [];\n        var yPos = node.data(\"background-position-y\") ? node.data(\"background-position-y\").split(\" \") : [];\n        var widths = node.data(\"background-width\") ? node.data(\"background-width\").split(\" \") : [];\n        var heights = node.data(\"background-height\") ? node.data(\"background-height\").split(\" \") : [];\n        var fits = node.data(\"background-fit\") ? node.data(\"background-fit\").split(\" \") : [];\n        var opacities = node.data(\"background-image-opacity\") ? (\"\" + node.data(\"background-image-opacity\")).split(\" \") : [];\n        var index = -1;\n        if (typeof obj[\"background-image\"] === \"string\") index = imgs.indexOf(obj[\"background-image\"]);else if (Array.isArray(obj[\"background-image\"])) index = imgs.indexOf(obj[\"background-image\"][0]);\n        if (index < 0) continue;\n        if (obj[\"background-image\"] && imgs.length > index) {\n          var tmp = imgs[index];\n          imgs[index] = obj[\"background-image\"];\n          obj[\"background-image\"] = tmp;\n        }\n        if (obj[\"background-fit\"] && fits.length > index) {\n          var tmp = fits[index];\n          fits[index] = obj[\"background-fit\"];\n          obj[\"background-fit\"] = tmp;\n        }\n        if (obj[\"background-width\"] && widths.length > index) {\n          var tmp = widths[index];\n          widths[index] = obj[\"background-width\"];\n          obj[\"background-width\"] = tmp;\n        }\n        if (obj[\"background-height\"] && heights.length > index) {\n          var tmp = heights[index];\n          heights[index] = obj[\"background-height\"];\n          obj[\"background-height\"] = tmp;\n        }\n        if (obj[\"background-position-x\"] && xPos.length > index) {\n          var tmp = xPos[index];\n          xPos[index] = obj[\"background-position-x\"];\n          obj[\"background-position-x\"] = tmp;\n        }\n        if (obj[\"background-position-y\"] && yPos.length > index) {\n          var tmp = yPos[index];\n          yPos[index] = obj[\"background-position-y\"];\n          obj[\"background-position-y\"] = tmp;\n        }\n        if (obj[\"background-image-opacity\"] && opacities.length > index) {\n          var tmp = opacities[index];\n          opacities[index] = obj[\"background-image-opacity\"];\n          obj[\"background-image-opacity\"] = tmp;\n        }\n        node.data(\"background-image\", imgs.join(\" \"));\n        node.data(\"background-position-x\", xPos.join(\" \"));\n        node.data(\"background-position-y\", yPos.join(\" \"));\n        node.data(\"background-width\", widths.join(\" \"));\n        node.data(\"background-height\", heights.join(\" \"));\n        node.data(\"background-fit\", fits.join(\" \"));\n        node.data(\"background-image-opacity\", opacities.join(\" \"));\n      }\n      return bgObj;\n    };\n    elementUtilities.changeBackgroundImage = function (nodes, oldImg, newImg, firstTime, updateInfo, promptInvalidImage, validateURL) {\n      if (!nodes || nodes.length == 0 || !oldImg || !newImg) return;\n      elementUtilities.removeBackgroundImage(nodes, oldImg);\n      for (var key in newImg) {\n        newImg[key][\"firstTime\"] = firstTime;\n      }\n      elementUtilities.addBackgroundImage(nodes, newImg, updateInfo, promptInvalidImage, validateURL);\n      return {\n        nodes: nodes,\n        oldImg: newImg,\n        newImg: oldImg,\n        firstTime: false,\n        promptInvalidImage: promptInvalidImage,\n        validateURL: validateURL\n      };\n    };\n\n    // Add a background image to given nodes.\n    elementUtilities.addBackgroundImage = function (nodes, bgObj, updateInfo, promptInvalidImage, validateURL) {\n      if (!nodes || nodes.length == 0 || !bgObj) return;\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        var obj = bgObj[node.data(\"id\")];\n        if (!obj || $.isEmptyObject(obj)) continue;\n\n        // Load the image from local, else just put the URL\n        if (obj[\"fromFile\"]) loadBackgroundThenApply(node, obj);\n        // Validity of given URL should be checked before applying it\n        else if (obj[\"firstTime\"]) {\n          if (typeof validateURL === \"function\") validateURL(node, obj, applyBackground, promptInvalidImage);else checkGivenURL(node, obj);\n        } else applyBackground(node, obj);\n      }\n      function loadBackgroundThenApply(node, bgObj) {\n        var reader = new FileReader();\n        var imgFile = bgObj[\"background-image\"];\n\n        // Check whether given file is an image file\n        if (imgFile.type.indexOf(\"image\") !== 0) {\n          if (promptInvalidImage) promptInvalidImage(\"Invalid image file is given!\");\n          return;\n        }\n        reader.readAsDataURL(imgFile);\n        reader.onload = function (e) {\n          var img = reader.result;\n          if (img) {\n            bgObj[\"background-image\"] = img;\n            bgObj[\"fromFile\"] = false;\n            applyBackground(node, bgObj);\n          } else {\n            if (promptInvalidImage) promptInvalidImage(\"Given file could not be read!\");\n          }\n        };\n      }\n      function checkGivenURL(node, bgObj) {\n        var url = bgObj[\"background-image\"];\n        var extension = url.split(/[?#]/)[0].split(\".\").pop();\n        var validExtensions = [\"png\", \"svg\", \"jpg\", \"jpeg\"];\n        if (!validExtensions.includes(extension)) {\n          if (typeof promptInvalidImage === \"function\") promptInvalidImage(\"Invalid URL is given!\");\n          return;\n        }\n        $.ajax({\n          url: url,\n          type: \"GET\",\n          success: function success(result, status, xhr) {\n            applyBackground(node, bgObj);\n          },\n          error: function error(xhr, status, _error) {\n            if (promptInvalidImage) promptInvalidImage(\"Invalid URL is given!\");\n          }\n        });\n      }\n      function applyBackground(node, bgObj) {\n        if (elementUtilities.hasBackgroundImage(node)) return;\n        var imgs = node.data(\"background-image\") ? node.data(\"background-image\").split(\" \") : [];\n        var xPos = node.data(\"background-position-x\") ? node.data(\"background-position-x\").split(\" \") : [];\n        var yPos = node.data(\"background-position-y\") ? node.data(\"background-position-y\").split(\" \") : [];\n        var widths = node.data(\"background-width\") ? node.data(\"background-width\").split(\" \") : [];\n        var heights = node.data(\"background-height\") ? node.data(\"background-height\").split(\" \") : [];\n        var fits = node.data(\"background-fit\") ? node.data(\"background-fit\").split(\" \") : [];\n        var opacities = node.data(\"background-image-opacity\") ? (\"\" + node.data(\"background-image-opacity\")).split(\" \") : [];\n        var indexToInsert = imgs.length;\n\n        // insert to length-1\n        if (elementUtilities.hasCloneMarker(imgs)) {\n          indexToInsert--;\n        }\n        imgs.splice(indexToInsert, 0, bgObj[\"background-image\"]);\n        fits.splice(indexToInsert, 0, bgObj[\"background-fit\"]);\n        opacities.splice(indexToInsert, 0, bgObj[\"background-image-opacity\"]);\n        xPos.splice(indexToInsert, 0, bgObj[\"background-position-x\"]);\n        yPos.splice(indexToInsert, 0, bgObj[\"background-position-y\"]);\n        widths.splice(indexToInsert, 0, bgObj[\"background-width\"]);\n        heights.splice(indexToInsert, 0, bgObj[\"background-height\"]);\n        node.data(\"background-image\", imgs.join(\" \"));\n        node.data(\"background-position-x\", xPos.join(\" \"));\n        node.data(\"background-position-y\", yPos.join(\" \"));\n        node.data(\"background-width\", widths.join(\" \"));\n        node.data(\"background-height\", heights.join(\" \"));\n        node.data(\"background-fit\", fits.join(\" \"));\n        node.data(\"background-image-opacity\", opacities.join(\" \"));\n        bgObj[\"firstTime\"] = false;\n        if (updateInfo) updateInfo();\n      }\n    };\n    elementUtilities.hasCloneMarker = function (imgs) {\n      var cloneImg = \"data:image/svg+xml;utf8,%3Csvg%20width%3D%22100%22%20height%3D%22100%22%20viewBox%3D%220%200%20100%20100%22%20style%3D%22fill%3Anone%3Bstroke%3Ablack%3Bstroke-width%3A0%3B%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20%3E%3Crect%20x%3D%220%22%20y%3D%220%22%20width%3D%22100%22%20height%3D%22100%22%20style%3D%22fill%3A%23838383%22/%3E%20%3C/svg%3E\";\n      return imgs.indexOf(cloneImg) > -1;\n    };\n\n    // Remove a background image from given nodes.\n    elementUtilities.removeBackgroundImage = function (nodes, bgObj) {\n      if (!nodes || nodes.length == 0 || !bgObj) return;\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        var obj = bgObj[node.data(\"id\")];\n        if (!obj) continue;\n        var imgs = node.data(\"background-image\") ? node.data(\"background-image\").split(\" \") : [];\n        var xPos = node.data(\"background-position-x\") ? node.data(\"background-position-x\").split(\" \") : [];\n        var yPos = node.data(\"background-position-y\") ? node.data(\"background-position-y\").split(\" \") : [];\n        var widths = node.data(\"background-width\") ? node.data(\"background-width\").split(\" \") : [];\n        var heights = node.data(\"background-height\") ? node.data(\"background-height\").split(\" \") : [];\n        var fits = node.data(\"background-fit\") ? node.data(\"background-fit\").split(\" \") : [];\n        var opacities = node.data(\"background-image-opacity\") ? (\"\" + node.data(\"background-image-opacity\")).split(\" \") : [];\n        var index = -1;\n        if (typeof obj[\"background-image\"] === \"string\") index = imgs.indexOf(obj[\"background-image\"].split(\" \")[0]);else if (Array.isArray(obj[\"background-image\"])) index = imgs.indexOf(obj[\"background-image\"][0]);\n        if (index > -1) {\n          imgs.splice(index, 1);\n          fits.splice(index, 1);\n          opacities.splice(index, 1);\n          xPos.splice(index, 1);\n          yPos.splice(index, 1);\n          widths.splice(index, 1);\n          heights.splice(index, 1);\n        }\n        node.data(\"background-image\", imgs.join(\" \"));\n        node.data(\"background-position-x\", xPos.join(\" \"));\n        node.data(\"background-position-y\", yPos.join(\" \"));\n        node.data(\"background-width\", widths.join(\" \"));\n        node.data(\"background-height\", heights.join(\" \"));\n        node.data(\"background-fit\", fits.join(\" \"));\n        node.data(\"background-image-opacity\", opacities.join(\" \"));\n        bgObj[\"firstTime\"] = false;\n      }\n    };\n    elementUtilities.reverseEdge = function (edge) {\n      var oldSource = edge.source().id();\n      var oldTarget = edge.target().id();\n      var oldPortSource = edge.data(\"portsource\");\n      var oldPortTarget = edge.data(\"porttarget\");\n      var segmentPoints = edge.segmentPoints();\n      var controlPoints = edge.controlPoints();\n      edge.data().source = oldTarget;\n      edge.data().target = oldSource;\n      edge.data().portsource = oldPortTarget;\n      edge.data().porttarget = oldPortSource;\n      edge = edge.move({\n        target: oldSource,\n        source: oldTarget\n      });\n      if (Array.isArray(segmentPoints)) {\n        segmentPoints.reverse();\n        edge.data().bendPointPositions = segmentPoints;\n        if (Array.isArray(controlPoints)) {\n          controlPoints.reverse();\n          edge.data().controlPointPositions = controlPoints;\n        }\n        var edgeEditing = cy.edgeEditing(\"get\");\n        edgeEditing.initAnchorPoints(edge);\n      }\n      return edge;\n    };\n  }\n  return elementUtilitiesExtender;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbGl0aWVzL2VsZW1lbnQtdXRpbGl0aWVzLWV4dGVuZGVyLWZhY3RvcnkuanMiLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0EsSUFBSUEsSUFBSSxHQUFHQyx3RkFBa0MsQ0FBQyxDQUFDO0FBQy9DLElBQUlFLE1BQU0sR0FBSUMsQ0FBQyxHQUFHSixJQUFJLENBQUNHLE1BQU87QUFFOUJFLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHLFlBQVk7RUFDM0IsSUFBSUMsT0FBTyxFQUFFQyxlQUFlLEVBQUVDLGdCQUFnQixFQUFFQyxFQUFFO0VBR2xELFNBQVNDLHdCQUF3QkEsQ0FBQ0MsS0FBSyxFQUFFO0lBQ3ZDSixlQUFlLEdBQUdJLEtBQUssQ0FBQ0Msd0JBQXdCLENBQUNDLFdBQVcsQ0FBQyxDQUFDO0lBQzlEUCxPQUFPLEdBQUdLLEtBQUssQ0FBQ0csZUFBZSxDQUFDQyxVQUFVLENBQUMsQ0FBQztJQUM1Q1AsZ0JBQWdCLEdBQUdELGVBQWUsQ0FBQ0MsZ0JBQWdCO0lBQ25EQyxFQUFFLEdBQUdFLEtBQUssQ0FBQ0Msd0JBQXdCLENBQUNJLEtBQUssQ0FBQyxDQUFDO0lBRTNDQyxNQUFNLENBQUMsQ0FBQzs7SUFFUjtJQUNBLE9BQU9ULGdCQUFnQjtFQUN6Qjs7RUFFQTtFQUNBLFNBQVNTLE1BQU1BLENBQUEsRUFBRztJQUNoQjtJQUNBOztJQUVBVCxnQkFBZ0IsQ0FBQ1UsT0FBTyxHQUFHLFVBQ3pCQyxDQUFDLEVBQ0RDLENBQUMsRUFDREMsVUFBVSxFQUNWQyxFQUFFLEVBQ0ZDLE1BQU0sRUFDTkMsVUFBVSxFQUNWO01BQ0EsSUFBSUMsT0FBQSxDQUFPSixVQUFVLEtBQUksUUFBUSxFQUFFO1FBQ2pDLElBQUlLLFNBQVMsR0FBR0wsVUFBVTtNQUM1QixDQUFDLE1BQU07UUFDTCxJQUFJSyxTQUFTLEdBQUdMLFVBQVUsU0FBTTtRQUNoQyxJQUFJTSxRQUFRLEdBQUdOLFVBQVUsQ0FBQ00sUUFBUTtNQUNwQztNQUVBLElBQUlDLEdBQUcsR0FBRyxDQUFDLENB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LENBQUMsQ0FBQyxDQUFDdUQsVUFBVSxHQUFHMmQsYUFBYTtNQUN0QzVULElBQUksQ0FBQ3ROLElBQUksQ0FBQyxDQUFDLENBQUN3RCxVQUFVLEdBQUd5ZCxhQUFhO01BQ3RDM1QsSUFBSSxHQUFHQSxJQUFJLENBQUN3RixJQUFJLENBQUM7UUFDZnJRLE1BQU0sRUFBRXNlLFNBQVM7UUFDakJ2ZSxNQUFNLEVBQUV3ZTtNQUNWLENBQUMsQ0FBQztNQUVGLElBQUl6RCxLQUFLLENBQUNDLE9BQU8sQ0FBQzJELGFBQWEsQ0FBQyxFQUFFO1FBQ2hDQSxhQUFhLENBQUMvVSxPQUFPLENBQUMsQ0FBQztRQUN2QmtCLElBQUksQ0FBQ3ROLElBQUksQ0FBQyxDQUFDLENBQUNxaEIsa0JBQWtCLEdBQUdGLGFBQWE7UUFDOUMsSUFBSTVELEtBQUssQ0FBQ0MsT0FBTyxDQUFDNEQsYUFBYSxDQUFDLEVBQUU7VUFDaENBLGFBQWEsQ0FBQ2hWLE9BQU8sQ0FBQyxDQUFDO1VBQ3ZCa0IsSUFBSSxDQUFDdE4sSUFBSSxDQUFDLENBQUMsQ0FBQ3NoQixxQkFBcUIsR0FBR0YsYUFBYTtRQUNuRDtRQUNBLElBQUlHLFdBQVcsR0FBRzdpQixFQUFFLENBQUM2aUIsV0FBVyxDQUFDLEtBQUssQ0FBQztRQUN2Q0EsV0FBVyxDQUFDQyxnQkFBZ0IsQ0FBQ2xVLElBQUksQ0FBQztNQUNwQztNQUVBLE9BQU9BLElBQUk7SUFDYixDQUFDO0VBQ0g7RUFFQSxPQUFPM08sd0JBQXdCO0FBQ2pDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGlzZS8uL3NyYy91dGlsaXRpZXMvZWxlbWVudC11dGlsaXRpZXMtZXh0ZW5kZXItZmFjdG9yeS5qcz9iYmZhIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEV4dGVuZHMgc2JnbnZpei5lbGVtZW50VXRpbGl0aWVzXHJcbnZhciBsaWJzID0gcmVxdWlyZShcIi4vbGliLXV0aWxpdGllc1wiKS5nZXRMaWJzKCk7XHJcbnZhciBqUXVlcnkgPSAoJCA9IGxpYnMualF1ZXJ5KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBvcHRpb25zLCBzYmdudml6SW5zdGFuY2UsIGVsZW1lbnRVdGlsaXRpZXMsIGN5O1xyXG5cclxuXHJcbiAgZnVuY3Rpb24gZWxlbWVudFV0aWxpdGllc0V4dGVuZGVyKHBhcmFtKSB7XHJcbiAgICBzYmdudml6SW5zdGFuY2UgPSBwYXJhbS5zYmdudml6SW5zdGFuY2VVdGlsaXRpZXMuZ2V0SW5zdGFuY2UoKTtcclxuICAgIG9wdGlvbnMgPSBwYXJhbS5vcHRpb25VdGlsaXRpZXMuZ2V0T3B0aW9ucygpO1xyXG4gICAgZWxlbWVudFV0aWxpdGllcyA9IHNiZ252aXpJbnN0YW5jZS5lbGVtZW50VXRpbGl0aWVzO1xyXG4gICAgY3kgPSBwYXJhbS5zYmdudml6SW5zdGFuY2VVdGlsaXRpZXMuZ2V0Q3koKTtcclxuXHJcbiAgICBleHRlbmQoKTtcclxuXHJcbiAgICAvLyBSZXR1cm4gdGhlIGV4dGVuZGVkIGVsZW1lbnRVdGlsaXRpZXNcclxuICAgIHJldHVybiBlbGVtZW50VXRpbGl0aWVzO1xyXG4gIH1cclxuXHJcbiAgLy8gRXh0ZW5kcyBlbGVtZW50VXRpbGl0aWVzIHdpdGggY2hpc2Ugc3BlY2lmaWMgZmFjaWxpdGllc1xyXG4gIGZ1bmN0aW9uIGV4dGVuZCgpIHtcclxuICAgIC8vIFNlY3Rpb24gU3RhcnRcclxuICAgIC8vIEFkZCByZW1vdmUgdXRpbGl0aWVzXHJcblxyXG4gICAgZWxlbWVudFV0aWxpdGllcy5hZGROb2RlID0gZnVuY3Rpb24gKFxyXG4gICAgICB4LFxyXG4gICAgICB5LFxyXG4gICAgICBub2RlUGFyYW1zLFxyXG4gICAgICBpZCxcclxuICAgICAgcGFyZW50LFxyXG4gICAgICB2aXNpYmlsaXR5XHJcbiAgICApIHtcclxuICAgICAgaWYgKHR5cGVvZiBub2RlUGFyYW1zICE9IFwib2JqZWN0XCIpIHtcclxuICAgICAgICB2YXIgc2JnbmNsYXNzID0gbm9kZVBhcmFtcztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgc2JnbmNsYXNzID0gbm9kZVBhcmFtcy5jbGFzcztcclxuICAgICAgICB2YXIgbGFuZ3VhZ2UgPSBub2RlUGFyYW1zLmxhbmd1YWdlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgY3NzID0ge307XHJcbiAgICAgIC8vKCdzYmduY2xhc3MnLCBzYmduY2xhc3MpXHJcbiAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIHNwZWNpZmljIGRlZmF1bHQgd2lkdGggb3IgaGVpZ2h0IGZvclxyXG4gICAgICAvLyBzYmduY2xhc3MgdGhlc2Ugc2l6ZXMgYXJlIHVzZWRcclxuICAgICAgdmFyIGRlZmF1bHRXaWR0aCA9IDUwO1xyXG4gICAgICB2YXIgZGVmYXVsdEhlaWdodCA9IDUwO1xyXG5cclxuICAgICAgaWYgKHZpc2liaWxpdHkpIHtcclxuICAgICAgICBjc3MudmlzaWJpbGl0eSA9IHZpc2liaWxpdHk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBkYXRhID0ge1xyXG4gICAgICAgIGNsYXNzOiBzYmduY2xhc3MsXHJcbiAgICAgICAgbGFuZ3VhZ2U6IGxhbmd1YWdlLFxyXG4gICAgICAgIGJib3g6IHtcclxuICAgICAgICAgIHc6IGRlZmF1bHRXaWR0aCxcclxuICAgICAgICAgIGg6IGRlZmF1bHRIZWlnaHQsXHJcbiAgICAgICAgICB4OiB4LFxyXG4gICAgICAgICAgeTogeSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHN0YXRlc2FuZGluZm9zOiBbXSxcclxuICAgICAgICBwb3J0czogW10sXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBpZiAoaWQpIHtcclxuICAgICAgICBkYXRhLmlkID0gaWQ7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnRVdGlsaXRpZXMuZ2VuZXJhdGVOb2RlSWQoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgIGRhdGEucGFyZW50ID0gcGFyZW50O1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLmV4dGVuZE5vZGVEYXRhV2l0aENsYXNzRGVmYXVsdHMoZGF0YSwgc2JnbmNsYXNzKTtcclxuXHJcbiAgICAgIC8vIHNvbWUgZGVmYXVsdHMgYXJlIG5vdCBzZXQgYnkgZXh0ZW5kTm9kZURhdGFXaXRoQ2xhc3NEZWZhdWx0cygpXHJcbiAgICAgIHZhciBkZWZhdWx0cyA9IHRoaXMuZ2V0RGVmYXVsdFByb3BlcnRpZXMoc2JnbmNsYXNzKTtcclxuXHJcbiAgICAgIGlmIChkZWZhdWx0c1tcIm11bHRpbWVyXCJdKSB7XHJcbiAgICAgICAgZGF0YS5jbGFzcyArPSBcIiBtdWx0aW1lclwiO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZGVmYXVsdHNbXCJjbG9uZW1hcmtlclwiXSkge1xyXG4gICAgICAgIGRhdGFbXCJjbG9uZW1hcmtlclwiXSA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGRlZmF1bHRzW1wiaHlwb3RoZXRpY2FsXCJdKSB7XHJcbiAgICAgICAgZGF0YS5jbGFzcyA9IFwiaHlwb3RoZXRpY2FsIFwiICsgZGF0YS5jbGFzcztcclxuICAgICAgfVxyXG4gICAgICBpZiAoZGVmYXVsdHNbXCJhY3RpdmVcIl0pIHtcclxuICAgICAgICBkYXRhLmNsYXNzID0gXCJhY3RpdmUgXCIgKyBkYXRhLmNsYXNzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBkYXRhLmJib3hbXCJ3XCJdID0gZGVmYXVsdHNbXCJ3aWR0aFwiXTtcclxuICAgICAgZGF0YS5iYm94W1wiaFwiXSA9IGRlZmF1bHRzW1wiaGVpZ2h0XCJdO1xyXG5cclxuICAgICAgdmFyIGVsZXMgPSBjeS5hZGQoe1xyXG4gICAgICAgIGdyb3VwOiBcIm5vZGVzXCIsXHJcbiAgICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgICBjc3M6IGNzcyxcclxuICAgICAgICBwb3NpdGlvbjoge1xyXG4gICAgICAgICAgeDogeCxcclxuICAgICAgICAgIHk6IHksXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB2YXIgbmV3Tm9kZSA9IGVsZXNbZWxlcy5sZW5ndGggLSAxXTtcclxuICAgICAgLy8gR2V0IHRoZSBkZWZhdWx0IHBvcnRzIG9yZGVyaW5nIGZvciB0aGUgbm9kZXMgd2l0aCBnaXZlbiBzYmduY2xhc3NcclxuICAgICAgdmFyIG9yZGVyaW5nID0gZGVmYXVsdHNbXCJwb3J0cy1vcmRlcmluZ1wiXTtcclxuXHJcbiAgICAgIC8vIElmIHRoZXJlIGlzIGEgZGVmYXVsdCBwb3J0cyBvcmRlcmluZyBmb3IgdGhlIG5vZGVzIHdpdGggZ2l2ZW4gc2JnbmNsYXNzIGFuZCBpdCBpcyBkaWZmZXJlbnQgdGhhbiAnbm9uZScgc2V0IHRoZSBwb3J0cyBvcmRlcmluZyB0byB0aGF0IG9yZGVyaW5nXHJcbiAgICAgIGlmIChvcmRlcmluZyAmJiBvcmRlcmluZyAhPT0gXCJub25lXCIpIHtcclxuICAgICAgICB0aGlzLnNldFBvcnRzT3JkZXJpbmcobmV3Tm9kZSwgb3JkZXJpbmcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgbGFuZ3VhZ2UgPT0gXCJBRlwiICYmXHJcbiAgICAgICAgIWVsZW1lbnRVdGlsaXRpZXMuY2FuSGF2ZU11bHRpcGxlVW5pdE9mSW5mb3JtYXRpb24obmV3Tm9kZSlcclxuICAgICAgKSB7XHJcbiAgICAgICAgaWYgKHNiZ25jbGFzcyAhPSBcIkJBIHBsYWluXCIpIHtcclxuICAgICAgICAgIC8vIGlmIEFGIG5vZGUgY2FuIGhhdmUgbGFiZWwgaS5lOiBub3QgcGxhaW4gYmlvbG9naWNhbCBhY3Rpdml0eVxyXG4gICAgICAgICAgdmFyIHVvaV9vYmogPSB7XHJcbiAgICAgICAgICAgIGNsYXp6OiBcInVuaXQgb2YgaW5mb3JtYXRpb25cIixcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICB1b2lfb2JqLmxhYmVsID0ge1xyXG4gICAgICAgICAgICB0ZXh0OiBcIlwiLFxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICB1b2lfb2JqLmJib3ggPSB7XHJcbiAgICAgICAgICAgIHc6IDEyLFxyXG4gICAgICAgICAgICBoOiAxMixcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBlbGVtZW50VXRpbGl0aWVzLmFkZFN0YXRlT3JJbmZvQm94KG5ld05vZGUsIHVvaV9vYmopO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gbm9kZSBiZyBpbWFnZSB3YXMgdW5leHBlY3RlZGx5IG5vdCByZW5kZXJlZCB1bnRpbCBpdCBpcyBjbGlja2VkXHJcbiAgICAgIC8vIHVzZSB0aGlzIGRpcnR5IGhhY2sgdW50aWwgZmluZGluZyBhIHNvbHV0aW9uIHRvIHRoZSBwcm9ibGVtXHJcbiAgICAgIHZhciBiZ0ltYWdlID0gbmV3Tm9kZS5kYXRhKFwiYmFja2dyb3VuZC1pbWFnZVwiKTtcclxuICAgICAgLy9hbGVydCgnYmdJbWFnZScsIGJnSW1hZ2UpXHJcbiAgICAgIGlmIChiZ0ltYWdlKSB7XHJcbiAgICAgICAgbmV3Tm9kZS5kYXRhKFwiYmFja2dyb3VuZC1pbWFnZVwiLCBiZ0ltYWdlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIG5ld05vZGU7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vU2F2ZXMgb2xkIGF1eCB1bml0cyBvZiBnaXZlbiBub2RlXHJcbiAgICBlbGVtZW50VXRpbGl0aWVzLnNhdmVVbml0cyA9IGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgIHZhciB0ZW1wRGF0YSA9IFtdO1xyXG4gICAgICB2YXIgaW5kZXggPSAwO1xyXG4gICAgICBub2RlLmRhdGEoXCJzdGF0ZXNhbmRpbmZvc1wiKS5mb3JFYWNoKGZ1bmN0aW9uIChlbGUpIHtcclxuICAgICAgICB0ZW1wRGF0YS5wdXNoKHtcclxuICAgICAgICAgIHg6IGVsZS5iYm94LngsXHJcbiAgICAgICAgICB5OiBlbGUuYmJveC55LFxyXG4gICAgICAgICAgYW5jaG9yU2lkZTogZWxlLmFuY2hvclNpZGUsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaW5kZXgrKztcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiB0ZW1wRGF0YTtcclxuICAgIH07XHJcblxyXG4gICAgLy9SZXN0b3JlcyBmcm9tIGdpdmVuIGRhdGFcclxuICAgIGVsZW1lbnRVdGlsaXRpZXMucmVzdG9yZVVuaXRzID0gZnVuY3Rpb24gKG5vZGUsIGRhdGEpIHtcclxuICAgICAgdmFyIGluZGV4ID0gMDtcclxuICAgICAgbm9kZS5kYXRhKFwic3RhdGVzYW5kaW5mb3NcIikuZm9yRWFjaChmdW5jdGlvbiAoZWxlKSB7XHJcbiAgICAgICAgaWYgKGRhdGEgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgZWxlLmJib3gueCA9IGRhdGFbaW5kZXhdLng7XHJcbiAgICAgICAgICBlbGUuYmJveC55ID0gZGF0YVtpbmRleF0ueTtcclxuICAgICAgICAgIHZhciBhbmNob3JTaWRlID0gZWxlLmFuY2hvclNpZGU7XHJcbiAgICAgICAgICBlbGUuYW5jaG9yU2lkZSA9IGRhdGFbaW5kZXhdLmFuY2hvclNpZGU7XHJcbiAgICAgICAgICBlbGVtZW50VXRpbGl0aWVzLm1vZGlmeVVuaXRzKG5vZGUsIGVsZSwgYW5jaG9yU2lkZSk7XHJcbiAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vTW9kaWZ5IGF1eCB1bml0IGxheW91dHNcclxuICAgIGVsZW1lbnRVdGlsaXRpZXMubW9kaWZ5VW5pdHMgPSBmdW5jdGlvbiAobm9kZSwgZWxlLCBhbmNob3JTaWRlKSB7XHJcbiAgICAgIGluc3RhbmNlLmNsYXNzZXMuQXV4VW5pdExheW91dC5tb2RpZnlVbml0cyhub2RlLCBlbGUsIGFuY2hvclNpZGUsIGN5KTtcclxuICAgIH07XHJcblxyXG4gICAgLy9Gb3IgcmV2ZXJzaWJsZSByZWFjdGlvbnMgYm90aCBzaWRlIG9mIHRoZSBwcm9jZXNzIGNhbiBiZSBpbnB1dC9vdXRwdXRcclxuICAgIC8vR3JvdXAgSUQgaWRlbnRpZmllcyB0byB3aGljaCBncm91cCBvZiBub2RlcyB0aGUgZWRnZSBpcyBnb2luZyB0byBiZSBjb25uZWN0ZWQgZm9yIHJldmVyc2libGUgcmVhY3Rpb25zKDA6IGdyb3VwIDEgSUQgYW5kIDE6Z3JvdXAgMiBJRClcclxuICAgIGVsZW1lbnRVdGlsaXRpZXMuYWRkRWRnZSA9IGZ1bmN0aW9uIChcclxuICAgICAgc291cmNlLFxyXG4gICAgICB0YXJnZXQsXHJcbiAgICAgIGVkZ2VQYXJhbXMsXHJcbiAgICAgIGlkLFxyXG4gICAgICB2aXNpYmlsaXR5LFxyXG4gICAgICBncm91cElEXHJcbiAgICApIHtcclxuXHJcbiAgICAgIGlmICh0eXBlb2YgZWRnZVBhcmFtcyAhPSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgdmFyIHNiZ25jbGFzcyA9IGVkZ2VQYXJhbXM7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFyIHNiZ25jbGFzcyA9IGVkZ2VQYXJhbXMuY2xhc3M7XHJcbiAgICAgICAgdmFyIGxhbmd1YWdlID0gZWRnZVBhcmFtcy5sYW5ndWFnZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIGNzcyA9IHt9O1xyXG5cclxuICAgICAgaWYgKHZpc2liaWxpdHkpIHtcclxuICAgICAgICBjc3MudmlzaWJpbGl0eSA9IHZpc2liaWxpdHk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBkYXRhID0ge1xyXG4gICAgICAgIHNvdXJjZTogc291cmNlLFxyXG4gICAgICAgIHRhcmdldDogdGFyZ2V0LFxyXG4gICAgICAgIGNsYXNzOiBzYmduY2xhc3MsXHJcbiAgICAgICAgbGFuZ3VhZ2U6IGxhbmd1YWdlLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdmFyIGRlZmF1bHRzID0gZWxlbWVudFV0aWxpdGllcy5nZXREZWZhdWx0UHJvcGVydGllcyhzYmduY2xhc3MpO1xyXG4gICAgICAvLyBleHRlbmQgdGhlIGRhdGEgd2l0aCBkZWZhdWx0IHByb3BlcnRpZXMgb2YgZWRnZSBzdHlsZVxyXG4gICAgICBPYmplY3Qua2V5cyhkZWZhdWx0cykuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xyXG4gICAgICAgIGRhdGFbcHJvcF0gPSBkZWZhdWx0c1twcm9wXTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoaWQpIHtcclxuICAgICAgICBkYXRhLmlkID0gaWQ7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnRVdGlsaXRpZXMuZ2VuZXJhdGVFZGdlSWQoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGVsZW1lbnRVdGlsaXRpZXMuY2FuSGF2ZVNCR05DYXJkaW5hbGl0eShzYmduY2xhc3MpKSB7XHJcbiAgICAgICAgZGF0YS5jYXJkaW5hbGl0eSA9IDA7XHJcbiAgICAgIH1cclxuICAgICAgdmFyIHNvdXJjZU5vZGUgPSBjeS5nZXRFbGVtZW50QnlJZChzb3VyY2UpOyAvLyBUaGUgb3JpZ2luYWwgc291cmNlIG5vZGVcclxuICAgICAgdmFyIHRhcmdldE5vZGUgPSBjeS5nZXRFbGVtZW50QnlJZCh0YXJnZXQpOyAvLyBUaGUgb3JpZ2luYWwgdGFyZ2V0IG5vZGVcclxuICAgICAgdmFyIHNvdXJjZUhhc1BvcnRzID0gc291cmNlTm9kZS5kYXRhKFwicG9ydHNcIikubGVuZ3RoID09PSAyO1xyXG4gICAgICB2YXIgdGFyZ2V0SGFzUG9ydHMgPSB0YXJnZXROb2RlLmRhdGEoXCJwb3J0c1wiKS5sZW5ndGggPT09IDI7XHJcbiAgICAgIC8vIFRoZSBwb3J0c291cmNlIGFuZCBwb3J0dGFyZ2V0IHZhcmlhYmxlc1xyXG4gICAgICB2YXIgcG9ydHNvdXJjZTtcclxuICAgICAgdmFyIHBvcnR0YXJnZXQ7XHJcblxyXG5cclxuICAgICAgLypcclxuICAgICAgICogR2V0IGlucHV0L291dHB1dCBwb3J0IGlkJ3Mgb2YgYSBub2RlIHdpdGggdGhlIGFzc3VtcHRpb24gdGhhdCB0aGUgbm9kZSBoYXMgdmFsaWQgcG9ydHMuXHJcbiAgICAgICAqL1xyXG4gICAgICB2YXIgZ2V0SU9Qb3J0SWRzID0gZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICB2YXIgbm9kZUlucHV0UG9ydElkLCBub2RlT3V0cHV0UG9ydElkO1xyXG4gICAgICAgIHZhciBub2RlUG9ydHNPcmRlcmluZyA9XHJcbiAgICAgICAgICBzYmdudml6SW5zdGFuY2UuZWxlbWVudFV0aWxpdGllcy5nZXRQb3J0c09yZGVyaW5nKG5vZGUpO1xyXG4gICAgICAgIHZhciBub2RlUG9ydHMgPSBub2RlLmRhdGEoXCJwb3J0c1wiKTtcclxuICAgICAgICBpZiAobm9kZVBvcnRzT3JkZXJpbmcgPT09IFwiTC10by1SXCIgfHwgbm9kZVBvcnRzT3JkZXJpbmcgPT09IFwiUi10by1MXCIpIHtcclxuICAgICAgICAgIHZhciBsZWZ0UG9ydElkID1cclxuICAgICAgICAgICAgbm9kZVBvcnRzWzBdLnggPCAwID8gbm9kZVBvcnRzWzBdLmlkIDogbm9kZVBvcnRzWzFdLmlkOyAvLyBUaGUgeCB2YWx1ZSBvZiBsZWZ0IHBvcnQgaXMgc3VwcG9zZWQgdG8gYmUgbmVnYXRpdmVcclxuICAgICAgICAgIHZhciByaWdodFBvcnRJZCA9XHJcbiAgICAgICAgICAgIG5vZGVQb3J0c1swXS54ID4gMCA/IG5vZGVQb3J0c1swXS5pZCA6IG5vZGVQb3J0c1sxXS5pZDsgLy8gVGhlIHggdmFsdWUgb2YgcmlnaHQgcG9ydCBpcyBzdXBwb3NlZCB0byBiZSBwb3NpdGl2ZVxyXG4gICAgICAgICAgLypcclxuICAgICAgICAgICAqIElmIHRoZSBwb3J0IG9yZGVyaW5nIGlzIGxlZnQgdG8gcmlnaHQgdGhlbiB0aGUgaW5wdXQgcG9ydCBpcyB0aGUgbGVmdCBwb3J0IGFuZCB0aGUgb3V0cHV0IHBvcnQgaXMgdGhlIHJpZ2h0IHBvcnQuXHJcbiAgICAgICAgICAgKiBFbHNlIGlmIGl0IGlzIHJpZ2h0IHRvIGxlZnQgaXQgaXMgdmljZSB2ZXJzYVxyXG4gICAgICAgICAgICovXHJcbiAgICAgICAgICBub2RlSW5wdXRQb3J0SWQgPVxyXG4gICAgICAgICAgICBub2RlUG9ydHNPcmRlcmluZyA9PT0gXCJMLXRvLVJcIiA/IGxlZnRQb3J0SWQgOiByaWdodFBvcnRJZDtcclxuICAgICAgICAgIG5vZGVPdXRwdXRQb3J0SWQgPVxyXG4gICAgICAgICAgICBub2RlUG9ydHNPcmRlcmluZyA9PT0gXCJSLXRvLUxcIiA/IGxlZnRQb3J0SWQgOiByaWdodFBvcnRJZDtcclxuICAgICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgICAgbm9kZVBvcnRzT3JkZXJpbmcgPT09IFwiVC10by1CXCIgfHxcclxuICAgICAgICAgIG5vZGVQb3J0c09yZGVyaW5nID09PSBcIkItdG8tVFwiXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICB2YXIgdG9wUG9ydElkID1cclxuICAgICAgICAgICAgbm9kZVBvcnRzWzBdLnkgPCAwID8gbm9kZVBvcnRzWzBdLmlkIDogbm9kZVBvcnRzWzFdLmlkOyAvLyBUaGUgeSB2YWx1ZSBvZiB0b3AgcG9ydCBpcyBzdXBwb3NlZCB0byBiZSBuZWdhdGl2ZVxyXG4gICAgICAgICAgdmFyIGJvdHRvbVBvcnRJZCA9XHJcbiAgICAgICAgICAgIG5vZGVQb3J0c1swXS55ID4gMCA/IG5vZGVQb3J0c1swXS5pZCA6IG5vZGVQb3J0c1sxXS5pZDsgLy8gVGhlIHkgdmFsdWUgb2YgYm90dG9tIHBvcnQgaXMgc3VwcG9zZWQgdG8gYmUgcG9zaXRpdmVcclxuICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgKiBJZiB0aGUgcG9ydCBvcmRlcmluZyBpcyB0b3AgdG8gYm90dG9tIHRoZW4gdGhlIGlucHV0IHBvcnQgaXMgdGhlIHRvcCBwb3J0IGFuZCB0aGUgb3V0cHV0IHBvcnQgaXMgdGhlIGJvdHRvbSBwb3J0LlxyXG4gICAgICAgICAgICogRWxzZSBpZiBpdCBpcyByaWdodCB0byBsZWZ0IGl0IGlzIHZpY2UgdmVyc2FcclxuICAgICAgICAgICAqL1xyXG4gICAgICAgICAgbm9kZUlucHV0UG9ydElkID1cclxuICAgICAgICAgICAgbm9kZVBvcnRzT3JkZXJpbmcgPT09IFwiVC10by1CXCIgPyB0b3BQb3J0SWQgOiBib3R0b21Qb3J0SWQ7XHJcbiAgICAgICAgICBub2RlT3V0cHV0UG9ydElkID1cclxuICAgICAgICAgICAgbm9kZVBvcnRzT3JkZXJpbmcgPT09IFwiQi10by1UXCIgPyB0b3BQb3J0SWQgOiBib3R0b21Qb3J0SWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZXR1cm4gYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIElPIHBvcnRzIG9mIHRoZSBub2RlXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIGlucHV0UG9ydElkOiBub2RlSW5wdXRQb3J0SWQsXHJcbiAgICAgICAgICBvdXRwdXRQb3J0SWQ6IG5vZGVPdXRwdXRQb3J0SWQsXHJcbiAgICAgICAgfTtcclxuICAgICAgfTtcclxuICAgICAgLy8gSWYgYXQgbGVhc3Qgb25lIGVuZCBvZiB0aGUgZWRnZSBoYXMgcG9ydHMgdGhlbiB3ZSBzaG91bGQgZGV0ZXJtaW5lIHRoZSBwb3J0cyB3aGVyZSB0aGUgZWRnZSBzaG91bGQgYmUgY29ubmVjdGVkLlxyXG4gICAgICBpZiAoc291cmNlSGFzUG9ydHMgfHwgdGFyZ2V0SGFzUG9ydHMpIHtcclxuICAgICAgICB2YXIgc291cmNlTm9kZUlucHV0UG9ydElkLFxyXG4gICAgICAgICAgc291cmNlTm9kZU91dHB1dFBvcnRJZCxcclxuICAgICAgICAgIHRhcmdldE5vZGVJbnB1dFBvcnRJZCxcclxuICAgICAgICAgIHRhcmdldE5vZGVPdXRwdXRQb3J0SWQ7XHJcblxyXG4gICAgICAgIC8vIElmIHNvdXJjZSBub2RlIGhhcyBwb3J0cyBzZXQgdGhlIHZhcmlhYmxlcyBkZWRpY2F0ZWQgZm9yIGl0cyBJTyBwb3J0c1xyXG4gICAgICAgIGlmIChzb3VyY2VIYXNQb3J0cykge1xyXG4gICAgICAgICAgdmFyIGlvUG9ydHMgPSBnZXRJT1BvcnRJZHMoc291cmNlTm9kZSk7XHJcbiAgICAgICAgICBzb3VyY2VOb2RlSW5wdXRQb3J0SWQgPSBpb1BvcnRzLmlucHV0UG9ydElkO1xyXG4gICAgICAgICAgc291cmNlTm9kZU91dHB1dFBvcnRJZCA9IGlvUG9ydHMub3V0cHV0UG9ydElkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gJiYgKGVsZW1lbnRVdGlsaXRpZXMuaXNNb2R1bGF0aW9uQXJjQ2xhc3Moc2JnbmNsYXNzKSAmJiApXHJcbiAgICAgICAgLy8gSWYgdGFyZ2V0IG5vZGUgaGFzIHBvcnRzIHNldCB0aGUgdmFyaWFibGVzIGRlZGljYXRlZCBmb3IgaXRzIElPIHBvcnRzXHJcbiAgICAgICAgaWYgKHRhcmdldEhhc1BvcnRzICYmICEoZWxlbWVudFV0aWxpdGllcy5pc01vZHVsYXRpb25BcmNDbGFzcyhzYmduY2xhc3MpICYmIGVsZW1lbnRVdGlsaXRpZXMuaXNQcm9jZXNzTm9kZSh0YXJnZXROb2RlLmRhdGEoJ2NsYXNzJykpKSkge1xyXG4gICAgICAgICAgdmFyIGlvUG9ydHMgPSBnZXRJT1BvcnRJZHModGFyZ2V0Tm9kZSk7XHJcbiAgICAgICAgICB0YXJnZXROb2RlSW5wdXRQb3J0SWQgPSBpb1BvcnRzLmlucHV0UG9ydElkO1xyXG4gICAgICAgICAgdGFyZ2V0Tm9kZU91dHB1dFBvcnRJZCA9IGlvUG9ydHMub3V0cHV0UG9ydElkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgc2JnbmNsYXNzID09PSBcImNvbnN1bXB0aW9uXCIgfHxcclxuICAgICAgICAgIHNiZ25jbGFzcyA9PT0gXCJ0cmFuc2xhdGlvbiBjb25zdW1wdGlvblwiIHx8XHJcbiAgICAgICAgICBzYmduY2xhc3MgPT09IFwidHJhbnNjcmlwdGlvbiBjb25zdW1wdGlvblwiXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAvLyBBIGNvbnN1bXB0aW9uIGVkZ2Ugc2hvdWxkIGJlIGNvbm5lY3RlZCB0byB0aGUgaW5wdXQgcG9ydCBvZiB0aGUgdGFyZ2V0IG5vZGUgd2hpY2ggaXMgc3VwcG9zZWQgdG8gYmUgYSBwcm9jZXNzIChhbnkga2luZCBvZilcclxuICAgICAgICAgIHBvcnRzb3VyY2UgPSBzb3VyY2VOb2RlT3V0cHV0UG9ydElkO1xyXG4gICAgICAgICAgcG9ydHRhcmdldCA9IHRhcmdldE5vZGVJbnB1dFBvcnRJZDtcclxuICAgICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgICAgc2JnbmNsYXNzID09PSBcInByb2R1Y3Rpb25cIiB8fFxyXG4gICAgICAgICAgc2JnbmNsYXNzID09PSBcInRyYW5zbGF0aW9uIHByb2R1Y3Rpb25cIiB8fFxyXG4gICAgICAgICAgc2JnbmNsYXNzID09PSBcInRyYW5zY3JpcHRpb24gcHJvZHVjdGlvblwiIHx8XHJcbiAgICAgICAgICBzYmduY2xhc3MgPT09IFwidHJhbnNwb3J0XCJcclxuICAgICAgICApIHtcclxuICAgICAgICAgIC8vIEEgcHJvZHVjdGlvbiBlZGdlIHNob3VsZCBiZSBjb25uZWN0ZWQgdG8gdGhlIG91dHB1dCBwb3J0IG9mIHRoZSBzb3VyY2Ugbm9kZSB3aGljaCBpcyBzdXBwb3NlZCB0byBiZSBhIHByb2Nlc3MgKGFueSBraW5kIG9mKVxyXG4gICAgICAgICAgLy8gQSBtb2R1bGF0aW9uIGVkZ2UgbWF5IGhhdmUgYSBsb2dpY2FsIG9wZXJhdG9yIGFzIHNvdXJjZSBub2RlIGluIHRoaXMgY2FzZSB0aGUgZWRnZSBzaG91bGQgYmUgY29ubmVjdGVkIHRvIHRoZSBvdXRwdXQgcG9ydCBvZiBpdFxyXG4gICAgICAgICAgLy8gVGhlIGJlbG93IGFzc2lnbm1lbnQgc2F0aXNmeSBhbGwgb2YgdGhlc2UgY29uZGl0aW9uXHJcbiAgICAgICAgICBpZiAoZ3JvdXBJRCA9PSAwIHx8IGdyb3VwSUQgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIC8vIGdyb3VwSUQgMCBmb3IgcmV2ZXJzaWJsZSByZWFjdGlvbnMgZ3JvdXAgMFxyXG4gICAgICAgICAgICBwb3J0c291cmNlID0gc291cmNlTm9kZU91dHB1dFBvcnRJZDtcclxuICAgICAgICAgICAgcG9ydHRhcmdldCA9IHRhcmdldE5vZGVJbnB1dFBvcnRJZDtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vaWYgcmVhY3Rpb24gaXMgcmV2ZXJzaWJsZSBhbmQgZWRnZSBiZWxvbmdzIHRvIGdyb3VwIDFcclxuICAgICAgICAgICAgcG9ydHNvdXJjZSA9IHNvdXJjZU5vZGVJbnB1dFBvcnRJZDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgICAgZWxlbWVudFV0aWxpdGllcy5pc01vZHVsYXRpb25BcmNDbGFzcyhzYmduY2xhc3MpIHx8XHJcbiAgICAgICAgICBlbGVtZW50VXRpbGl0aWVzLmlzQUZBcmNDbGFzcyhzYmduY2xhc3MpIHx8XHJcbiAgICAgICAgICBlbGVtZW50VXRpbGl0aWVzLmlzU0JNTEFyY0NsYXNzKHNiZ25jbGFzcykgfHxcclxuICAgICAgICAgIGVsZW1lbnRVdGlsaXRpZXMuaXNMb2dpY0FyYyhzYmduY2xhc3MpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBwb3J0c291cmNlID0gc291cmNlTm9kZU91dHB1dFBvcnRJZDtcclxuICAgICAgICAgIHBvcnR0YXJnZXQgPSB0YXJnZXROb2RlSW5wdXRQb3J0SWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBUaGUgZGVmYXVsdCBwb3J0c291cmNlL3BvcnR0YXJnZXQgYXJlIHRoZSBzb3VyY2UvdGFyZ2V0IHRoZW1zZWx2ZXMuIElmIHRoZXkgYXJlIG5vdCBzZXQgdXNlIHRoZXNlIGRlZmF1bHRzLlxyXG4gICAgICAvLyBUaGUgcG9ydHNvdXJjZSBhbmQgcG9ydHRhcmdldCBhcmUgZGV0ZXJtaW5lZCBzZXQgdGhlbSBpbiBkYXRhIG9iamVjdC5cclxuICAgICAgZGF0YS5wb3J0c291cmNlID0gcG9ydHNvdXJjZSB8fCBzb3VyY2U7XHJcbiAgICAgIGRhdGEucG9ydHRhcmdldCA9IHBvcnR0YXJnZXQgfHwgdGFyZ2V0O1xyXG5cclxuICAgICAgdmFyIGVsZXMgPSBjeS5hZGQoe1xyXG4gICAgICAgIGdyb3VwOiBcImVkZ2VzXCIsXHJcbiAgICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgICBjc3M6IGNzcyxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB2YXIgbmV3RWRnZSA9IGVsZXNbZWxlcy5sZW5ndGggLSAxXTtcclxuXHJcbiAgICAgIHJldHVybiBuZXdFZGdlO1xyXG4gICAgfTtcclxuXHJcbiAgICBlbGVtZW50VXRpbGl0aWVzLmFkZFByb2Nlc3NXaXRoQ29udmVuaWVudEVkZ2VzID0gZnVuY3Rpb24gKFxyXG4gICAgICBfc291cmNlLFxyXG4gICAgICBfdGFyZ2V0LFxyXG4gICAgICBub2RlUGFyYW1zXHJcbiAgICApIHtcclxuICAgICAgLy8gSWYgc291cmNlIGFuZCB0YXJnZXQgSURzIGFyZSBnaXZlbiBnZXQgdGhlIGVsZW1lbnRzIGJ5IElEc1xyXG4gICAgICB2YXIgc291cmNlID1cclxuICAgICAgICB0eXBlb2YgX3NvdXJjZSA9PT0gXCJzdHJpbmdcIiA/IGN5LmdldEVsZW1lbnRCeUlkKF9zb3VyY2UpIDogX3NvdXJjZTtcclxuICAgICAgdmFyIHRhcmdldCA9XHJcbiAgICAgICAgdHlwZW9mIF90YXJnZXQgPT09IFwic3RyaW5nXCIgPyBjeS5nZXRFbGVtZW50QnlJZChfdGFyZ2V0KSA6IF90YXJnZXQ7XHJcblxyXG4gICAgICAvLyBQcm9jZXNzIHBhcmVudCBzaG91bGQgYmUgdGhlIGNsb3Nlc3QgY29tbW9uIGFuY2VzdG9yIG9mIHRoZSBzb3VyY2UgYW5kIHRhcmdldCBub2Rlc1xyXG4gICAgICB2YXIgcHJvY2Vzc1BhcmVudCA9IGN5XHJcbiAgICAgICAgLmNvbGxlY3Rpb24oW3NvdXJjZVswXSwgdGFyZ2V0WzBdXSlcclxuICAgICAgICAuY29tbW9uQW5jZXN0b3JzKClcclxuICAgICAgICAuZmlyc3QoKTtcclxuXHJcbiAgICAgIC8vIFByb2Nlc3Mgc2hvdWxkIGJlIGF0IHRoZSBtaWRkbGUgb2YgdGhlIHNvdXJjZSBhbmQgdGFyZ2V0IG5vZGVzXHJcbiAgICAgIHZhciB4ID0gKHNvdXJjZS5wb3NpdGlvbihcInhcIikgKyB0YXJnZXQucG9zaXRpb24oXCJ4XCIpKSAvIDI7XHJcbiAgICAgIHZhciB5ID0gKHNvdXJjZS5wb3NpdGlvbihcInlcIikgKyB0YXJnZXQucG9zaXRpb24oXCJ5XCIpKSAvIDI7XHJcblxyXG4gICAgICAvLyBDcmVhdGUgdGhlIHByb2Nlc3Mgd2l0aCBnaXZlbi9jYWxjdWxhdGVkIHZhcmlhYmxlc1xyXG4gICAgICB2YXIgcHJvY2VzcyA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkTm9kZShcclxuICAgICAgICB4LFxyXG4gICAgICAgIHksXHJcbiAgICAgICAgbm9kZVBhcmFtcyxcclxuICAgICAgICB1bmRlZmluZWQsXHJcbiAgICAgICAgcHJvY2Vzc1BhcmVudC5pZCgpXHJcbiAgICAgICk7XHJcbiAgICAgIHZhciB4ZGlmZiA9IHNvdXJjZS5wb3NpdGlvbihcInhcIikgLSB0YXJnZXQucG9zaXRpb24oXCJ4XCIpO1xyXG4gICAgICB2YXIgeWRpZmYgPSBzb3VyY2UucG9zaXRpb24oXCJ5XCIpIC0gdGFyZ2V0LnBvc2l0aW9uKFwieVwiKTtcclxuICAgICAgaWYgKE1hdGguYWJzKHhkaWZmKSA+PSBNYXRoLmFicyh5ZGlmZikpIHtcclxuICAgICAgICBpZiAoeGRpZmYgPCAwKSBlbGVtZW50VXRpbGl0aWVzLnNldFBvcnRzT3JkZXJpbmcocHJvY2VzcywgXCJMLXRvLVJcIik7XHJcbiAgICAgICAgZWxzZSBlbGVtZW50VXRpbGl0aWVzLnNldFBvcnRzT3JkZXJpbmcocHJvY2VzcywgXCJSLXRvLUxcIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKHlkaWZmIDwgMCkgZWxlbWVudFV0aWxpdGllcy5zZXRQb3J0c09yZGVyaW5nKHByb2Nlc3MsIFwiVC10by1CXCIpO1xyXG4gICAgICAgIGVsc2UgZWxlbWVudFV0aWxpdGllcy5zZXRQb3J0c09yZGVyaW5nKHByb2Nlc3MsIFwiQi10by1UXCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDcmVhdGUgdGhlIGVkZ2VzIG9uZSBpcyBiZXR3ZWVuIHRoZSBwcm9jZXNzIGFuZCB0aGUgc291cmNlIG5vZGUgKHdoaWNoIHNob3VsZCBiZSBhIGNvbnN1bXB0aW9uKSxcclxuICAgICAgLy8gdGhlIG90aGVyIG9uZSBpcyBiZXR3ZWVuIHRoZSBwcm9jZXNzIGFuZCB0aGUgdGFyZ2V0IG5vZGUgKHdoaWNoIHNob3VsZCBiZSBhIHByb2R1Y3Rpb24pLlxyXG4gICAgICAvLyBGb3IgbW9yZSBpbmZvcm1hdGlvbiBwbGVhc2UgcmVmZXIgdG8gU0JHTi1QRCByZWZlcmVuY2UgY2FyZC5cclxuICAgICAgdmFyIGVkZ2VCdHdTcmMgPSBlbGVtZW50VXRpbGl0aWVzLmFkZEVkZ2Uoc291cmNlLmlkKCksIHByb2Nlc3MuaWQoKSwge1xyXG4gICAgICAgIGNsYXNzOiBcImNvbnN1bXB0aW9uXCIsXHJcbiAgICAgICAgbGFuZ3VhZ2U6IG5vZGVQYXJhbXMubGFuZ3VhZ2UsXHJcbiAgICAgIH0pO1xyXG4gICAgICB2YXIgZWRnZUJ0d1RndCA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkRWRnZShwcm9jZXNzLmlkKCksIHRhcmdldC5pZCgpLCB7XHJcbiAgICAgICAgY2xhc3M6IFwicHJvZHVjdGlvblwiLFxyXG4gICAgICAgIGxhbmd1YWdlOiBub2RlUGFyYW1zLmxhbmd1YWdlLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIENyZWF0ZSBhIGNvbGxlY3Rpb24gaW5jbHVkaW5nIHRoZSBlbGVtZW50cyBhbmQgdG8gYmUgcmV0dXJuZWRcclxuICAgICAgdmFyIGNvbGxlY3Rpb24gPSBjeS5jb2xsZWN0aW9uKFtcclxuICAgICAgICBwcm9jZXNzWzBdLFxyXG4gICAgICAgIGVkZ2VCdHdTcmNbMF0sXHJcbiAgICAgICAgZWRnZUJ0d1RndFswXSxcclxuICAgICAgXSk7XHJcbiAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKlxyXG4gICAgICogVGhpcyBtZXRob2QgYXNzdW1lcyB0aGF0IHBhcmFtLm5vZGVzVG9NYWtlQ29tcG91bmQgY29udGFpbnMgYXQgbGVhc3Qgb25lIG5vZGVcclxuICAgICAqIGFuZCBhbGwgb2YgdGhlIG5vZGVzIGluY2x1ZGluZyBpbiBpdCBoYXZlIHRoZSBzYW1lIHBhcmVudC4gSXQgY3JlYXRlcyBhIGNvbXBvdW5kIGZvdCB0aGUgZ2l2ZW4gbm9kZXMgYW4gaGF2aW5nIHRoZSBnaXZlbiB0eXBlLlxyXG4gICAgICovXHJcbiAgICBlbGVtZW50VXRpbGl0aWVzLmNyZWF0ZUNvbXBvdW5kRm9yR2l2ZW5Ob2RlcyA9IGZ1bmN0aW9uIChcclxuICAgICAgbm9kZXNUb01ha2VDb21wb3VuZCxcclxuICAgICAgY29tcG91bmRUeXBlXHJcbiAgICApIHtcclxuICAgICAgdmFyIG9sZFBhcmVudElkID0gbm9kZXNUb01ha2VDb21wb3VuZFswXS5kYXRhKFwicGFyZW50XCIpO1xyXG4gICAgICB2YXIgbGFuZ3VhZ2UgPSBub2Rlc1RvTWFrZUNvbXBvdW5kWzBdLmRhdGEoXCJsYW5ndWFnZVwiKTtcclxuICAgICAgLy8gaWYgbm9kZXNUb01ha2VDb21wb3VuZCBjb250YWluIGJvdGggUEQgYW5kIEFGIG5vZGVzLCB0aGVuIHNldCBsYW5ndWFnZSBvZiBjb21wb3VuZCBhcyBVbmtub3duXHJcbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbm9kZXNUb01ha2VDb21wb3VuZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChub2Rlc1RvTWFrZUNvbXBvdW5kW2ldICE9IGxhbmd1YWdlKSB7XHJcbiAgICAgICAgICBsYW5ndWFnZSA9IFwiVW5rbm93blwiO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIC8vIFRoZSBwYXJlbnQgb2YgbmV3IGNvbXBvdW5kIHdpbGwgYmUgdGhlIG9sZCBwYXJlbnQgb2YgdGhlIG5vZGVzIHRvIG1ha2UgY29tcG91bmQuIHgsIHkgYW5kIGlkIHBhcmFtZXRlcnMgYXJlIG5vdCBzZXQuXHJcbiAgICAgIHZhciBuZXdDb21wb3VuZCA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkTm9kZShcclxuICAgICAgICB1bmRlZmluZWQsXHJcbiAgICAgICAgdW5kZWZpbmVkLFxyXG4gICAgICAgIHsgY2xhc3M6IGNvbXBvdW5kVHlwZSwgbGFuZ3VhZ2U6IGxhbmd1YWdlIH0sXHJcbiAgICAgICAgdW5kZWZpbmVkLFxyXG4gICAgICAgIG9sZFBhcmVudElkXHJcbiAgICAgICk7XHJcbiAgICAgIHZhciBuZXdDb21wb3VuZElkID0gbmV3Q29tcG91bmQuaWQoKTtcclxuICAgICAgdmFyIG5ld0VsZXMgPSBlbGVtZW50VXRpbGl0aWVzLmNoYW5nZVBhcmVudChcclxuICAgICAgICBub2Rlc1RvTWFrZUNvbXBvdW5kLFxyXG4gICAgICAgIG5ld0NvbXBvdW5kSWRcclxuICAgICAgKTtcclxuICAgICAgbmV3RWxlcyA9IG5ld0VsZXMudW5pb24obmV3Q29tcG91bmQpO1xyXG4gICAgICByZXR1cm4gbmV3RWxlcztcclxuICAgIH07XHJcblxyXG4gICAgZWxlbWVudFV0aWxpdGllcy5jcmVhdGVUcmFuc2xhdGlvblJlYWN0aW9uID0gZnVuY3Rpb24gKFxyXG4gICAgICBtUm5hTmFtZSxcclxuICAgICAgcHJvdGVpbk5hbWUsXHJcbiAgICAgIHByb2Nlc3NQb3NpdGlvbixcclxuICAgICAgZWRnZUxlbmd0aFxyXG4gICAgKSB7XHJcbiAgICAgIGNvbnN0IGRlZmF1bHRQcm9jZXNzUHJvcGVydGllcyA9XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5nZXREZWZhdWx0UHJvcGVydGllcyhcInRyYW5zbGF0aW9uXCIpO1xyXG4gICAgICBjb25zdCBkZWZhdWx0U291cmNlQW5kU2lua1Byb3BlcnRpZXMgPVxyXG4gICAgICAgIGVsZW1lbnRVdGlsaXRpZXMuZ2V0RGVmYXVsdFByb3BlcnRpZXMoXCJlbXB0eSBzZXRcIik7XHJcbiAgICAgIGNvbnN0IGRlZmF1bHROdWNsZWljQWNpZEZlYXR1cmVQcm9wZXJ0aWVzID1cclxuICAgICAgICBlbGVtZW50VXRpbGl0aWVzLmdldERlZmF1bHRQcm9wZXJ0aWVzKFwibnVjbGVpYyBhY2lkIGZlYXR1cmVcIik7XHJcbiAgICAgIGNvbnN0IGRlZmF1bHRNYWNyb21vbGVjdWxlUHJvcGVydGllcyA9XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5nZXREZWZhdWx0UHJvcGVydGllcyhcIm1hY3JvbW9sZWN1bGVcIik7XHJcbiAgICAgIGNvbnN0IG1hY3JvbW9sZWN1bGVXaWR0aCA9IGRlZmF1bHRNYWNyb21vbGVjdWxlUHJvcGVydGllcy53aWR0aCB8fCA1MDtcclxuICAgICAgY29uc3Qgc291cmNlQW5kU2lua1dpZHRoID0gZGVmYXVsdFNvdXJjZUFuZFNpbmtQcm9wZXJ0aWVzLndpZHRoIHx8IDUwO1xyXG4gICAgICBjb25zdCBudWNsZWljQWNpZEZlYXR1cmVIZWlnaHQgPVxyXG4gICAgICAgIGRlZmF1bHROdWNsZWljQWNpZEZlYXR1cmVQcm9wZXJ0aWVzLmhlaWdodCB8fCA1MDtcclxuICAgICAgY29uc3QgcHJvY2Vzc1dpZHRoID0gZGVmYXVsdFByb2Nlc3NQcm9wZXJ0aWVzLndpZHRoIHx8IDUwO1xyXG4gICAgICBjb25zdCBwcm9jZXNzSGVpZ2h0ID0gZGVmYXVsdFByb2Nlc3NQcm9wZXJ0aWVzLmhlaWdodCB8fCA1MDtcclxuICAgICAgdmFyIHByb2Nlc3NQb3NpdGlvbiA9XHJcbiAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uIHx8XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5jb252ZXJ0VG9Nb2RlbFBvc2l0aW9uKHtcclxuICAgICAgICAgIHg6IGN5LndpZHRoKCkgLyAyLFxyXG4gICAgICAgICAgeTogY3kuaGVpZ2h0KCkgLyAyLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB2YXIgZWRnZUxlbmd0aCA9IGVkZ2VMZW5ndGggfHwgNjA7XHJcblxyXG4gICAgICBjeS5zdGFydEJhdGNoKCk7XHJcbiAgICAgIGlmICghZWxlbWVudFV0aWxpdGllcy5nZXRNYXBUeXBlKCkpIHtcclxuICAgICAgICBlbGVtZW50VXRpbGl0aWVzLnNldE1hcFR5cGUoXCJQRFwiKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIHByb2Nlc3NOb2RlID0gZWxlbWVudFV0aWxpdGllcy5hZGROb2RlKFxyXG4gICAgICAgIHByb2Nlc3NQb3NpdGlvbi54LFxyXG4gICAgICAgIHByb2Nlc3NQb3NpdGlvbi55LFxyXG4gICAgICAgIHsgY2xhc3M6IFwicHJvY2Vzc1wiLCBsYW5ndWFnZTogXCJQRFwiIH1cclxuICAgICAgKTtcclxuICAgICAgZWxlbWVudFV0aWxpdGllcy5zZXRQb3J0c09yZGVyaW5nKHByb2Nlc3NOb2RlLCBcIkwtdG8tUlwiKTtcclxuICAgICAgcHJvY2Vzc05vZGUuZGF0YShcImp1c3RBZGRlZFwiLCB0cnVlKTtcclxuXHJcbiAgICAgIGNvbnN0IHhQb3NPZlNvdXJjZUFuZFNpbmtOb2RlID1cclxuICAgICAgICBwcm9jZXNzUG9zaXRpb24ueCAtXHJcbiAgICAgICAgZWRnZUxlbmd0aCAtXHJcbiAgICAgICAgcHJvY2Vzc1dpZHRoIC8gMiAtXHJcbiAgICAgICAgc291cmNlQW5kU2lua1dpZHRoIC8gMjtcclxuICAgICAgY29uc3QgeVBvc09mU291cmNlQW5kU2lua05vZGUgPSBwcm9jZXNzUG9zaXRpb24ueTtcclxuICAgICAgdmFyIHNvdXJjZUFuZFNpbmtOb2RlID0gZWxlbWVudFV0aWxpdGllcy5hZGROb2RlKFxyXG4gICAgICAgIHhQb3NPZlNvdXJjZUFuZFNpbmtOb2RlLFxyXG4gICAgICAgIHlQb3NPZlNvdXJjZUFuZFNpbmtOb2RlLFxyXG4gICAgICAgIHsgY2xhc3M6IFwiZW1wdHkgc2V0XCIsIGxhbmd1YWdlOiBcIlBEXCIgfVxyXG4gICAgICApO1xyXG4gICAgICBzb3VyY2VBbmRTaW5rTm9kZS5kYXRhKFwianVzdEFkZGVkXCIsIHRydWUpO1xyXG5cclxuICAgICAgdmFyIGNvbnN1bXB0aW9uRWRnZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkRWRnZShcclxuICAgICAgICBzb3VyY2VBbmRTaW5rTm9kZS5pZCgpLFxyXG4gICAgICAgIHByb2Nlc3NOb2RlLmlkKCksXHJcbiAgICAgICAgeyBjbGFzczogXCJjb25zdW1wdGlvblwiLCBsYW5ndWFnZTogXCJQRFwiIH1cclxuICAgICAgKTtcclxuICAgICAgY29uc3VtcHRpb25FZGdlLmRhdGEoXCJqdXN0QWRkZWRcIiwgdHJ1ZSk7XHJcblxyXG4gICAgICBjb25zdCB4UG9zT2ZtUm5hTm9kZSA9IHByb2Nlc3NQb3NpdGlvbi54O1xyXG4gICAgICBjb25zdCB5UG9zT2ZtUm5hTm9kZSA9XHJcbiAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uLnkgLVxyXG4gICAgICAgIGVkZ2VMZW5ndGggLVxyXG4gICAgICAgIHByb2Nlc3NIZWlnaHQgLyAyIC1cclxuICAgICAgICBudWNsZWljQWNpZEZlYXR1cmVIZWlnaHQgLyAyO1xyXG4gICAgICB2YXIgbVJuYU5vZGUgPSBlbGVtZW50VXRpbGl0aWVzLmFkZE5vZGUoeFBvc09mbVJuYU5vZGUsIHlQb3NPZm1SbmFOb2RlLCB7XHJcbiAgICAgICAgY2xhc3M6IFwibnVjbGVpYyBhY2lkIGZlYXR1cmVcIixcclxuICAgICAgICBsYW5ndWFnZTogXCJQRFwiLFxyXG4gICAgICB9KTtcclxuICAgICAgbVJuYU5vZGUuZGF0YShcImp1c3RBZGRlZFwiLCB0cnVlKTtcclxuICAgICAgbVJuYU5vZGUuZGF0YShcImxhYmVsXCIsIG1SbmFOYW1lKTtcclxuICAgICAgY29uc3QgaW5mb2JveE9iamVjdE9mR2VuZSA9IHtcclxuICAgICAgICBjbGF6ejogXCJ1bml0IG9mIGluZm9ybWF0aW9uXCIsXHJcbiAgICAgICAgbGFiZWw6IHtcclxuICAgICAgICAgIHRleHQ6IFwiY3Q6bVJOQVwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYmJveDoge1xyXG4gICAgICAgICAgdzogNDUsXHJcbiAgICAgICAgICBoOiAxNSxcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG4gICAgICBlbGVtZW50VXRpbGl0aWVzLmFkZFN0YXRlT3JJbmZvQm94KG1SbmFOb2RlLCBpbmZvYm94T2JqZWN0T2ZHZW5lKTtcclxuXHJcbiAgICAgIHZhciBuZWNlc3NhcnlTdGltdWxhdGlvbkVkZ2UgPSBlbGVtZW50VXRpbGl0aWVzLmFkZEVkZ2UoXHJcbiAgICAgICAgbVJuYU5vZGUuaWQoKSxcclxuICAgICAgICBwcm9jZXNzTm9kZS5pZCgpLFxyXG4gICAgICAgIHsgY2xhc3M6IFwibmVjZXNzYXJ5IHN0aW11bGF0aW9uXCIsIGxhbmd1YWdlOiBcIlBEXCIgfVxyXG4gICAgICApO1xyXG4gICAgICBuZWNlc3NhcnlTdGltdWxhdGlvbkVkZ2UuZGF0YShcImp1c3RBZGRlZFwiLCB0cnVlKTtcclxuXHJcbiAgICAgIGNvbnN0IHhQb3NPZlByb3RlaW5Ob2RlID1cclxuICAgICAgICBwcm9jZXNzUG9zaXRpb24ueCArXHJcbiAgICAgICAgZWRnZUxlbmd0aCArXHJcbiAgICAgICAgcHJvY2Vzc1dpZHRoIC8gMiArXHJcbiAgICAgICAgbWFjcm9tb2xlY3VsZVdpZHRoIC8gMjtcclxuICAgICAgY29uc3QgeVBvc3RPZlByb3RlaW5Ob2RlID0gcHJvY2Vzc1Bvc2l0aW9uLnk7XHJcbiAgICAgIHZhciBwcm90ZWluTm9kZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkTm9kZShcclxuICAgICAgICB4UG9zT2ZQcm90ZWluTm9kZSxcclxuICAgICAgICB5UG9zdE9mUHJvdGVpbk5vZGUsXHJcbiAgICAgICAgeyBjbGFzczogXCJtYWNyb21vbGVjdWxlXCIsIGxhbmd1YWdlOiBcIlBEXCIgfVxyXG4gICAgICApO1xyXG4gICAgICBwcm90ZWluTm9kZS5kYXRhKFwianVzdEFkZGVkXCIsIHRydWUpO1xyXG4gICAgICBwcm90ZWluTm9kZS5kYXRhKFwibGFiZWxcIiwgcHJvdGVpbk5hbWUpO1xyXG5cclxuICAgICAgdmFyIHByb2R1Y3Rpb25FZGdlID0gZWxlbWVudFV0aWxpdGllcy5hZGRFZGdlKFxyXG4gICAgICAgIHByb2Nlc3NOb2RlLmlkKCksXHJcbiAgICAgICAgcHJvdGVpbk5vZGUuaWQoKSxcclxuICAgICAgICB7IGNsYXNzOiBcInByb2R1Y3Rpb25cIiwgbGFuZ3VhZ2U6IFwiUERcIiB9XHJcbiAgICAgICk7XHJcbiAgICAgIHByb2R1Y3Rpb25FZGdlLmRhdGEoXCJqdXN0QWRkZWRcIiwgdHJ1ZSk7XHJcblxyXG4gICAgICBjeS5lbmRCYXRjaCgpO1xyXG5cclxuICAgICAgLy9maWx0ZXIgdGhlIGp1c3QgYWRkZWQgZWxlbWVtdHMgdG8gcmV0dXJuIHRoZW0gYW5kIHJlbW92ZSBqdXN0IGFkZGVkIG1hcmtcclxuICAgICAgdmFyIGVsZXMgPSBjeS5lbGVtZW50cyhcIltqdXN0QWRkZWRdXCIpO1xyXG4gICAgICBlbGVzLnJlbW92ZURhdGEoXCJqdXN0QWRkZWRcIik7XHJcblxyXG4gICAgICBjeS5lbGVtZW50cygpLnVuc2VsZWN0KCk7XHJcbiAgICAgIGVsZXMuc2VsZWN0KCk7XHJcblxyXG4gICAgICByZXR1cm4gZWxlczsgLy8gUmV0dXJuIHRoZSBqdXN0IGFkZGVkIGVsZW1lbnRzXHJcbiAgICB9O1xyXG5cclxuICAgIGVsZW1lbnRVdGlsaXRpZXMuY3JlYXRlVHJhbnNjcmlwdGlvblJlYWN0aW9uID0gZnVuY3Rpb24gKFxyXG4gICAgICBnZW5lTmFtZSxcclxuICAgICAgbVJuYU5hbWUsXHJcbiAgICAgIHByb2Nlc3NQb3NpdGlvbixcclxuICAgICAgZWRnZUxlbmd0aFxyXG4gICAgKSB7XHJcbiAgICAgIGNvbnN0IGRlZmF1bHRQcm9jZXNzUHJvcGVydGllcyA9XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5nZXREZWZhdWx0UHJvcGVydGllcyhcInRyYW5zY3JpcHRpb25cIik7XHJcbiAgICAgIGNvbnN0IGRlZmF1bHRTb3VyY2VBbmRTaW5rUHJvcGVydGllcyA9XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5nZXREZWZhdWx0UHJvcGVydGllcyhcImVtcHR5IHNldFwiKTtcclxuICAgICAgY29uc3QgZGVmYXVsdE51Y2xlaWNBY2lkRmVhdHVyZVByb3BlcnRpZXMgPVxyXG4gICAgICAgIGVsZW1lbnRVdGlsaXRpZXMuZ2V0RGVmYXVsdFByb3BlcnRpZXMoXCJudWNsZWljIGFjaWQgZmVhdHVyZVwiKTtcclxuICAgICAgY29uc3Qgc291cmNlQW5kU2lua1dpZHRoID0gZGVmYXVsdFNvdXJjZUFuZFNpbmtQcm9wZXJ0aWVzLndpZHRoIHx8IDUwO1xyXG4gICAgICBjb25zdCBudWNsZWljQWNpZEZlYXR1cmVIZWlnaHQgPVxyXG4gICAgICAgIGRlZmF1bHROdWNsZWljQWNpZEZlYXR1cmVQcm9wZXJ0aWVzLmhlaWdodCB8fCA1MDtcclxuICAgICAgY29uc3QgbnVjbGVpY0FjaWRGZWF0dXJlV2lkdGggPVxyXG4gICAgICAgIGRlZmF1bHROdWNsZWljQWNpZEZlYXR1cmVQcm9wZXJ0aWVzLndpZHRoIHx8IDUwO1xyXG4gICAgICBjb25zdCBwcm9jZXNzV2lkdGggPSBkZWZhdWx0UHJvY2Vzc1Byb3BlcnRpZXMud2lkdGggfHwgNTA7XHJcbiAgICAgIGNvbnN0IHByb2Nlc3NIZWlnaHQgPSBkZWZhdWx0UHJvY2Vzc1Byb3BlcnRpZXMuaGVpZ2h0IHx8IDUwO1xyXG4gICAgICB2YXIgcHJvY2Vzc1Bvc2l0aW9uID1cclxuICAgICAgICBwcm9jZXNzUG9zaXRpb24gfHxcclxuICAgICAgICBlbGVtZW50VXRpbGl0aWVzLmNvbnZlcnRUb01vZGVsUG9zaXRpb24oe1xyXG4gICAgICAgICAgeDogY3kud2lkdGgoKSAvIDIsXHJcbiAgICAgICAgICB5OiBjeS5oZWlnaHQoKSAvIDIsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIHZhciBlZGdlTGVuZ3RoID0gZWRnZUxlbmd0aCB8fCA2MDtcclxuXHJcbiAgICAgIGN5LnN0YXJ0QmF0Y2goKTtcclxuICAgICAgaWYgKCFlbGVtZW50VXRpbGl0aWVzLmdldE1hcFR5cGUoKSkge1xyXG4gICAgICAgIGVsZW1lbnRVdGlsaXRpZXMuc2V0TWFwVHlwZShcIlBEXCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgcHJvY2Vzc05vZGUgPSBlbGVtZW50VXRpbGl0aWVzLmFkZE5vZGUoXHJcbiAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uLngsXHJcbiAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uLnksXHJcbiAgICAgICAgeyBjbGFzczogXCJwcm9jZXNzXCIsIGxhbmd1YWdlOiBcIlBEXCIgfVxyXG4gICAgICApO1xyXG4gICAgICBlbGVtZW50VXRpbGl0aWVzLnNldFBvcnRzT3JkZXJpbmcocHJvY2Vzc05vZGUsIFwiTC10by1SXCIpO1xyXG4gICAgICBwcm9jZXNzTm9kZS5kYXRhKFwianVzdEFkZGVkXCIsIHRydWUpO1xyXG5cclxuICAgICAgY29uc3QgeFBvc09mU291cmNlQW5kU2lua05vZGUgPVxyXG4gICAgICAgIHByb2Nlc3NQb3NpdGlvbi54IC1cclxuICAgICAgICBlZGdlTGVuZ3RoIC1cclxuICAgICAgICBwcm9jZXNzV2lkdGggLyAyIC1cclxuICAgICAgICBzb3VyY2VBbmRTaW5rV2lkdGggLyAyO1xyXG4gICAgICBjb25zdCB5UG9zT2ZTb3VyY2VBbmRTaW5rTm9kZSA9IHByb2Nlc3NQb3NpdGlvbi55O1xyXG4gICAgICB2YXIgc291cmNlQW5kU2lua05vZGUgPSBlbGVtZW50VXRpbGl0aWVzLmFkZE5vZGUoXHJcbiAgICAgICAgeFBvc09mU291cmNlQW5kU2lua05vZGUsXHJcbiAgICAgICAgeVBvc09mU291cmNlQW5kU2lua05vZGUsXHJcbiAgICAgICAgeyBjbGFzczogXCJlbXB0eSBzZXRcIiwgbGFuZ3VhZ2U6IFwiUERcIiB9XHJcbiAgICAgICk7XHJcbiAgICAgIHNvdXJjZUFuZFNpbmtOb2RlLmRhdGEoXCJqdXN0QWRkZWRcIiwgdHJ1ZSk7XHJcblxyXG4gICAgICB2YXIgY29uc3VtcHRpb25FZGdlID0gZWxlbWVudFV0aWxpdGllcy5hZGRFZGdlKFxyXG4gICAgICAgIHNvdXJjZUFuZFNpbmtOb2RlLmlkKCksXHJcbiAgICAgICAgcHJvY2Vzc05vZGUuaWQoKSxcclxuICAgICAgICB7IGNsYXNzOiBcImNvbnN1bXB0aW9uXCIsIGxhbmd1YWdlOiBcIlBEXCIgfVxyXG4gICAgICApO1xyXG4gICAgICBjb25zdW1wdGlvbkVkZ2UuZGF0YShcImp1c3RBZGRlZFwiLCB0cnVlKTtcclxuXHJcbiAgICAgIGNvbnN0IHhQb3NPZkdlbmVOb2RlID0gcHJvY2Vzc1Bvc2l0aW9uLng7XHJcbiAgICAgIGNvbnN0IHlQb3NPZkdlbmVOb2RlID1cclxuICAgICAgICBwcm9jZXNzUG9zaXRpb24ueSAtXHJcbiAgICAgICAgZWRnZUxlbmd0aCAtXHJcbiAgICAgICAgcHJvY2Vzc0hlaWdodCAvIDIgLVxyXG4gICAgICAgIG51Y2xlaWNBY2lkRmVhdHVyZUhlaWdodCAvIDI7XHJcbiAgICAgIHZhciBnZW5lTm9kZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkTm9kZSh4UG9zT2ZHZW5lTm9kZSwgeVBvc09mR2VuZU5vZGUsIHtcclxuICAgICAgICBjbGFzczogXCJudWNsZWljIGFjaWQgZmVhdHVyZVwiLFxyXG4gICAgICAgIGxhbmd1YWdlOiBcIlBEXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgICBnZW5lTm9kZS5kYXRhKFwianVzdEFkZGVkXCIsIHRydWUpO1xyXG4gICAgICBnZW5lTm9kZS5kYXRhKFwibGFiZWxcIiwgZ2VuZU5hbWUpO1xyXG4gICAgICBjb25zdCBpbmZvYm94T2JqZWN0T2ZHZW5lID0ge1xyXG4gICAgICAgIGNsYXp6OiBcInVuaXQgb2YgaW5mb3JtYXRpb25cIixcclxuICAgICAgICBsYWJlbDoge1xyXG4gICAgICAgICAgdGV4dDogXCJjdDpnZW5lXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBiYm94OiB7XHJcbiAgICAgICAgICB3OiAzNixcclxuICAgICAgICAgIGg6IDE1LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH07XHJcbiAgICAgIGVsZW1lbnRVdGlsaXRpZXMuYWRkU3RhdGVPckluZm9Cb3goZ2VuZU5vZGUsIGluZm9ib3hPYmplY3RPZkdlbmUpO1xyXG5cclxuICAgICAgdmFyIG5lY2Vzc2FyeVN0aW11bGF0aW9uRWRnZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkRWRnZShcclxuICAgICAgICBnZW5lTm9kZS5pZCgpLFxyXG4gICAgICAgIHByb2Nlc3NOb2RlLmlkKCksXHJcbiAgICAgICAgeyBjbGFzczogXCJuZWNlc3Nhcnkgc3RpbXVsYXRpb25cIiwgbGFuZ3VhZ2U6IFwiUERcIiB9XHJcbiAgICAgICk7XHJcbiAgICAgIG5lY2Vzc2FyeVN0aW11bGF0aW9uRWRnZS5kYXRhKFwianVzdEFkZGVkXCIsIHRydWUpO1xyXG5cclxuICAgICAgY29uc3QgeFBvc09mbVJuYU5vZGUgPVxyXG4gICAgICAgIHByb2Nlc3NQb3NpdGlvbi54ICtcclxuICAgICAgICBlZGdlTGVuZ3RoICtcclxuICAgICAgICBwcm9jZXNzV2lkdGggLyAyICtcclxuICAgICAgICBudWNsZWljQWNpZEZlYXR1cmVXaWR0aCAvIDI7XHJcbiAgICAgIGNvbnN0IHlQb3N0T2ZtUm5hTm9kZSA9IHByb2Nlc3NQb3NpdGlvbi55O1xyXG4gICAgICB2YXIgbVJuYU5vZGUgPSBlbGVtZW50VXRpbGl0aWVzLmFkZE5vZGUoeFBvc09mbVJuYU5vZGUsIHlQb3N0T2ZtUm5hTm9kZSwge1xyXG4gICAgICAgIGNsYXNzOiBcIm51Y2xlaWMgYWNpZCBmZWF0dXJlXCIsXHJcbiAgICAgICAgbGFuZ3VhZ2U6IFwiUERcIixcclxuICAgICAgfSk7XHJcbiAgICAgIG1SbmFOb2RlLmRhdGEoXCJqdXN0QWRkZWRcIiwgdHJ1ZSk7XHJcbiAgICAgIG1SbmFOb2RlLmRhdGEoXCJsYWJlbFwiLCBtUm5hTmFtZSk7XHJcbiAgICAgIGNvbnN0IGluZm9ib3hPYmplY3RPZm1SbmEgPSB7XHJcbiAgICAgICAgY2xheno6IFwidW5pdCBvZiBpbmZvcm1hdGlvblwiLFxyXG4gICAgICAgIGxhYmVsOiB7XHJcbiAgICAgICAgICB0ZXh0OiBcImN0Om1STkFcIixcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJib3g6IHtcclxuICAgICAgICAgIHc6IDQ1LFxyXG4gICAgICAgICAgaDogMTUsXHJcbiAgICAgICAgfSxcclxuICAgICAgfTtcclxuICAgICAgZWxlbWVudFV0aWxpdGllcy5hZGRTdGF0ZU9ySW5mb0JveChtUm5hTm9kZSwgaW5mb2JveE9iamVjdE9mbVJuYSk7XHJcblxyXG4gICAgICB2YXIgcHJvZHVjdGlvbkVkZ2UgPSBlbGVtZW50VXRpbGl0aWVzLmFkZEVkZ2UoXHJcbiAgICAgICAgcHJvY2Vzc05vZGUuaWQoKSxcclxuICAgICAgICBtUm5hTm9kZS5pZCgpLFxyXG4gICAgICAgIHsgY2xhc3M6IFwicHJvZHVjdGlvblwiLCBsYW5ndWFnZTogXCJQRFwiIH1cclxuICAgICAgKTtcclxuICAgICAgcHJvZHVjdGlvbkVkZ2UuZGF0YShcImp1c3RBZGRlZFwiLCB0cnVlKTtcclxuXHJcbiAgICAgIGN5LmVuZEJhdGNoKCk7XHJcblxyXG4gICAgICAvL2ZpbHRlciB0aGUganVzdCBhZGRlZCBlbGVtZW10cyB0byByZXR1cm4gdGhlbSBhbmQgcmVtb3ZlIGp1c3QgYWRkZWQgbWFya1xyXG4gICAgICB2YXIgZWxlcyA9IGN5LmVsZW1lbnRzKFwiW2p1c3RBZGRlZF1cIik7XHJcbiAgICAgIGVsZXMucmVtb3ZlRGF0YShcImp1c3RBZGRlZFwiKTtcclxuXHJcbiAgICAgIGN5LmVsZW1lbnRzKCkudW5zZWxlY3QoKTtcclxuICAgICAgZWxlcy5zZWxlY3QoKTtcclxuXHJcbiAgICAgIHJldHVybiBlbGVzOyAvLyBSZXR1cm4gdGhlIGp1c3QgYWRkZWQgZWxlbWVudHNcclxuICAgIH07XHJcblxyXG4gICAgZWxlbWVudFV0aWxpdGllcy5yb3RhdGU5MCA9IGZ1bmN0aW9uIChwb2ludCwgY2VudGVyKSB7XHJcbiAgICAgIGNvbnN0IHJlbGF0aXZlWCA9IGNlbnRlci54IC0gcG9pbnQueDtcclxuICAgICAgY29uc3QgcmVsYXRpdmVZID0gY2VudGVyLnkgLSBwb2ludC55O1xyXG5cclxuICAgICAgY29uc3QgcmVsYXRpdmVSb3RhdGVkWCA9IHJlbGF0aXZlWTtcclxuICAgICAgY29uc3QgcmVsYXRpdmVSb3RhdGVkWSA9IC0xICogcmVsYXRpdmVYO1xyXG5cclxuICAgICAgY29uc3QgcmVzdWx0WCA9IHJlbGF0aXZlUm90YXRlZFggKyBjZW50ZXIueDtcclxuICAgICAgY29uc3QgcmVzdWx0WSA9IHJlbGF0aXZlUm90YXRlZFkgKyBjZW50ZXIueTtcclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgeDogcmVzdWx0WCxcclxuICAgICAgICB5OiByZXN1bHRZLFxyXG4gICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICBlbGVtZW50VXRpbGl0aWVzLmNyZWF0ZVRyYW5zbGF0aW9uID0gZnVuY3Rpb24gKFxyXG4gICAgICByZWd1bGF0b3JMYWJlbCxcclxuICAgICAgb3V0cHV0TGFiZWwsXHJcbiAgICAgIG9yaWVudGF0aW9uXHJcbiAgICApIHtcclxuICAgICAgY29uc3QgZGVmYXVsdFNvdXJjZUFuZFNpbmtQcm9wZXJ0aWVzID1cclxuICAgICAgICBlbGVtZW50VXRpbGl0aWVzLmdldERlZmF1bHRQcm9wZXJ0aWVzKFwiZW1wdHkgc2V0XCIpO1xyXG4gICAgICBjb25zdCBkZWZhdWx0TnVjbGVpY0FjaWRGZWF0dXJlUHJvcGVydGllcyA9XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5nZXREZWZhdWx0UHJvcGVydGllcyhcIm51Y2xlaWMgYWNpZCBmZWF0dXJlXCIpO1xyXG4gICAgICBjb25zdCBkZWZhdWx0TWFjcm9tb2xlY3VsZVByb3BldGllcyA9XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5nZXREZWZhdWx0UHJvcGVydGllcyhcIm1hY3JvbW9sZWN1bGVcIik7XHJcbiAgICAgIGNvbnN0IGRlZmF1bHRQcm9jZXNzUHJvcGVydGllcyA9XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5nZXREZWZhdWx0UHJvcGVydGllcyhcInByb2Nlc3NcIik7XHJcbiAgICAgIGNvbnN0IHNvdXJjZUFuZFNpbmtXaWR0aCA9IGRlZmF1bHRTb3VyY2VBbmRTaW5rUHJvcGVydGllcy53aWR0aCB8fCA1MDtcclxuICAgICAgY29uc3QgbnVjbGVpY0FjaWRGZWF0dXJlV2lkdGggPVxyXG4gICAgICAgIGRlZmF1bHROdWNsZWljQWNpZEZlYXR1cmVQcm9wZXJ0aWVzLndpZHRoIHx8IDUwO1xyXG4gICAgICBjb25zdCBudWNsZWljQWNpZEZlYXR1cmVIZWlnaHQgPVxyXG4gICAgICAgIGRlZmF1bHROdWNsZWljQWNpZEZlYXR1cmVQcm9wZXJ0aWVzLmhlaWdodCB8fCA1MDtcclxuICAgICAgY29uc3QgbWFjcm9tb2xlY3VsZVdpZHRoID0gZGVmYXVsdE1hY3JvbW9sZWN1bGVQcm9wZXRpZXMud2lkdGggfHwgNTA7XHJcbiAgICAgIGNvbnN0IHByb2Nlc3NXaWR0aCA9IGRlZmF1bHRQcm9jZXNzUHJvcGVydGllcy53aWR0aCB8fCA1MDtcclxuICAgICAgY29uc3QgcHJvY2Vzc0hlaWdodCA9IGRlZmF1bHRQcm9jZXNzUHJvcGVydGllcy5oZWlnaHQgfHwgNTA7XHJcbiAgICAgIGNvbnN0IHByb2Nlc3NQb3NpdGlvbiA9IGVsZW1lbnRVdGlsaXRpZXMuY29udmVydFRvTW9kZWxQb3NpdGlvbih7XHJcbiAgICAgICAgeDogY3kud2lkdGgoKSAvIDIsXHJcbiAgICAgICAgeTogY3kuaGVpZ2h0KCkgLyAyLFxyXG4gICAgICB9KTtcclxuICAgICAgY29uc3QgZWRnZUxlbmd0aCA9IDMwO1xyXG4gICAgICBjb25zdCB2ZXJ0aWNhbCA9IG9yaWVudGF0aW9uID09PSBcInZlcnRpY2FsXCI7XHJcbiAgICAgIGNvbnN0IHByb2Nlc3NQb3J0c09yZGVyaW5nID0gdmVydGljYWwgPyBcIlQtdG8tQlwiIDogXCJMLXRvLVJcIjtcclxuICAgICAgY29uc3QgbWluSW5mb2JveERpbWVuc2lvbiA9IDE1O1xyXG4gICAgICBjb25zdCB3aWR0aFBlckNoYXIgPSA2O1xyXG4gICAgICBjb25zdCByZWd1bGF0b3JJbmZvYm94TGFiZWwgPSBcImN0Om1STkFcIjtcclxuXHJcbiAgICAgIGN5LnN0YXJ0QmF0Y2goKTtcclxuXHJcbiAgICAgIGlmICghZWxlbWVudFV0aWxpdGllcy5nZXRNYXBUeXBlKCkpIHtcclxuICAgICAgICBlbGVtZW50VXRpbGl0aWVzLnNldE1hcFR5cGUoXCJQRFwiKTtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCBwcm9jZXNzTm9kZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkTm9kZShcclxuICAgICAgICBwcm9jZXNzUG9zaXRpb24ueCxcclxuICAgICAgICBwcm9jZXNzUG9zaXRpb24ueSxcclxuICAgICAgICB7IGNsYXNzOiBcInByb2Nlc3NcIiwgbGFuZ3VhZ2U6IFwiUERcIiB9XHJcbiAgICAgICk7XHJcbiAgICAgIGVsZW1lbnRVdGlsaXRpZXMuc2V0UG9ydHNPcmRlcmluZyhwcm9jZXNzTm9kZSwgcHJvY2Vzc1BvcnRzT3JkZXJpbmcpO1xyXG4gICAgICBwcm9jZXNzTm9kZS5kYXRhKFwianVzdEFkZGVkXCIsIHRydWUpO1xyXG5cclxuICAgICAgbGV0IHhQb3NPZklucHV0ID1cclxuICAgICAgICBwcm9jZXNzUG9zaXRpb24ueCAtXHJcbiAgICAgICAgZWRnZUxlbmd0aCAtXHJcbiAgICAgICAgcHJvY2Vzc1dpZHRoIC8gMiAtXHJcbiAgICAgICAgc291cmNlQW5kU2lua1dpZHRoIC8gMjtcclxuICAgICAgbGV0IHhQb3NPZk91dHB1dCA9XHJcbiAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uLnggK1xyXG4gICAgICAgIGVkZ2VMZW5ndGggK1xyXG4gICAgICAgIHByb2Nlc3NXaWR0aCAvIDIgK1xyXG4gICAgICAgIG1hY3JvbW9sZWN1bGVXaWR0aCAvIDI7XHJcbiAgICAgIGxldCB5UG9zT2ZJbnB1dCA9IHByb2Nlc3NQb3NpdGlvbi55O1xyXG4gICAgICBsZXQgeVBvc09mT3V0cHV0ID0gcHJvY2Vzc1Bvc2l0aW9uLnk7XHJcblxyXG4gICAgICBsZXQgbm9kZVBvc2l0aW9uID0ge1xyXG4gICAgICAgIHg6IHhQb3NPZklucHV0LFxyXG4gICAgICAgIHk6IHlQb3NPZklucHV0LFxyXG4gICAgICB9O1xyXG4gICAgICBpZiAodmVydGljYWwpIHtcclxuICAgICAgICBub2RlUG9zaXRpb24gPSBlbGVtZW50VXRpbGl0aWVzLnJvdGF0ZTkwKG5vZGVQb3NpdGlvbiwgcHJvY2Vzc1Bvc2l0aW9uKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgaW5wdXROb2RlID0gZWxlbWVudFV0aWxpdGllcy5hZGROb2RlKFxyXG4gICAgICAgIG5vZGVQb3NpdGlvbi54LFxyXG4gICAgICAgIG5vZGVQb3NpdGlvbi55LFxyXG4gICAgICAgIHsgY2xhc3M6IFwiZW1wdHkgc2V0XCIsIGxhbmd1YWdlOiBcIlBEXCIgfVxyXG4gICAgICApO1xyXG4gICAgICBpbnB1dE5vZGUuZGF0YShcImp1c3RBZGRlZFwiLCB0cnVlKTtcclxuICAgICAgaW5wdXROb2RlLmRhdGEoXCJsYWJlbFwiLCBsYWJlbCk7XHJcblxyXG4gICAgICBjb25zdCBpbnB1dEVkZ2UgPSBlbGVtZW50VXRpbGl0aWVzLmFkZEVkZ2UoXHJcbiAgICAgICAgaW5wdXROb2RlLmlkKCksXHJcbiAgICAgICAgcHJvY2Vzc05vZGUuaWQoKSxcclxuICAgICAgICB7IGNsYXNzOiBcImNvbnN1bXB0aW9uXCIsIGxhbmd1YWdlOiBcIlBEXCIgfVxyXG4gICAgICApO1xyXG4gICAgICBpbnB1dEVkZ2UuZGF0YShcImp1c3RBZGRlZFwiLCB0cnVlKTtcclxuXHJcbiAgICAgIG5vZGVQb3NpdGlvbiA9IHtcclxuICAgICAgICB4OiB4UG9zT2ZPdXRwdXQsXHJcbiAgICAgICAgeTogeVBvc09mT3V0cHV0LFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgaWYgKHZlcnRpY2FsKSB7XHJcbiAgICAgICAgbm9kZVBvc2l0aW9uID0gZWxlbWVudFV0aWxpdGllcy5yb3RhdGU5MChub2RlUG9zaXRpb24sIHByb2Nlc3NQb3NpdGlvbik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IG91dHB1dE5vZGUgPSBlbGVtZW50VXRpbGl0aWVzLmFkZE5vZGUoXHJcbiAgICAgICAgbm9kZVBvc2l0aW9uLngsXHJcbiAgICAgICAgbm9kZVBvc2l0aW9uLnksXHJcbiAgICAgICAgeyBjbGFzczogXCJtYWNyb21vbGVjdWxlXCIsIGxhbmd1YWdlOiBcIlBEXCIgfVxyXG4gICAgICApO1xyXG4gICAgICBvdXRwdXROb2RlLmRhdGEoXCJqdXN0QWRkZWRcIiwgdHJ1ZSk7XHJcbiAgICAgIG91dHB1dE5vZGUuZGF0YShcImxhYmVsXCIsIG91dHB1dExhYmVsKTtcclxuXHJcbiAgICAgIGNvbnN0IG91dHB1dEVkZ2UgPSBlbGVtZW50VXRpbGl0aWVzLmFkZEVkZ2UoXHJcbiAgICAgICAgcHJvY2Vzc05vZGUuaWQoKSxcclxuICAgICAgICBvdXRwdXROb2RlLmlkKCksXHJcbiAgICAgICAgeyBjbGFzczogXCJwcm9kdWN0aW9uXCIsIGxhbmd1YWdlOiBcIlBEXCIgfVxyXG4gICAgICApO1xyXG4gICAgICBvdXRwdXRFZGdlLmRhdGEoXCJqdXN0QWRkZWRcIiwgdHJ1ZSk7XHJcblxyXG4gICAgICBsZXQgeFBvc09mUmVndWxhdG9yID0gcHJvY2Vzc1Bvc2l0aW9uLng7XHJcbiAgICAgIGNvbnN0IGRpbWVuc2lvbiA9IHZlcnRpY2FsXHJcbiAgICAgICAgPyBudWNsZWljQWNpZEZlYXR1cmVXaWR0aFxyXG4gICAgICAgIDogbnVjbGVpY0FjaWRGZWF0dXJlSGVpZ2h0O1xyXG4gICAgICBsZXQgeVBvc09mUmVndWxhdG9yID1cclxuICAgICAgICBwcm9jZXNzUG9zaXRpb24ueSAtIChwcm9jZXNzSGVpZ2h0IC8gMiArIGRpbWVuc2lvbiAvIDIgKyBlZGdlTGVuZ3RoKTtcclxuXHJcbiAgICAgIG5vZGVQb3NpdGlvbiA9IHtcclxuICAgICAgICB4OiB4UG9zT2ZSZWd1bGF0b3IsXHJcbiAgICAgICAgeTogeVBvc09mUmVndWxhdG9yLFxyXG4gICAgICB9O1xyXG4gICAgICBpZiAodmVydGljYWwpIHtcclxuICAgICAgICBub2RlUG9zaXRpb24gPSBlbGVtZW50VXRpbGl0aWVzLnJvdGF0ZTkwKG5vZGVQb3NpdGlvbiwgcHJvY2Vzc1Bvc2l0aW9uKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgcmVndWxhdG9yTm9kZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkTm9kZShcclxuICAgICAgICBub2RlUG9zaXRpb24ueCxcclxuICAgICAgICBub2RlUG9zaXRpb24ueSxcclxuICAgICAgICB7IGNsYXNzOiBcIm51Y2xlaWMgYWNpZCBmZWF0dXJlXCIsIGxhbmd1YWdlOiBcIlBEXCIgfVxyXG4gICAgICApO1xyXG4gICAgICByZWd1bGF0b3JOb2RlLmRhdGEoXCJqdXN0QWRkZWRcIiwgdHJ1ZSk7XHJcbiAgICAgIHJlZ3VsYXRvck5vZGUuZGF0YShcImxhYmVsXCIsIHJlZ3VsYXRvckxhYmVsKTtcclxuICAgICAgaW5mb2JveE9iamVjdCA9IHtcclxuICAgICAgICBjbGF6ejogXCJ1bml0IG9mIGluZm9ybWF0aW9uXCIsXHJcbiAgICAgICAgbGFiZWw6IHtcclxuICAgICAgICAgIHRleHQ6IHJlZ3VsYXRvckluZm9ib3hMYWJlbCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJib3g6IHtcclxuICAgICAgICAgIHc6IE1hdGgubWF4KFxyXG4gICAgICAgICAgICByZWd1bGF0b3JJbmZvYm94TGFiZWwubGVuZ3RoICogd2lkdGhQZXJDaGFyLFxyXG4gICAgICAgICAgICBtaW5JbmZvYm94RGltZW5zaW9uXHJcbiAgICAgICAgICApLFxyXG4gICAgICAgICAgaDogbWluSW5mb2JveERpbWVuc2lvbixcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG4gICAgICBlbGVtZW50VXRpbGl0aWVzLmFkZFN0YXRlT3JJbmZvQm94KHJlZ3VsYXRvck5vZGUsIGluZm9ib3hPYmplY3QpO1xyXG5cclxuICAgICAgY29uc3QgcmVndWxhdG9yRWRnZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkRWRnZShcclxuICAgICAgICByZWd1bGF0b3JOb2RlLmlkKCksXHJcbiAgICAgICAgcHJvY2Vzc05vZGUuaWQoKSxcclxuICAgICAgICB7IGNsYXNzOiBcIm5lY2Vzc2FyeSBzdGltdWxhdGlvblwiLCBsYW5ndWFnZTogXCJQRFwiIH1cclxuICAgICAgKTtcclxuICAgICAgcmVndWxhdG9yRWRnZS5kYXRhKFwianVzdEFkZGVkXCIsIHRydWUpO1xyXG5cclxuICAgICAgY3kuZW5kQmF0Y2goKTtcclxuXHJcbiAgICAgIGNvbnN0IGVsZXMgPSBjeS5lbGVtZW50cyhcIltqdXN0QWRkZWRdXCIpO1xyXG4gICAgICBlbGVzLnJlbW92ZURhdGEoXCJqdXN0QWRkZWRcIik7XHJcblxyXG4gICAgICBjeS5lbGVtZW50cygpLnVuc2VsZWN0KCk7XHJcbiAgICAgIGVsZXMuc2VsZWN0KCk7XHJcblxyXG4gICAgICByZXR1cm4gZWxlcztcclxuICAgIH07XHJcblxyXG4gICAgZWxlbWVudFV0aWxpdGllcy5jcmVhdGVUcmFuc2NyaXB0aW9uID0gZnVuY3Rpb24gKGxhYmVsLCBvcmllbnRhdGlvbikge1xyXG4gICAgICBjb25zdCBkZWZhdWx0U291cmNlQW5kU2lua1Byb3BlcnRpZXMgPVxyXG4gICAgICAgIGVsZW1lbnRVdGlsaXRpZXMuZ2V0RGVmYXVsdFByb3BlcnRpZXMoXCJlbXB0eSBzZXRcIik7XHJcbiAgICAgIGNvbnN0IGRlZmF1bHROdWNsZWljQWNpZEZlYXR1cmVQcm9wZXJ0aWVzID1cclxuICAgICAgICBlbGVtZW50VXRpbGl0aWVzLmdldERlZmF1bHRQcm9wZXJ0aWVzKFwibnVjbGVpYyBhY2lkIGZlYXR1cmVcIik7XHJcbiAgICAgIGNvbnN0IGRlZmF1bHRQcm9jZXNzUHJvcGVydGllcyA9XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5nZXREZWZhdWx0UHJvcGVydGllcyhcInByb2Nlc3NcIik7XHJcbiAgICAgIGNvbnN0IHNvdXJjZUFuZFNpbmtXaWR0aCA9IGRlZmF1bHRTb3VyY2VBbmRTaW5rUHJvcGVydGllcy53aWR0aCB8fCA1MDtcclxuICAgICAgY29uc3QgbnVjbGVpY0FjaWRGZWF0dXJlV2lkdGggPVxyXG4gICAgICAgIGRlZmF1bHROdWNsZWljQWNpZEZlYXR1cmVQcm9wZXJ0aWVzLndpZHRoIHx8IDUwO1xyXG4gICAgICBjb25zdCBudWNsZWljQWNpZEZlYXR1cmVIZWlnaHQgPVxyXG4gICAgICAgIGRlZmF1bHROdWNsZWljQWNpZEZlYXR1cmVQcm9wZXJ0aWVzLmhlaWdodCB8fCA1MDtcclxuICAgICAgY29uc3QgcHJvY2Vzc1dpZHRoID0gZGVmYXVsdFByb2Nlc3NQcm9wZXJ0aWVzLndpZHRoIHx8IDUwO1xyXG4gICAgICBjb25zdCBwcm9jZXNzSGVpZ2h0ID0gZGVmYXVsdFByb2Nlc3NQcm9wZXJ0aWVzLmhlaWdodCB8fCA1MDtcclxuICAgICAgY29uc3QgcHJvY2Vzc1Bvc2l0aW9uID0gZWxlbWVudFV0aWxpdGllcy5jb252ZXJ0VG9Nb2RlbFBvc2l0aW9uKHtcclxuICAgICAgICB4OiBjeS53aWR0aCgpIC8gMixcclxuICAgICAgICB5OiBjeS5oZWlnaHQoKSAvIDIsXHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zdCBlZGdlTGVuZ3RoID0gMzA7XHJcbiAgICAgIGNvbnN0IHZlcnRpY2FsID0gb3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIjtcclxuICAgICAgY29uc3QgcHJvY2Vzc1BvcnRzT3JkZXJpbmcgPSB2ZXJ0aWNhbCA/IFwiVC10by1CXCIgOiBcIkwtdG8tUlwiO1xyXG4gICAgICBjb25zdCBtaW5JbmZvYm94RGltZW5zaW9uID0gMTU7XHJcbiAgICAgIGNvbnN0IHdpZHRoUGVyQ2hhciA9IDY7XHJcbiAgICAgIGNvbnN0IG91dHB1dEluZm9ib3hMYWJlbCA9IFwiY3Q6bVJOQVwiO1xyXG4gICAgICBjb25zdCByZWd1bGF0b3JJbmZvYm94TGFiZWwgPSBcImN0OmdlbmVcIjtcclxuXHJcbiAgICAgIGN5LnN0YXJ0QmF0Y2goKTtcclxuXHJcbiAgICAgIGlmICghZWxlbWVudFV0aWxpdGllcy5nZXRNYXBUeXBlKCkpIHtcclxuICAgICAgICBlbGVtZW50VXRpbGl0aWVzLnNldE1hcFR5cGUoXCJQRFwiKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgcHJvY2Vzc05vZGUgPSBlbGVtZW50VXRpbGl0aWVzLmFkZE5vZGUoXHJcbiAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uLngsXHJcbiAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uLnksXHJcbiAgICAgICAgeyBjbGFzczogXCJwcm9jZXNzXCIsIGxhbmd1YWdlOiBcIlBEXCIgfVxyXG4gICAgICApO1xyXG4gICAgICBlbGVtZW50VXRpbGl0aWVzLnNldFBvcnRzT3JkZXJpbmcocHJvY2Vzc05vZGUsIHByb2Nlc3NQb3J0c09yZGVyaW5nKTtcclxuICAgICAgcHJvY2Vzc05vZGUuZGF0YShcImp1c3RBZGRlZFwiLCB0cnVlKTtcclxuXHJcbiAgICAgIGxldCB4UG9zT2ZJbnB1dCA9XHJcbiAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uLnggLVxyXG4gICAgICAgIGVkZ2VMZW5ndGggLVxyXG4gICAgICAgIHByb2Nlc3NXaWR0aCAvIDIgLVxyXG4gICAgICAgIHNvdXJjZUFuZFNpbmtXaWR0aCAvIDI7XHJcbiAgICAgIGxldCB4UG9zT2ZPdXRwdXQgPVxyXG4gICAgICAgIHByb2Nlc3NQb3NpdGlvbi54ICtcclxuICAgICAgICBlZGdlTGVuZ3RoICtcclxuICAgICAgICBwcm9jZXNzV2lkdGggLyAyICtcclxuICAgICAgICBudWNsZWljQWNpZEZlYXR1cmVXaWR0aCAvIDI7XHJcbiAgICAgIGxldCB5UG9zT2ZJbnB1dCA9IHByb2Nlc3NQb3NpdGlvbi55O1xyXG4gICAgICBsZXQgeVBvc09mT3V0cHV0ID0gcHJvY2Vzc1Bvc2l0aW9uLnk7XHJcblxyXG4gICAgICBsZXQgbm9kZVBvc2l0aW9uID0ge1xyXG4gICAgICAgIHg6IHhQb3NPZklucHV0LFxyXG4gICAgICAgIHk6IHlQb3NPZklucHV0LFxyXG4gICAgICB9O1xyXG4gICAgICBpZiAodmVydGljYWwpIHtcclxuICAgICAgICBub2RlUG9zaXRpb24gPSBlbGVtZW50VXRpbGl0aWVzLnJvdGF0ZTkwKG5vZGVQb3NpdGlvbiwgcHJvY2Vzc1Bvc2l0aW9uKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgaW5wdXROb2RlID0gZWxlbWVudFV0aWxpdGllcy5hZGROb2RlKFxyXG4gICAgICAgIG5vZGVQb3NpdGlvbi54LFxyXG4gICAgICAgIG5vZGVQb3NpdGlvbi55LFxyXG4gICAgICAgIHsgY2xhc3M6IFwiZW1wdHkgc2V0XCIsIGxhbmd1YWdlOiBcIlBEXCIgfVxyXG4gICAgICApO1xyXG4gICAgICBpbnB1dE5vZGUuZGF0YShcImp1c3RBZGRlZFwiLCB0cnVlKTtcclxuXHJcbiAgICAgIGNvbnN0IGlucHV0RWRnZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkRWRnZShcclxuICAgICAgICBpbnB1dE5vZGUuaWQoKSxcclxuICAgICAgICBwcm9jZXNzTm9kZS5pZCgpLFxyXG4gICAgICAgIHsgY2xhc3M6IFwiY29uc3VtcHRpb25cIiwgbGFuZ3VhZ2U6IFwiUERcIiB9XHJcbiAgICAgICk7XHJcbiAgICAgIGlucHV0RWRnZS5kYXRhKFwianVzdEFkZGVkXCIsIHRydWUpO1xyXG5cclxuICAgICAgbm9kZVBvc2l0aW9uID0ge1xyXG4gICAgICAgIHg6IHhQb3NPZk91dHB1dCxcclxuICAgICAgICB5OiB5UG9zT2ZPdXRwdXQsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBpZiAodmVydGljYWwpIHtcclxuICAgICAgICBub2RlUG9zaXRpb24gPSBlbGVtZW50VXRpbGl0aWVzLnJvdGF0ZTkwKG5vZGVQb3NpdGlvbiwgcHJvY2Vzc1Bvc2l0aW9uKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3Qgb3V0cHV0Tm9kZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkTm9kZShcclxuICAgICAgICBub2RlUG9zaXRpb24ueCxcclxuICAgICAgICBub2RlUG9zaXRpb24ueSxcclxuICAgICAgICB7IGNsYXNzOiBcIm51Y2xlaWMgYWNpZCBmZWF0dXJlXCIsIGxhbmd1YWdlOiBcIlBEXCIgfVxyXG4gICAgICApO1xyXG4gICAgICBvdXRwdXROb2RlLmRhdGEoXCJqdXN0QWRkZWRcIiwgdHJ1ZSk7XHJcbiAgICAgIG91dHB1dE5vZGUuZGF0YShcImxhYmVsXCIsIGxhYmVsKTtcclxuICAgICAgaW5mb2JveE9iamVjdCA9IHtcclxuICAgICAgICBjbGF6ejogXCJ1bml0IG9mIGluZm9ybWF0aW9uXCIsXHJcbiAgICAgICAgbGFiZWw6IHtcclxuICAgICAgICAgIHRleHQ6IG91dHB1dEluZm9ib3hMYWJlbCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJib3g6IHtcclxuICAgICAgICAgIHc6IE1hdGgubWF4KFxyXG4gICAgICAgICAgICBvdXRwdXRJbmZvYm94TGFiZWwubGVuZ3RoICogd2lkdGhQZXJDaGFyLFxyXG4gICAgICAgICAgICBtaW5JbmZvYm94RGltZW5zaW9uXHJcbiAgICAgICAgICApLFxyXG4gICAgICAgICAgaDogbWluSW5mb2JveERpbWVuc2lvbixcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG4gICAgICBlbGVtZW50VXRpbGl0aWVzLmFkZFN0YXRlT3JJbmZvQm94KG91dHB1dE5vZGUsIGluZm9ib3hPYmplY3QpO1xyXG5cclxuICAgICAgY29uc3Qgb3V0cHV0RWRnZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkRWRnZShcclxuICAgICAgICBwcm9jZXNzTm9kZS5pZCgpLFxyXG4gICAgICAgIG91dHB1dE5vZGUuaWQoKSxcclxuICAgICAgICB7IGNsYXNzOiBcInByb2R1Y3Rpb25cIiwgbGFuZ3VhZ2U6IFwiUERcIiB9XHJcbiAgICAgICk7XHJcbiAgICAgIG91dHB1dEVkZ2UuZGF0YShcImp1c3RBZGRlZFwiLCB0cnVlKTtcclxuXHJcbiAgICAgIGxldCB4UG9zT2ZSZWd1bGF0b3IgPSBwcm9jZXNzUG9zaXRpb24ueDtcclxuICAgICAgY29uc3QgZGltZW5zaW9uID0gdmVydGljYWxcclxuICAgICAgICA/IG51Y2xlaWNBY2lkRmVhdHVyZVdpZHRoXHJcbiAgICAgICAgOiBudWNsZWljQWNpZEZlYXR1cmVIZWlnaHQ7XHJcbiAgICAgIGxldCB5UG9zT2ZSZWd1bGF0b3IgPVxyXG4gICAgICAgIHByb2Nlc3NQb3NpdGlvbi55IC0gKHByb2Nlc3NIZWlnaHQgLyAyICsgZGltZW5zaW9uIC8gMiArIGVkZ2VMZW5ndGgpO1xyXG5cclxuICAgICAgbm9kZVBvc2l0aW9uID0ge1xyXG4gICAgICAgIHg6IHhQb3NPZlJlZ3VsYXRvcixcclxuICAgICAgICB5OiB5UG9zT2ZSZWd1bGF0b3IsXHJcbiAgICAgIH07XHJcbiAgICAgIGlmICh2ZXJ0aWNhbCkge1xyXG4gICAgICAgIG5vZGVQb3NpdGlvbiA9IGVsZW1lbnRVdGlsaXRpZXMucm90YXRlOTAobm9kZVBvc2l0aW9uLCBwcm9jZXNzUG9zaXRpb24pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCByZWd1bGF0b3JOb2RlID0gZWxlbWVudFV0aWxpdGllcy5hZGROb2RlKFxyXG4gICAgICAgIG5vZGVQb3NpdGlvbi54LFxyXG4gICAgICAgIG5vZGVQb3NpdGlvbi55LFxyXG4gICAgICAgIHsgY2xhc3M6IFwibnVjbGVpYyBhY2lkIGZlYXR1cmVcIiwgbGFuZ3VhZ2U6IFwiUERcIiB9XHJcbiAgICAgICk7XHJcbiAgICAgIHJlZ3VsYXRvck5vZGUuZGF0YShcImp1c3RBZGRlZFwiLCB0cnVlKTtcclxuICAgICAgcmVndWxhdG9yTm9kZS5kYXRhKFwibGFiZWxcIiwgbGFiZWwpO1xyXG4gICAgICBpbmZvYm94T2JqZWN0ID0ge1xyXG4gICAgICAgIGNsYXp6OiBcInVuaXQgb2YgaW5mb3JtYXRpb25cIixcclxuICAgICAgICBsYWJlbDoge1xyXG4gICAgICAgICAgdGV4dDogcmVndWxhdG9ySW5mb2JveExhYmVsLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYmJveDoge1xyXG4gICAgICAgICAgdzogTWF0aC5tYXgoXHJcbiAgICAgICAgICAgIHJlZ3VsYXRvckluZm9ib3hMYWJlbC5sZW5ndGggKiB3aWR0aFBlckNoYXIsXHJcbiAgICAgICAgICAgIG1pbkluZm9ib3hEaW1lbnNpb25cclxuICAgICAgICAgICksXHJcbiAgICAgICAgICBoOiBtaW5JbmZvYm94RGltZW5zaW9uLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH07XHJcbiAgICAgIGVsZW1lbnRVdGlsaXRpZXMuYWRkU3RhdGVPckluZm9Cb3gocmVndWxhdG9yTm9kZSwgaW5mb2JveE9iamVjdCk7XHJcblxyXG4gICAgICBjb25zdCByZWd1bGF0b3JFZGdlID0gZWxlbWVudFV0aWxpdGllcy5hZGRFZGdlKFxyXG4gICAgICAgIHJlZ3VsYXRvck5vZGUuaWQoKSxcclxuICAgICAgICBwcm9jZXNzTm9kZS5pZCgpLFxyXG4gICAgICAgIHsgY2xhc3M6IFwibmVjZXNzYXJ5IHN0aW11bGF0aW9uXCIsIGxhbmd1YWdlOiBcIlBEXCIgfVxyXG4gICAgICApO1xyXG4gICAgICByZWd1bGF0b3JFZGdlLmRhdGEoXCJqdXN0QWRkZWRcIiwgdHJ1ZSk7XHJcblxyXG4gICAgICBjeS5lbmRCYXRjaCgpO1xyXG5cclxuICAgICAgY29uc3QgZWxlcyA9IGN5LmVsZW1lbnRzKFwiW2p1c3RBZGRlZF1cIik7XHJcbiAgICAgIGVsZXMucmVtb3ZlRGF0YShcImp1c3RBZGRlZFwiKTtcclxuXHJcbiAgICAgIGN5LmVsZW1lbnRzKCkudW5zZWxlY3QoKTtcclxuICAgICAgZWxlcy5zZWxlY3QoKTtcclxuXHJcbiAgICAgIHJldHVybiBlbGVzO1xyXG4gICAgfTtcclxuXHJcbiAgICBlbGVtZW50VXRpbGl0aWVzLmNyZWF0ZURlZ3JhZGF0aW9uID0gZnVuY3Rpb24gKG1hY3JvbW9sZWN1bGUsIG9yaWVudGF0aW9uKSB7XHJcbiAgICAgIGNvbnN0IG1hY3JvbW9sZWN1bGVOYW1lID0gbWFjcm9tb2xlY3VsZS5uYW1lO1xyXG4gICAgICBjb25zdCBkZWZhdWx0TWFjcm9tb2xlY3VsZVByb3BlcnRpZXMgPVxyXG4gICAgICAgIGVsZW1lbnRVdGlsaXRpZXMuZ2V0RGVmYXVsdFByb3BlcnRpZXMoXCJtYWNyb21vbGVjdWxlXCIpO1xyXG4gICAgICBjb25zdCBtYWNyb21vbGVjdWxlV2lkdGggPSBkZWZhdWx0TWFjcm9tb2xlY3VsZVByb3BlcnRpZXMud2lkdGggfHwgNTA7XHJcbiAgICAgIGNvbnN0IGRlZmF1bHRQcm9jZXNzUHJvcGVydGllcyA9XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5nZXREZWZhdWx0UHJvcGVydGllcyhcImNhdGFseXRpY1wiKTtcclxuICAgICAgY29uc3QgcHJvY2Vzc1dpZHRoID0gZGVmYXVsdFByb2Nlc3NQcm9wZXJ0aWVzLndpZHRoIHx8IDUwO1xyXG4gICAgICBjb25zdCBwcm9jZXNzUG9zaXRpb24gPSBlbGVtZW50VXRpbGl0aWVzLmNvbnZlcnRUb01vZGVsUG9zaXRpb24oe1xyXG4gICAgICAgIHg6IGN5LndpZHRoKCkgLyAyLFxyXG4gICAgICAgIHk6IGN5LmhlaWdodCgpIC8gMixcclxuICAgICAgfSk7XHJcbiAgICAgIGNvbnN0IGVkZ2VMZW5ndGggPSAzMDtcclxuICAgICAgY29uc3QgdmVydGljYWwgPSBvcmllbnRhdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiO1xyXG4gICAgICBjb25zdCBwcm9jZXNzUG9ydHNPcmRlcmluZyA9IHZlcnRpY2FsID8gXCJULXRvLUJcIiA6IFwiTC10by1SXCI7XHJcblxyXG4gICAgICBjeS5zdGFydEJhdGNoKCk7XHJcblxyXG4gICAgICBpZiAoIWVsZW1lbnRVdGlsaXRpZXMuZ2V0TWFwVHlwZSgpKSB7XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5zZXRNYXBUeXBlKFwiUERcIik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHByb2Nlc3NOb2RlID0gZWxlbWVudFV0aWxpdGllcy5hZGROb2RlKFxyXG4gICAgICAgIHByb2Nlc3NQb3NpdGlvbi54LFxyXG4gICAgICAgIHByb2Nlc3NQb3NpdGlvbi55LFxyXG4gICAgICAgIHsgY2xhc3M6IFwicHJvY2Vzc1wiLCBsYW5ndWFnZTogXCJQRFwiIH1cclxuICAgICAgKTtcclxuICAgICAgZWxlbWVudFV0aWxpdGllcy5zZXRQb3J0c09yZGVyaW5nKHByb2Nlc3NOb2RlLCBwcm9jZXNzUG9ydHNPcmRlcmluZyk7XHJcbiAgICAgIHByb2Nlc3NOb2RlLmRhdGEoXCJqdXN0QWRkZWRcIiwgdHJ1ZSk7XHJcblxyXG4gICAgICBsZXQgeFBvc09mSW5wdXQgPVxyXG4gICAgICAgIHByb2Nlc3NQb3NpdGlvbi54IC1cclxuICAgICAgICBlZGdlTGVuZ3RoIC1cclxuICAgICAgICBwcm9jZXNzV2lkdGggLyAyIC1cclxuICAgICAgICBtYWNyb21vbGVjdWxlV2lkdGggLyAyO1xyXG4gICAgICBsZXQgeFBvc09mT3V0cHV0ID1cclxuICAgICAgICBwcm9jZXNzUG9zaXRpb24ueCArXHJcbiAgICAgICAgZWRnZUxlbmd0aCArXHJcbiAgICAgICAgcHJvY2Vzc1dpZHRoIC8gMiArXHJcbiAgICAgICAgbWFjcm9tb2xlY3VsZVdpZHRoIC8gMjtcclxuICAgICAgbGV0IHlQb3NPZklucHV0ID0gcHJvY2Vzc1Bvc2l0aW9uLnk7XHJcbiAgICAgIGxldCB5UG9zT2ZPdXRwdXQgPSBwcm9jZXNzUG9zaXRpb24ueTtcclxuXHJcbiAgICAgIGxldCBub2RlUG9zaXRpb24gPSB7XHJcbiAgICAgICAgeDogeFBvc09mSW5wdXQsXHJcbiAgICAgICAgeTogeVBvc09mSW5wdXQsXHJcbiAgICAgIH07XHJcbiAgICAgIGlmICh2ZXJ0aWNhbCkge1xyXG4gICAgICAgIG5vZGVQb3NpdGlvbiA9IGVsZW1lbnRVdGlsaXRpZXMucm90YXRlOTAobm9kZVBvc2l0aW9uLCBwcm9jZXNzUG9zaXRpb24pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgaW5wdXROb2RlID0gZWxlbWVudFV0aWxpdGllcy5hZGROb2RlKG5vZGVQb3NpdGlvbi54LCBub2RlUG9zaXRpb24ueSwge1xyXG4gICAgICAgIGNsYXNzOiBcIm1hY3JvbW9sZWN1bGVcIixcclxuICAgICAgICBsYW5ndWFnZTogXCJQRFwiLFxyXG4gICAgICB9KTtcclxuICAgICAgaW5wdXROb2RlLmRhdGEoXCJqdXN0QWRkZWRcIiwgdHJ1ZSk7XHJcbiAgICAgIGlucHV0Tm9kZS5kYXRhKFwibGFiZWxcIiwgbWFjcm9tb2xlY3VsZU5hbWUpO1xyXG5cclxuICAgICAgbGV0IGlucHV0RWRnZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkRWRnZShcclxuICAgICAgICBpbnB1dE5vZGUuaWQoKSxcclxuICAgICAgICBwcm9jZXNzTm9kZS5pZCgpLFxyXG4gICAgICAgIHsgY2xhc3M6IFwiY29uc3VtcHRpb25cIiwgbGFuZ3VhZ2U6IFwiUERcIiB9XHJcbiAgICAgICk7XHJcbiAgICAgIGlucHV0RWRnZS5kYXRhKFwianVzdEFkZGVkXCIsIHRydWUpO1xyXG5cclxuICAgICAgbm9kZVBvc2l0aW9uID0ge1xyXG4gICAgICAgIHg6IHhQb3NPZk91dHB1dCxcclxuICAgICAgICB5OiB5UG9zT2ZPdXRwdXQsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBpZiAodmVydGljYWwpIHtcclxuICAgICAgICBub2RlUG9zaXRpb24gPSBlbGVtZW50VXRpbGl0aWVzLnJvdGF0ZTkwKG5vZGVQb3NpdGlvbiwgcHJvY2Vzc1Bvc2l0aW9uKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgbGV0IG91dHB1dE5vZGUgPSBlbGVtZW50VXRpbGl0aWVzLmFkZE5vZGUoXHJcbiAgICAgICAgbm9kZVBvc2l0aW9uLngsXHJcbiAgICAgICAgbm9kZVBvc2l0aW9uLnksXHJcbiAgICAgICAgeyBjbGFzczogXCJlbXB0eSBzZXRcIiwgbGFuZ3VhZ2U6IFwiUERcIiB9XHJcbiAgICAgICk7XHJcbiAgICAgIG91dHB1dE5vZGUuZGF0YShcImp1c3RBZGRlZFwiLCB0cnVlKTtcclxuXHJcbiAgICAgIGxldCBvdXRwdXRFZGdlID0gZWxlbWVudFV0aWxpdGllcy5hZGRFZGdlKFxyXG4gICAgICAgIHByb2Nlc3NOb2RlLmlkKCksXHJcbiAgICAgICAgb3V0cHV0Tm9kZS5pZCgpLFxyXG4gICAgICAgIHsgY2xhc3M6IFwicHJvZHVjdGlvblwiLCBsYW5ndWFnZTogXCJQRFwiIH1cclxuICAgICAgKTtcclxuICAgICAgb3V0cHV0RWRnZS5kYXRhKFwianVzdEFkZGVkXCIsIHRydWUpO1xyXG5cclxuICAgICAgY3kuZW5kQmF0Y2goKTtcclxuXHJcbiAgICAgIGNvbnN0IGVsZXMgPSBjeS5lbGVtZW50cyhcIltqdXN0QWRkZWRdXCIpO1xyXG4gICAgICBlbGVzLnJlbW92ZURhdGEoXCJqdXN0QWRkZWRcIik7XHJcblxyXG4gICAgICBjeS5lbGVtZW50cygpLnVuc2VsZWN0KCk7XHJcbiAgICAgIGVsZXMuc2VsZWN0KCk7XHJcblxyXG4gICAgICByZXR1cm4gZWxlcztcclxuICAgIH07XHJcblxyXG4gICAgZWxlbWVudFV0aWxpdGllcy5jcmVhdGVDb21wbGV4UHJvdGVpbkZvcm1hdGlvbiA9IGZ1bmN0aW9uIChcclxuICAgICAgcHJvdGVpbkxhYmVscyxcclxuICAgICAgY29tcGxleExhYmVsLFxyXG4gICAgICByZWd1bGF0b3IsXHJcbiAgICAgIG9yaWVudGF0aW9uLFxyXG4gICAgICByZXZlcnNlXHJcbiAgICApIHtcclxuICAgICAgY29uc3QgaGFzUmVndWxhdG9yID0gcmVndWxhdG9yLm5hbWUgIT09IHVuZGVmaW5lZDtcclxuICAgICAgY29uc3QgZGVmYXVsdE1hY3JvbW9sZWN1bGVQcm9wZXJ0aWVzID1cclxuICAgICAgICBlbGVtZW50VXRpbGl0aWVzLmdldERlZmF1bHRQcm9wZXJ0aWVzKFwibWFjcm9tb2xlY3VsZVwiKTtcclxuICAgICAgY29uc3QgZGVmYXVsdFJlZ3VsYXRvclByb3BlcnRpZXMgPSBoYXNSZWd1bGF0b3JcclxuICAgICAgICA/IGVsZW1lbnRVdGlsaXRpZXMuZ2V0RGVmYXVsdFByb3BlcnRpZXMocmVndWxhdG9yLnR5cGUpXHJcbiAgICAgICAgOiB7fTtcclxuICAgICAgY29uc3QgZGVmYXVsdFByb2Nlc3NQcm9wZXJ0aWVzID1cclxuICAgICAgICBlbGVtZW50VXRpbGl0aWVzLmdldERlZmF1bHRQcm9wZXJ0aWVzKFwiY2F0YWx5dGljXCIpO1xyXG4gICAgICBjb25zdCBwcm9jZXNzV2lkdGggPSBkZWZhdWx0UHJvY2Vzc1Byb3BlcnRpZXMud2lkdGggfHwgNTA7XHJcbiAgICAgIGNvbnN0IG1hY3JvbW9sZWN1bGVXaWR0aCA9IGRlZmF1bHRNYWNyb21vbGVjdWxlUHJvcGVydGllcy53aWR0aCB8fCA1MDtcclxuICAgICAgY29uc3QgbWFjcm9tb2xlY3VsZUhlaWdodCA9IGRlZmF1bHRNYWNyb21vbGVjdWxlUHJvcGVydGllcy5oZWlnaHQgfHwgNTA7XHJcbiAgICAgIGNvbnN0IHByb2Nlc3NIZWlnaHQgPSBkZWZhdWx0UHJvY2Vzc1Byb3BlcnRpZXMuaGVpZ2h0IHx8IDUwO1xyXG4gICAgICBjb25zdCByZWd1bGF0b3JIZWlnaHQgPSBkZWZhdWx0UmVndWxhdG9yUHJvcGVydGllcy5oZWlnaHQgfHwgNTA7XHJcbiAgICAgIGNvbnN0IHByb2Nlc3NQb3NpdGlvbiA9IGVsZW1lbnRVdGlsaXRpZXMuY29udmVydFRvTW9kZWxQb3NpdGlvbih7XHJcbiAgICAgICAgeDogY3kud2lkdGgoKSAvIDIsXHJcbiAgICAgICAgeTogY3kuaGVpZ2h0KCkgLyAyLFxyXG4gICAgICB9KTtcclxuICAgICAgY29uc3QgZWRnZUxlbmd0aCA9IDMwO1xyXG4gICAgICBjb25zdCBwcm9jZXNzUG9ydHNPcmRlcmluZyA9XHJcbiAgICAgICAgb3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIiA/IFwiVC10by1CXCIgOiBcIkwtdG8tUlwiO1xyXG4gICAgICBjb25zdCBtaW5JbmZvYm94RGltZW5zaW9uID0gMjA7XHJcbiAgICAgIGNvbnN0IHdpZHRoUGVyQ2hhciA9IDY7XHJcbiAgICAgIGNvbnN0IHRpbGluZ1BhZGRpbmdWZXJ0aWNhbCA9IDE1O1xyXG4gICAgICBjb25zdCB0aWxpbmdQYWRkaW5nSG9yaXpvbnRhbCA9IDE1O1xyXG4gICAgICBjb25zdCBtdWx0aW1lck9mZnNldCA9IDY7XHJcblxyXG4gICAgICBjeS5zdGFydEJhdGNoKCk7XHJcblxyXG4gICAgICBpZiAoIWVsZW1lbnRVdGlsaXRpZXMuZ2V0TWFwVHlwZSgpKSB7XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5zZXRNYXBUeXBlKFwiUERcIik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHByb2Nlc3NOb2RlID0gZWxlbWVudFV0aWxpdGllcy5hZGROb2RlKFxyXG4gICAgICAgIHByb2Nlc3NQb3NpdGlvbi54LFxyXG4gICAgICAgIHByb2Nlc3NQb3NpdGlvbi55LFxyXG4gICAgICAgIHsgY2xhc3M6IFwicHJvY2Vzc1wiLCBsYW5ndWFnZTogXCJQRFwiIH1cclxuICAgICAgKTtcclxuICAgICAgZWxlbWVudFV0aWxpdGllcy5zZXRQb3J0c09yZGVyaW5nKHByb2Nlc3NOb2RlLCBwcm9jZXNzUG9ydHNPcmRlcmluZyk7XHJcbiAgICAgIHByb2Nlc3NOb2RlLmRhdGEoXCJqdXN0QWRkZWRcIiwgdHJ1ZSk7XHJcblxyXG4gICAgICBjb25zdCBvZmZzZXRYID0gcHJvY2Vzc1dpZHRoIC8gMiArIGVkZ2VMZW5ndGggKyBtYWNyb21vbGVjdWxlV2lkdGggLyAyO1xyXG4gICAgICBsZXQgeFBvc09mUHJvdGVpbiA9IHJldmVyc2VcclxuICAgICAgICA/IHByb2Nlc3NQb3NpdGlvbi54ICsgb2Zmc2V0WFxyXG4gICAgICAgIDogcHJvY2Vzc1Bvc2l0aW9uLnggLSBvZmZzZXRYO1xyXG5cclxuICAgICAgY29uc3QgcHJvdGVpbkNvdW50ID0gcHJvdGVpbkxhYmVscy5sZW5ndGg7XHJcblxyXG4gICAgICBjb25zdCBtYWNyb21vbGVjdWxlRGltZW5zaW9uID1cclxuICAgICAgICBvcmllbnRhdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiID8gbWFjcm9tb2xlY3VsZVdpZHRoIDogbWFjcm9tb2xlY3VsZUhlaWdodDtcclxuICAgICAgY29uc3Qgc3RlcE9mZnNldCA9IG1hY3JvbW9sZWN1bGVEaW1lbnNpb24gKyB0aWxpbmdQYWRkaW5nVmVydGljYWw7XHJcbiAgICAgIGNvbnN0IG9mZnNldFkgPVxyXG4gICAgICAgICgocHJvdGVpbkNvdW50IC0gMSkgLyAyKSAqXHJcbiAgICAgICAgKG1hY3JvbW9sZWN1bGVEaW1lbnNpb24gKyB0aWxpbmdQYWRkaW5nVmVydGljYWwpO1xyXG4gICAgICBjb25zdCBob3Jpem9udGFsT2Zmc2V0WCA9XHJcbiAgICAgICAgKChwcm90ZWluQ291bnQgLSAxKSAvIDIpICpcclxuICAgICAgICAobWFjcm9tb2xlY3VsZURpbWVuc2lvbiArIHRpbGluZ1BhZGRpbmdIb3Jpem9udGFsKTtcclxuXHJcbiAgICAgIGxldCB5UG9zT2ZQcm90ZWluID0gcHJvY2Vzc1Bvc2l0aW9uLnkgLSBvZmZzZXRZO1xyXG5cclxuICAgICAgcHJvdGVpbkxhYmVscy5mb3JFYWNoKGZ1bmN0aW9uIChsYWJlbCkge1xyXG4gICAgICAgIGxldCBub2RlUG9zaXRpb24gPSB7XHJcbiAgICAgICAgICB4OiB4UG9zT2ZQcm90ZWluLFxyXG4gICAgICAgICAgeTogeVBvc09mUHJvdGVpbixcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiKSB7XHJcbiAgICAgICAgICBub2RlUG9zaXRpb24gPSBlbGVtZW50VXRpbGl0aWVzLnJvdGF0ZTkwKFxyXG4gICAgICAgICAgICBub2RlUG9zaXRpb24sXHJcbiAgICAgICAgICAgIHByb2Nlc3NQb3NpdGlvblxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG5vZGUgPSBlbGVtZW50VXRpbGl0aWVzLmFkZE5vZGUobm9kZVBvc2l0aW9uLngsIG5vZGVQb3NpdGlvbi55LCB7XHJcbiAgICAgICAgICBjbGFzczogXCJtYWNyb21vbGVjdWxlXCIsXHJcbiAgICAgICAgICBsYW5ndWFnZTogXCJQRFwiLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG5vZGUuZGF0YShcImxhYmVsXCIsIGxhYmVsKTtcclxuICAgICAgICBub2RlLmRhdGEoXCJqdXN0QWRkZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgeVBvc09mUHJvdGVpbiArPSBzdGVwT2Zmc2V0O1xyXG5cclxuICAgICAgICBjb25zdCBzb3VyY2UgPSByZXZlcnNlID8gcHJvY2Vzc05vZGUuaWQoKSA6IG5vZGUuaWQoKTtcclxuICAgICAgICBjb25zdCB0YXJnZXQgPSByZXZlcnNlID8gbm9kZS5pZCgpIDogcHJvY2Vzc05vZGUuaWQoKTtcclxuICAgICAgICBjb25zdCBlZGdlQ2xhc3MgPSByZXZlcnNlID8gXCJwcm9kdWN0aW9uXCIgOiBcImNvbnN1bXB0aW9uXCI7XHJcbiAgICAgICAgY29uc3QgZWRnZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkRWRnZShzb3VyY2UsIHRhcmdldCwge1xyXG4gICAgICAgICAgY2xhc3M6IGVkZ2VDbGFzcyxcclxuICAgICAgICAgIGxhbmd1YWdlOiBcIlBEXCIsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZWRnZS5kYXRhKFwianVzdEFkZGVkXCIsIHRydWUpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGxldCBjb21wbGV4UG9zID0ge1xyXG4gICAgICAgIHg6IHByb2Nlc3NQb3NpdGlvbi54ICsgKHJldmVyc2UgPyAtMSA6IDEpICogb2Zmc2V0WCxcclxuICAgICAgICB5OiBwcm9jZXNzUG9zaXRpb24ueSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGlmIChvcmllbnRhdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiKSB7XHJcbiAgICAgICAgY29tcGxleFBvcyA9IGVsZW1lbnRVdGlsaXRpZXMucm90YXRlOTAoY29tcGxleFBvcywgcHJvY2Vzc1Bvc2l0aW9uKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgY29tcGxleCA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkTm9kZShjb21wbGV4UG9zLngsIGNvbXBsZXhQb3MueSwge1xyXG4gICAgICAgIGNsYXNzOiBcImNvbXBsZXhcIixcclxuICAgICAgICBsYW5ndWFnZTogXCJQRFwiLFxyXG4gICAgICB9KTtcclxuICAgICAgY29tcGxleC5kYXRhKFwibGFiZWxcIiwgY29tcGxleExhYmVsKTtcclxuICAgICAgY29tcGxleC5kYXRhKFwianVzdEFkZGVkXCIsIHRydWUpO1xyXG5cclxuICAgICAgY29uc3Qgc291cmNlID0gcmV2ZXJzZSA/IGNvbXBsZXguaWQoKSA6IHByb2Nlc3NOb2RlLmlkKCk7XHJcbiAgICAgIGNvbnN0IHRhcmdldCA9IHJldmVyc2UgPyBwcm9jZXNzTm9kZS5pZCgpIDogY29tcGxleC5pZCgpO1xyXG4gICAgICBjb25zdCBlZGdlQ2xhc3MgPSByZXZlcnNlID8gXCJjb25zdW1wdGlvblwiIDogXCJwcm9kdWN0aW9uXCI7XHJcbiAgICAgIGNvbnN0IGNvbXBsZXhFZGdlID0gZWxlbWVudFV0aWxpdGllcy5hZGRFZGdlKHNvdXJjZSwgdGFyZ2V0LCB7XHJcbiAgICAgICAgY2xhc3M6IGVkZ2VDbGFzcyxcclxuICAgICAgICBsYW5ndWFnZTogXCJQRFwiLFxyXG4gICAgICB9KTtcclxuICAgICAgY29tcGxleEVkZ2UuZGF0YShcImp1c3RBZGRlZFwiLCB0cnVlKTtcclxuXHJcbiAgICAgIGlmIChvcmllbnRhdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiKSB7XHJcbiAgICAgICAgeFBvc09mUHJvdGVpbiA9IGNvbXBsZXgucG9zaXRpb24oXCJ4XCIpIC0gaG9yaXpvbnRhbE9mZnNldFg7XHJcbiAgICAgICAgeVBvc09mUHJvdGVpbiA9IGNvbXBsZXgucG9zaXRpb24oXCJ5XCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHhQb3NPZlByb3RlaW4gPSBjb21wbGV4LnBvc2l0aW9uKFwieFwiKTtcclxuICAgICAgICB5UG9zT2ZQcm90ZWluID0gY29tcGxleC5wb3NpdGlvbihcInlcIikgLSBvZmZzZXRZO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBwcm90ZWluTGFiZWxzLmZvckVhY2goZnVuY3Rpb24gKGxhYmVsKSB7XHJcbiAgICAgICAgbGV0IG5vZGVQb3NpdGlvbiA9IHtcclxuICAgICAgICAgIHg6IHhQb3NPZlByb3RlaW4sXHJcbiAgICAgICAgICB5OiB5UG9zT2ZQcm90ZWluLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IG5vZGUgPSBlbGVtZW50VXRpbGl0aWVzLmFkZE5vZGUoXHJcbiAgICAgICAgICBub2RlUG9zaXRpb24ueCxcclxuICAgICAgICAgIG5vZGVQb3NpdGlvbi55LFxyXG4gICAgICAgICAgeyBjbGFzczogXCJtYWNyb21vbGVjdWxlXCIsIGxhbmd1YWdlOiBcIlBEXCIgfSxcclxuICAgICAgICAgIHVuZGVmaW5lZCxcclxuICAgICAgICAgIGNvbXBsZXguaWQoKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbm9kZS5kYXRhKFwibGFiZWxcIiwgbGFiZWwpO1xyXG4gICAgICAgIG5vZGUuZGF0YShcImp1c3RBZGRlZFwiLCB0cnVlKTtcclxuXHJcbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09PSBcInZlcnRpY2FsXCIpIHtcclxuICAgICAgICAgIHhQb3NPZlByb3RlaW4gKz0gc3RlcE9mZnNldDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgeVBvc09mUHJvdGVpbiArPSBzdGVwT2Zmc2V0O1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoaGFzUmVndWxhdG9yKSB7XHJcbiAgICAgICAgY29uc3QgcmVndWxhdG9yTmFtZSA9IHJlZ3VsYXRvci5uYW1lO1xyXG4gICAgICAgIGNvbnN0IHJlZ3VsYXRvclR5cGUgPSByZWd1bGF0b3IudHlwZTtcclxuICAgICAgICBjb25zdCByZWd1bGF0b3JFZGdlVHlwZSA9IHJlZ3VsYXRvci5lZGdlVHlwZTtcclxuICAgICAgICBjb25zdCByZWd1bGF0b3JNdWx0aW1lciA9IHJlZ3VsYXRvci5tdWx0aW1lcjtcclxuXHJcbiAgICAgICAgbGV0IHhQb3NPZlJlZ3VsYXRvciA9IHByb2Nlc3NQb3NpdGlvbi54O1xyXG4gICAgICAgIGlmIChyZWd1bGF0b3JNdWx0aW1lci5lbmFibGVkICYmIG9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIikge1xyXG4gICAgICAgICAgeFBvc09mUmVndWxhdG9yIC09IG11bHRpbWVyT2Zmc2V0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgeVBvc09mUmVndWxhdG9yID1cclxuICAgICAgICAgIHByb2Nlc3NQb3NpdGlvbi55IC1cclxuICAgICAgICAgIChwcm9jZXNzSGVpZ2h0IC8gMiArIHJlZ3VsYXRvckhlaWdodCAvIDIgKyBlZGdlTGVuZ3RoKTtcclxuXHJcbiAgICAgICAgbm9kZVBvc2l0aW9uID0ge1xyXG4gICAgICAgICAgeDogeFBvc09mUmVndWxhdG9yLFxyXG4gICAgICAgICAgeTogeVBvc09mUmVndWxhdG9yLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09PSBcInZlcnRpY2FsXCIpIHtcclxuICAgICAgICAgIG5vZGVQb3NpdGlvbiA9IGVsZW1lbnRVdGlsaXRpZXMucm90YXRlOTAoXHJcbiAgICAgICAgICAgIG5vZGVQb3NpdGlvbixcclxuICAgICAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHJlZ3VsYXRvck5vZGUgPSBlbGVtZW50VXRpbGl0aWVzLmFkZE5vZGUoXHJcbiAgICAgICAgICBub2RlUG9zaXRpb24ueCxcclxuICAgICAgICAgIG5vZGVQb3NpdGlvbi55LFxyXG4gICAgICAgICAgeyBjbGFzczogcmVndWxhdG9yVHlwZSwgbGFuZ3VhZ2U6IFwiUERcIiB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICByZWd1bGF0b3JOb2RlLmRhdGEoXCJqdXN0QWRkZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgcmVndWxhdG9yTm9kZS5kYXRhKFwibGFiZWxcIiwgcmVndWxhdG9yTmFtZSk7XHJcblxyXG4gICAgICAgIGlmIChyZWd1bGF0b3JNdWx0aW1lci5lbmFibGVkKSB7XHJcbiAgICAgICAgICBlbGVtZW50VXRpbGl0aWVzLnNldE11bHRpbWVyU3RhdHVzKHJlZ3VsYXRvck5vZGUsIHRydWUpO1xyXG5cclxuICAgICAgICAgIGNvbnN0IGNhcmRpbmFsaXR5ID0gcmVndWxhdG9yTXVsdGltZXIuY2FyZGluYWxpdHk7XHJcbiAgICAgICAgICBpZiAoY2FyZGluYWxpdHkgIT0gXCJcIikge1xyXG4gICAgICAgICAgICBjb25zdCBpbmZvYm94TGFiZWwgPSBcIk46XCIgKyBjYXJkaW5hbGl0eTtcclxuICAgICAgICAgICAgaW5mb2JveE9iamVjdCA9IHtcclxuICAgICAgICAgICAgICBjbGF6ejogXCJ1bml0IG9mIGluZm9ybWF0aW9uXCIsXHJcbiAgICAgICAgICAgICAgbGFiZWw6IHtcclxuICAgICAgICAgICAgICAgIHRleHQ6IGluZm9ib3hMYWJlbCxcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIGJib3g6IHtcclxuICAgICAgICAgICAgICAgIHc6IGluZm9ib3hMYWJlbC5sZW5ndGggKiB3aWR0aFBlckNoYXIsXHJcbiAgICAgICAgICAgICAgICBoOiBtaW5JbmZvYm94RGltZW5zaW9uLFxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGVsZW1lbnRVdGlsaXRpZXMuYWRkU3RhdGVPckluZm9Cb3gocmVndWxhdG9yTm9kZSwgaW5mb2JveE9iamVjdCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcmVndWxhdG9yRWRnZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkRWRnZShcclxuICAgICAgICAgIHJlZ3VsYXRvck5vZGUuaWQoKSxcclxuICAgICAgICAgIHByb2Nlc3NOb2RlLmlkKCksXHJcbiAgICAgICAgICB7IGNsYXNzOiByZWd1bGF0b3JFZGdlVHlwZSwgbGFuZ3VhZ2U6IFwiUERcIiB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICByZWd1bGF0b3JFZGdlLmRhdGEoXCJqdXN0QWRkZWRcIiwgdHJ1ZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGN5LmVuZEJhdGNoKCk7XHJcblxyXG4gICAgICBjb25zdCBlbGVzID0gY3kuZWxlbWVudHMoXCJbanVzdEFkZGVkXVwiKTtcclxuICAgICAgZWxlcy5yZW1vdmVEYXRhKFwianVzdEFkZGVkXCIpO1xyXG5cclxuICAgICAgY3kuZWxlbWVudHMoKS51bnNlbGVjdCgpO1xyXG4gICAgICBlbGVzLnNlbGVjdCgpO1xyXG5cclxuICAgICAgcmV0dXJuIGVsZXM7XHJcbiAgICB9O1xyXG5cclxuICAgIGVsZW1lbnRVdGlsaXRpZXMuY3JlYXRlTXVsdGltZXJpemF0aW9uID0gZnVuY3Rpb24gKFxyXG4gICAgICBtYWNyb21vbGVjdWxlLFxyXG4gICAgICByZWd1bGF0b3IsXHJcbiAgICAgIHJlZ3VsYXRvck11bHRpbWVyLFxyXG4gICAgICBvcmllbnRhdGlvblxyXG4gICAgKSB7XHJcbiAgICAgIGNvbnN0IGhhc1JlZ3VsYXRvciA9IHJlZ3VsYXRvci5uYW1lICE9PSB1bmRlZmluZWQ7XHJcbiAgICAgIGNvbnN0IG1hY3JvbW9sZWN1bGVOYW1lID0gbWFjcm9tb2xlY3VsZS5uYW1lO1xyXG4gICAgICBjb25zdCBtYWNyb21vbGVjdWxlTXVsdGltZXJDYXJkaW5hbGl0eSA9IG1hY3JvbW9sZWN1bGUuY2FyZGluYWxpdHk7XHJcbiAgICAgIGNvbnN0IGRlZmF1bHRNYWNyb21vbGVjdWxlUHJvcGVydGllcyA9XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5nZXREZWZhdWx0UHJvcGVydGllcyhcIm1hY3JvbW9sZWN1bGVcIik7XHJcbiAgICAgIGNvbnN0IGRlZmF1bHRSZWd1bGF0b3JQcm9wZXJ0aWVzID0gaGFzUmVndWxhdG9yXHJcbiAgICAgICAgPyBlbGVtZW50VXRpbGl0aWVzLmdldERlZmF1bHRQcm9wZXJ0aWVzKHJlZ3VsYXRvci50eXBlKVxyXG4gICAgICAgIDoge307XHJcbiAgICAgIGNvbnN0IGRlZmF1bHRQcm9jZXNzUHJvcGVydGllcyA9XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5nZXREZWZhdWx0UHJvcGVydGllcyhcImNhdGFseXRpY1wiKTtcclxuICAgICAgY29uc3QgcHJvY2Vzc1dpZHRoID0gZGVmYXVsdFByb2Nlc3NQcm9wZXJ0aWVzLndpZHRoIHx8IDUwO1xyXG4gICAgICBjb25zdCBtYWNyb21vbGVjdWxlV2lkdGggPSBkZWZhdWx0TWFjcm9tb2xlY3VsZVByb3BlcnRpZXMud2lkdGggfHwgNTA7XHJcbiAgICAgIGNvbnN0IG1hY3JvbW9sZWN1bGVIZWlnaHQgPSBkZWZhdWx0TWFjcm9tb2xlY3VsZVByb3BlcnRpZXMuaGVpZ2h0IHx8IDUwO1xyXG4gICAgICBjb25zdCBwcm9jZXNzSGVpZ2h0ID0gZGVmYXVsdFByb2Nlc3NQcm9wZXJ0aWVzLmhlaWdodCB8fCA1MDtcclxuICAgICAgY29uc3QgcmVndWxhdG9ySGVpZ2h0ID0gZGVmYXVsdFJlZ3VsYXRvclByb3BlcnRpZXMuaGVpZ2h0IHx8IDUwO1xyXG4gICAgICBjb25zdCBwcm9jZXNzUG9zaXRpb24gPSBlbGVtZW50VXRpbGl0aWVzLmNvbnZlcnRUb01vZGVsUG9zaXRpb24oe1xyXG4gICAgICAgIHg6IGN5LndpZHRoKCkgLyAyLFxyXG4gICAgICAgIHk6IGN5LmhlaWdodCgpIC8gMixcclxuICAgICAgfSk7XHJcbiAgICAgIGNvbnN0IGVkZ2VMZW5ndGggPSAzMDtcclxuICAgICAgY29uc3QgcHJvY2Vzc1BvcnRzT3JkZXJpbmcgPVxyXG4gICAgICAgIG9yaWVudGF0aW9uID09PSBcInZlcnRpY2FsXCIgPyBcIlQtdG8tQlwiIDogXCJMLXRvLVJcIjtcclxuICAgICAgY29uc3QgbWluSW5mb2JveERpbWVuc2lvbiA9IDIwO1xyXG4gICAgICBjb25zdCB3aWR0aFBlckNoYXIgPSA2O1xyXG4gICAgICBjb25zdCBtdWx0aW1lck9mZnNldCA9IDY7XHJcblxyXG4gICAgICBjeS5zdGFydEJhdGNoKCk7XHJcblxyXG4gICAgICBpZiAoIWVsZW1lbnRVdGlsaXRpZXMuZ2V0TWFwVHlwZSgpKSB7XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5zZXRNYXBUeXBlKFwiUERcIik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxldCB4UG9zT2ZJbnB1dCA9XHJcbiAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uLnggLVxyXG4gICAgICAgIGVkZ2VMZW5ndGggLVxyXG4gICAgICAgIHByb2Nlc3NXaWR0aCAvIDIgLVxyXG4gICAgICAgIG1hY3JvbW9sZWN1bGVXaWR0aCAvIDI7XHJcbiAgICAgIGxldCB4UG9zT2ZPdXRwdXQgPVxyXG4gICAgICAgIHByb2Nlc3NQb3NpdGlvbi54ICtcclxuICAgICAgICBlZGdlTGVuZ3RoICtcclxuICAgICAgICBwcm9jZXNzV2lkdGggLyAyICtcclxuICAgICAgICBtYWNyb21vbGVjdWxlV2lkdGggLyAyO1xyXG4gICAgICBsZXQgeVBvc09mSW5wdXQgPSBwcm9jZXNzUG9zaXRpb24ueTtcclxuICAgICAgbGV0IHlQb3NPZk91dHB1dCA9IHByb2Nlc3NQb3NpdGlvbi55O1xyXG5cclxuICAgICAgbGV0IHByb2Nlc3NOb2RlID0gZWxlbWVudFV0aWxpdGllcy5hZGROb2RlKFxyXG4gICAgICAgIHByb2Nlc3NQb3NpdGlvbi54LFxyXG4gICAgICAgIHByb2Nlc3NQb3NpdGlvbi55LFxyXG4gICAgICAgIHsgY2xhc3M6IFwicHJvY2Vzc1wiLCBsYW5ndWFnZTogXCJQRFwiIH1cclxuICAgICAgKTtcclxuICAgICAgZWxlbWVudFV0aWxpdGllcy5zZXRQb3J0c09yZGVyaW5nKHByb2Nlc3NOb2RlLCBwcm9jZXNzUG9ydHNPcmRlcmluZyk7XHJcbiAgICAgIHByb2Nlc3NOb2RlLmRhdGEoXCJqdXN0QWRkZWRcIiwgdHJ1ZSk7XHJcblxyXG4gICAgICBsZXQgbm9kZVBvc2l0aW9uID0ge1xyXG4gICAgICAgIHg6IHhQb3NPZklucHV0LFxyXG4gICAgICAgIHk6IHlQb3NPZklucHV0LFxyXG4gICAgICB9O1xyXG4gICAgICBpZiAob3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIikge1xyXG4gICAgICAgIG5vZGVQb3NpdGlvbiA9IGVsZW1lbnRVdGlsaXRpZXMucm90YXRlOTAobm9kZVBvc2l0aW9uLCBwcm9jZXNzUG9zaXRpb24pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgaW5wdXROb2RlID0gZWxlbWVudFV0aWxpdGllcy5hZGROb2RlKG5vZGVQb3NpdGlvbi54LCBub2RlUG9zaXRpb24ueSwge1xyXG4gICAgICAgIGNsYXNzOiBcIm1hY3JvbW9sZWN1bGVcIixcclxuICAgICAgICBsYW5ndWFnZTogXCJQRFwiLFxyXG4gICAgICB9KTtcclxuICAgICAgaW5wdXROb2RlLmRhdGEoXCJqdXN0QWRkZWRcIiwgdHJ1ZSk7XHJcbiAgICAgIGlucHV0Tm9kZS5kYXRhKFwibGFiZWxcIiwgbWFjcm9tb2xlY3VsZU5hbWUpO1xyXG5cclxuICAgICAgbGV0IGlucHV0RWRnZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkRWRnZShcclxuICAgICAgICBpbnB1dE5vZGUuaWQoKSxcclxuICAgICAgICBwcm9jZXNzTm9kZS5pZCgpLFxyXG4gICAgICAgIHsgY2xhc3M6IFwiY29uc3VtcHRpb25cIiwgbGFuZ3VhZ2U6IFwiUERcIiB9XHJcbiAgICAgICk7XHJcbiAgICAgIGlucHV0RWRnZS5kYXRhKFwianVzdEFkZGVkXCIsIHRydWUpO1xyXG5cclxuICAgICAgbGV0IGNhcmRpbmFsaXR5ID0gbWFjcm9tb2xlY3VsZU11bHRpbWVyQ2FyZGluYWxpdHk7XHJcbiAgICAgIGlmIChjYXJkaW5hbGl0eSAhPT0gXCJcIikge1xyXG4gICAgICAgIGlucHV0RWRnZS5kYXRhKFwiY2FyZGluYWxpdHlcIiwgY2FyZGluYWxpdHkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBub2RlUG9zaXRpb24gPSB7XHJcbiAgICAgICAgeDogeFBvc09mT3V0cHV0LFxyXG4gICAgICAgIHk6IHlQb3NPZk91dHB1dCxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGlmIChvcmllbnRhdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiKSB7XHJcbiAgICAgICAgbm9kZVBvc2l0aW9uID0gZWxlbWVudFV0aWxpdGllcy5yb3RhdGU5MChub2RlUG9zaXRpb24sIHByb2Nlc3NQb3NpdGlvbik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxldCBvdXRwdXROb2RlID0gZWxlbWVudFV0aWxpdGllcy5hZGROb2RlKFxyXG4gICAgICAgIG5vZGVQb3NpdGlvbi54LFxyXG4gICAgICAgIG5vZGVQb3NpdGlvbi55LFxyXG4gICAgICAgIHsgY2xhc3M6IFwibWFjcm9tb2xlY3VsZVwiLCBsYW5ndWFnZTogXCJQRFwiIH1cclxuICAgICAgKTtcclxuICAgICAgb3V0cHV0Tm9kZS5kYXRhKFwianVzdEFkZGVkXCIsIHRydWUpO1xyXG4gICAgICBvdXRwdXROb2RlLmRhdGEoXCJsYWJlbFwiLCBtYWNyb21vbGVjdWxlTmFtZSk7XHJcbiAgICAgIGVsZW1lbnRVdGlsaXRpZXMuc2V0TXVsdGltZXJTdGF0dXMob3V0cHV0Tm9kZSwgdHJ1ZSk7XHJcblxyXG4gICAgICBpZiAoY2FyZGluYWxpdHkgIT09IFwiXCIpIHtcclxuICAgICAgICBjb25zdCBpbmZvYm94TGFiZWwgPSBcIk46XCIgKyBjYXJkaW5hbGl0eTtcclxuICAgICAgICBpbmZvYm94T2JqZWN0ID0ge1xyXG4gICAgICAgICAgY2xheno6IFwidW5pdCBvZiBpbmZvcm1hdGlvblwiLFxyXG4gICAgICAgICAgbGFiZWw6IHtcclxuICAgICAgICAgICAgdGV4dDogaW5mb2JveExhYmVsLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGJib3g6IHtcclxuICAgICAgICAgICAgdzogaW5mb2JveExhYmVsLmxlbmd0aCAqIHdpZHRoUGVyQ2hhcixcclxuICAgICAgICAgICAgaDogbWluSW5mb2JveERpbWVuc2lvbixcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgICAgICBlbGVtZW50VXRpbGl0aWVzLmFkZFN0YXRlT3JJbmZvQm94KG91dHB1dE5vZGUsIGluZm9ib3hPYmplY3QpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgb3V0cHV0RWRnZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkRWRnZShcclxuICAgICAgICBwcm9jZXNzTm9kZS5pZCgpLFxyXG4gICAgICAgIG91dHB1dE5vZGUuaWQoKSxcclxuICAgICAgICB7IGNsYXNzOiBcInByb2R1Y3Rpb25cIiwgbGFuZ3VhZ2U6IFwiUERcIiB9XHJcbiAgICAgICk7XHJcbiAgICAgIG91dHB1dEVkZ2UuZGF0YShcImp1c3RBZGRlZFwiLCB0cnVlKTtcclxuXHJcbiAgICAgIGlmIChoYXNSZWd1bGF0b3IpIHtcclxuICAgICAgICBjb25zdCByZWd1bGF0b3JOYW1lID0gcmVndWxhdG9yLm5hbWU7XHJcbiAgICAgICAgY29uc3QgcmVndWxhdG9yVHlwZSA9IHJlZ3VsYXRvci50eXBlO1xyXG4gICAgICAgIGNvbnN0IHJlZ3VsYXRvckVkZ2VUeXBlID0gcmVndWxhdG9yLmVkZ2VUeXBlO1xyXG5cclxuICAgICAgICBsZXQgeFBvc09mUmVndWxhdG9yID0gcHJvY2Vzc1Bvc2l0aW9uLng7XHJcbiAgICAgICAgaWYgKHJlZ3VsYXRvck11bHRpbWVyLmVuYWJsZWQgJiYgb3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiKSB7XHJcbiAgICAgICAgICB4UG9zT2ZSZWd1bGF0b3IgLT0gbXVsdGltZXJPZmZzZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB5UG9zT2ZSZWd1bGF0b3IgPVxyXG4gICAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uLnkgLVxyXG4gICAgICAgICAgKHByb2Nlc3NIZWlnaHQgLyAyICsgcmVndWxhdG9ySGVpZ2h0IC8gMiArIGVkZ2VMZW5ndGgpO1xyXG5cclxuICAgICAgICBub2RlUG9zaXRpb24gPSB7XHJcbiAgICAgICAgICB4OiB4UG9zT2ZSZWd1bGF0b3IsXHJcbiAgICAgICAgICB5OiB5UG9zT2ZSZWd1bGF0b3IsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIikge1xyXG4gICAgICAgICAgbm9kZVBvc2l0aW9uID0gZWxlbWVudFV0aWxpdGllcy5yb3RhdGU5MChcclxuICAgICAgICAgICAgbm9kZVBvc2l0aW9uLFxyXG4gICAgICAgICAgICBwcm9jZXNzUG9zaXRpb25cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcmVndWxhdG9yTm9kZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkTm9kZShcclxuICAgICAgICAgIG5vZGVQb3NpdGlvbi54LFxyXG4gICAgICAgICAgbm9kZVBvc2l0aW9uLnksXHJcbiAgICAgICAgICB7IGNsYXNzOiByZWd1bGF0b3JUeXBlLCBsYW5ndWFnZTogXCJQRFwiIH1cclxuICAgICAgICApO1xyXG4gICAgICAgIHJlZ3VsYXRvck5vZGUuZGF0YShcImp1c3RBZGRlZFwiLCB0cnVlKTtcclxuICAgICAgICByZWd1bGF0b3JOb2RlLmRhdGEoXCJsYWJlbFwiLCByZWd1bGF0b3JOYW1lKTtcclxuXHJcbiAgICAgICAgaWYgKHJlZ3VsYXRvck11bHRpbWVyLmVuYWJsZWQpIHtcclxuICAgICAgICAgIGVsZW1lbnRVdGlsaXRpZXMuc2V0TXVsdGltZXJTdGF0dXMocmVndWxhdG9yTm9kZSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgY29uc3QgY2FyZGluYWxpdHkgPSByZWd1bGF0b3JNdWx0aW1lci5jYXJkaW5hbGl0eTtcclxuICAgICAgICAgIGlmIChjYXJkaW5hbGl0eSAhPSBcIlwiKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluZm9ib3hMYWJlbCA9IFwiTjpcIiArIGNhcmRpbmFsaXR5O1xyXG4gICAgICAgICAgICBpbmZvYm94T2JqZWN0ID0ge1xyXG4gICAgICAgICAgICAgIGNsYXp6OiBcInVuaXQgb2YgaW5mb3JtYXRpb25cIixcclxuICAgICAgICAgICAgICBsYWJlbDoge1xyXG4gICAgICAgICAgICAgICAgdGV4dDogaW5mb2JveExhYmVsLFxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgYmJveDoge1xyXG4gICAgICAgICAgICAgICAgdzogaW5mb2JveExhYmVsLmxlbmd0aCAqIHdpZHRoUGVyQ2hhcixcclxuICAgICAgICAgICAgICAgIGg6IG1pbkluZm9ib3hEaW1lbnNpb24sXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZWxlbWVudFV0aWxpdGllcy5hZGRTdGF0ZU9ySW5mb0JveChyZWd1bGF0b3JOb2RlLCBpbmZvYm94T2JqZWN0KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCByZWd1bGF0b3JFZGdlID0gZWxlbWVudFV0aWxpdGllcy5hZGRFZGdlKFxyXG4gICAgICAgICAgcmVndWxhdG9yTm9kZS5pZCgpLFxyXG4gICAgICAgICAgcHJvY2Vzc05vZGUuaWQoKSxcclxuICAgICAgICAgIHsgY2xhc3M6IHJlZ3VsYXRvckVkZ2VUeXBlLCBsYW5ndWFnZTogXCJQRFwiIH1cclxuICAgICAgICApO1xyXG4gICAgICAgIHJlZ3VsYXRvckVkZ2UuZGF0YShcImp1c3RBZGRlZFwiLCB0cnVlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY3kuZW5kQmF0Y2goKTtcclxuXHJcbiAgICAgIGNvbnN0IGVsZXMgPSBjeS5lbGVtZW50cyhcIltqdXN0QWRkZWRdXCIpO1xyXG4gICAgICBlbGVzLnJlbW92ZURhdGEoXCJqdXN0QWRkZWRcIik7XHJcblxyXG4gICAgICBjeS5lbGVtZW50cygpLnVuc2VsZWN0KCk7XHJcbiAgICAgIGVsZXMuc2VsZWN0KCk7XHJcblxyXG4gICAgICByZXR1cm4gZWxlcztcclxuICAgIH07XHJcblxyXG4gICAgZWxlbWVudFV0aWxpdGllcy5jcmVhdGVDb252ZXJzaW9uID0gZnVuY3Rpb24gKFxyXG4gICAgICBtYWNyb21vbGVjdWxlLFxyXG4gICAgICByZWd1bGF0b3IsXHJcbiAgICAgIHJlZ3VsYXRvck11bHRpbWVyLFxyXG4gICAgICBvcmllbnRhdGlvbixcclxuICAgICAgaW5wdXRJbmZvYm94TGFiZWxzLFxyXG4gICAgICBvdXRwdXRJbmZvYm94TGFiZWxzXHJcbiAgICApIHtcclxuICAgICAgY29uc3QgaGFzUmVndWxhdG9yID0gcmVndWxhdG9yLm5hbWUgIT09IHVuZGVmaW5lZDtcclxuICAgICAgY29uc3QgbWFjcm9tb2xlY3VsZU5hbWUgPSBtYWNyb21vbGVjdWxlLm5hbWU7XHJcbiAgICAgIGNvbnN0IG1hY3JvbW9sZWN1bGVJc011bHRpbWVyID0gbWFjcm9tb2xlY3VsZS5tdWx0aW1lci5lbmFibGVkO1xyXG4gICAgICBjb25zdCBtYWNyb21vbGVjdWxlTXVsdGltZXJDYXJkaW5hbGl0eSA9XHJcbiAgICAgICAgbWFjcm9tb2xlY3VsZS5tdWx0aW1lci5jYXJkaW5hbGl0eTtcclxuICAgICAgY29uc3QgZGVmYXVsdE1hY3JvbW9sZWN1bGVQcm9wZXJ0aWVzID1cclxuICAgICAgICBlbGVtZW50VXRpbGl0aWVzLmdldERlZmF1bHRQcm9wZXJ0aWVzKFwibWFjcm9tb2xlY3VsZVwiKTtcclxuICAgICAgY29uc3QgZGVmYXVsdFJlZ3VsYXRvclByb3BlcnRpZXMgPSBoYXNSZWd1bGF0b3JcclxuICAgICAgICA/IGVsZW1lbnRVdGlsaXRpZXMuZ2V0RGVmYXVsdFByb3BlcnRpZXMocmVndWxhdG9yLnR5cGUpXHJcbiAgICAgICAgOiB7fTtcclxuICAgICAgY29uc3QgZGVmYXVsdFByb2Nlc3NQcm9wZXJ0aWVzID1cclxuICAgICAgICBlbGVtZW50VXRpbGl0aWVzLmdldERlZmF1bHRQcm9wZXJ0aWVzKFwiY2F0YWx5dGljXCIpO1xyXG4gICAgICBjb25zdCBwcm9jZXNzV2lkdGggPSBkZWZhdWx0UHJvY2Vzc1Byb3BlcnRpZXMud2lkdGggfHwgNTA7XHJcbiAgICAgIGNvbnN0IG1hY3JvbW9sZWN1bGVXaWR0aCA9IGRlZmF1bHRNYWNyb21vbGVjdWxlUHJvcGVydGllcy53aWR0aCB8fCA1MDtcclxuICAgICAgY29uc3QgbWFjcm9tb2xlY3VsZUhlaWdodCA9IGRlZmF1bHRNYWNyb21vbGVjdWxlUHJvcGVydGllcy5oZWlnaHQgfHwgNTA7XHJcbiAgICAgIGNvbnN0IHByb2Nlc3NIZWlnaHQgPSBkZWZhdWx0UHJvY2Vzc1Byb3BlcnRpZXMuaGVpZ2h0IHx8IDUwO1xyXG4gICAgICBjb25zdCByZWd1bGF0b3JIZWlnaHQgPSBkZWZhdWx0UmVndWxhdG9yUHJvcGVydGllcy5oZWlnaHQgfHwgNTA7XHJcbiAgICAgIGNvbnN0IHByb2Nlc3NQb3NpdGlvbiA9IGVsZW1lbnRVdGlsaXRpZXMuY29udmVydFRvTW9kZWxQb3NpdGlvbih7XHJcbiAgICAgICAgeDogY3kud2lkdGgoKSAvIDIsXHJcbiAgICAgICAgeTogY3kuaGVpZ2h0KCkgLyAyLFxyXG4gICAgICB9KTtcclxuICAgICAgY29uc3QgZWRnZUxlbmd0aCA9IDMwO1xyXG4gICAgICBjb25zdCBwcm9jZXNzUG9ydHNPcmRlcmluZyA9XHJcbiAgICAgICAgb3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIiA/IFwiVC10by1CXCIgOiBcIkwtdG8tUlwiO1xyXG4gICAgICBjb25zdCBtaW5JbmZvYm94RGltZW5zaW9uID0gMjA7XHJcbiAgICAgIGNvbnN0IHdpZHRoUGVyQ2hhciA9IDY7XHJcbiAgICAgIGNvbnN0IG11bHRpbWVyT2Zmc2V0ID0gNjtcclxuXHJcbiAgICAgIGN5LnN0YXJ0QmF0Y2goKTtcclxuXHJcbiAgICAgIGlmICghZWxlbWVudFV0aWxpdGllcy5nZXRNYXBUeXBlKCkpIHtcclxuICAgICAgICBlbGVtZW50VXRpbGl0aWVzLnNldE1hcFR5cGUoXCJQRFwiKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgbGV0IHhQb3NPZklucHV0ID1cclxuICAgICAgICBwcm9jZXNzUG9zaXRpb24ueCAtXHJcbiAgICAgICAgZWRnZUxlbmd0aCAtXHJcbiAgICAgICAgcHJvY2Vzc1dpZHRoIC8gMiAtXHJcbiAgICAgICAgbWFjcm9tb2xlY3VsZVdpZHRoIC8gMjtcclxuICAgICAgbGV0IHhQb3NPZk91dHB1dCA9XHJcbiAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uLnggK1xyXG4gICAgICAgIGVkZ2VMZW5ndGggK1xyXG4gICAgICAgIHByb2Nlc3NXaWR0aCAvIDIgK1xyXG4gICAgICAgIG1hY3JvbW9sZWN1bGVXaWR0aCAvIDI7XHJcbiAgICAgIGxldCB5UG9zT2ZJbnB1dCA9IHByb2Nlc3NQb3NpdGlvbi55O1xyXG4gICAgICBsZXQgeVBvc09mT3V0cHV0ID0gcHJvY2Vzc1Bvc2l0aW9uLnk7XHJcblxyXG4gICAgICBsZXQgcHJvY2Vzc05vZGUgPSBlbGVtZW50VXRpbGl0aWVzLmFkZE5vZGUoXHJcbiAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uLngsXHJcbiAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uLnksXHJcbiAgICAgICAgeyBjbGFzczogXCJwcm9jZXNzXCIsIGxhbmd1YWdlOiBcIlBEXCIgfVxyXG4gICAgICApO1xyXG4gICAgICBlbGVtZW50VXRpbGl0aWVzLnNldFBvcnRzT3JkZXJpbmcocHJvY2Vzc05vZGUsIHByb2Nlc3NQb3J0c09yZGVyaW5nKTtcclxuICAgICAgcHJvY2Vzc05vZGUuZGF0YShcImp1c3RBZGRlZFwiLCB0cnVlKTtcclxuXHJcbiAgICAgIGxldCBub2RlUG9zaXRpb24gPSB7XHJcbiAgICAgICAgeDogeFBvc09mSW5wdXQsXHJcbiAgICAgICAgeTogeVBvc09mSW5wdXQsXHJcbiAgICAgIH07XHJcbiAgICAgIGlmIChvcmllbnRhdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiKSB7XHJcbiAgICAgICAgbm9kZVBvc2l0aW9uID0gZWxlbWVudFV0aWxpdGllcy5yb3RhdGU5MChub2RlUG9zaXRpb24sIHByb2Nlc3NQb3NpdGlvbik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxldCBpbnB1dE5vZGUgPSBlbGVtZW50VXRpbGl0aWVzLmFkZE5vZGUobm9kZVBvc2l0aW9uLngsIG5vZGVQb3NpdGlvbi55LCB7XHJcbiAgICAgICAgY2xhc3M6IFwibWFjcm9tb2xlY3VsZVwiLFxyXG4gICAgICAgIGxhbmd1YWdlOiBcIlBEXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgICBpbnB1dE5vZGUuZGF0YShcImp1c3RBZGRlZFwiLCB0cnVlKTtcclxuICAgICAgaW5wdXROb2RlLmRhdGEoXCJsYWJlbFwiLCBtYWNyb21vbGVjdWxlTmFtZSk7XHJcbiAgICAgIGlmIChtYWNyb21vbGVjdWxlSXNNdWx0aW1lcikge1xyXG4gICAgICAgIGVsZW1lbnRVdGlsaXRpZXMuc2V0TXVsdGltZXJTdGF0dXMoaW5wdXROb2RlLCB0cnVlKTtcclxuXHJcbiAgICAgICAgY29uc3QgY2FyZGluYWxpdHkgPSBtYWNyb21vbGVjdWxlTXVsdGltZXJDYXJkaW5hbGl0eTtcclxuICAgICAgICBpZiAoY2FyZGluYWxpdHkgIT0gXCJcIikge1xyXG4gICAgICAgICAgY29uc3QgaW5mb2JveExhYmVsID0gXCJOOlwiICsgY2FyZGluYWxpdHk7XHJcbiAgICAgICAgICBpbmZvYm94T2JqZWN0ID0ge1xyXG4gICAgICAgICAgICBjbGF6ejogXCJ1bml0IG9mIGluZm9ybWF0aW9uXCIsXHJcbiAgICAgICAgICAgIGxhYmVsOiB7XHJcbiAgICAgICAgICAgICAgdGV4dDogaW5mb2JveExhYmVsLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBiYm94OiB7XHJcbiAgICAgICAgICAgICAgdzogaW5mb2JveExhYmVsLmxlbmd0aCAqIHdpZHRoUGVyQ2hhcixcclxuICAgICAgICAgICAgICBoOiBtaW5JbmZvYm94RGltZW5zaW9uLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIGVsZW1lbnRVdGlsaXRpZXMuYWRkU3RhdGVPckluZm9Cb3goaW5wdXROb2RlLCBpbmZvYm94T2JqZWN0KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlucHV0SW5mb2JveExhYmVscy5mb3JFYWNoKGZ1bmN0aW9uIChsYWJlbCkge1xyXG4gICAgICAgIGNvbnN0IGlucHV0SW5mb2JveFdpZHRoID1cclxuICAgICAgICAgIGxhYmVsLmxlbmd0aCA+IDBcclxuICAgICAgICAgICAgPyBNYXRoLm1heCh3aWR0aFBlckNoYXIgKiBsYWJlbC5sZW5ndGgsIG1pbkluZm9ib3hEaW1lbnNpb24pXHJcbiAgICAgICAgICAgIDogbWluSW5mb2JveERpbWVuc2lvbjtcclxuICAgICAgICBsZXQgaW5mb2JveE9iamVjdCA9IHtcclxuICAgICAgICAgIGNsYXp6OiBcInVuaXQgb2YgaW5mb3JtYXRpb25cIixcclxuICAgICAgICAgIGxhYmVsOiB7XHJcbiAgICAgICAgICAgIHRleHQ6IGxhYmVsLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGJib3g6IHtcclxuICAgICAgICAgICAgdzogaW5wdXRJbmZvYm94V2lkdGgsXHJcbiAgICAgICAgICAgIGg6IG1pbkluZm9ib3hEaW1lbnNpb24sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgc3R5bGU6IHtcclxuICAgICAgICAgICAgXCJzaGFwZS1uYW1lXCI6IFwiZWxsaXBzZVwiLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGVsZW1lbnRVdGlsaXRpZXMuYWRkU3RhdGVPckluZm9Cb3goaW5wdXROb2RlLCBpbmZvYm94T2JqZWN0KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBsZXQgaW5wdXRFZGdlID0gZWxlbWVudFV0aWxpdGllcy5hZGRFZGdlKFxyXG4gICAgICAgIGlucHV0Tm9kZS5pZCgpLFxyXG4gICAgICAgIHByb2Nlc3NOb2RlLmlkKCksXHJcbiAgICAgICAgeyBjbGFzczogXCJjb25zdW1wdGlvblwiLCBsYW5ndWFnZTogXCJQRFwiIH1cclxuICAgICAgKTtcclxuICAgICAgaW5wdXRFZGdlLmRhdGEoXCJqdXN0QWRkZWRcIiwgdHJ1ZSk7XHJcblxyXG4gICAgICBub2RlUG9zaXRpb24gPSB7XHJcbiAgICAgICAgeDogeFBvc09mT3V0cHV0LFxyXG4gICAgICAgIHk6IHlQb3NPZk91dHB1dCxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGlmIChvcmllbnRhdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiKSB7XHJcbiAgICAgICAgbm9kZVBvc2l0aW9uID0gZWxlbWVudFV0aWxpdGllcy5yb3RhdGU5MChub2RlUG9zaXRpb24sIHByb2Nlc3NQb3NpdGlvbik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxldCBvdXRwdXROb2RlID0gZWxlbWVudFV0aWxpdGllcy5hZGROb2RlKFxyXG4gICAgICAgIG5vZGVQb3NpdGlvbi54LFxyXG4gICAgICAgIG5vZGVQb3NpdGlvbi55LFxyXG4gICAgICAgIHsgY2xhc3M6IFwibWFjcm9tb2xlY3VsZVwiLCBsYW5ndWFnZTogXCJQRFwiIH1cclxuICAgICAgKTtcclxuICAgICAgb3V0cHV0Tm9kZS5kYXRhKFwianVzdEFkZGVkXCIsIHRydWUpO1xyXG4gICAgICBvdXRwdXROb2RlLmRhdGEoXCJsYWJlbFwiLCBtYWNyb21vbGVjdWxlTmFtZSk7XHJcbiAgICAgIGlmIChtYWNyb21vbGVjdWxlSXNNdWx0aW1lcikge1xyXG4gICAgICAgIGVsZW1lbnRVdGlsaXRpZXMuc2V0TXVsdGltZXJTdGF0dXMob3V0cHV0Tm9kZSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNhcmRpbmFsaXR5ID0gbWFjcm9tb2xlY3VsZU11bHRpbWVyQ2FyZGluYWxpdHk7XHJcbiAgICAgICAgaWYgKGNhcmRpbmFsaXR5ICE9IFwiXCIpIHtcclxuICAgICAgICAgIGNvbnN0IGluZm9ib3hMYWJlbCA9IFwiTjpcIiArIGNhcmRpbmFsaXR5O1xyXG4gICAgICAgICAgaW5mb2JveE9iamVjdCA9IHtcclxuICAgICAgICAgICAgY2xheno6IFwidW5pdCBvZiBpbmZvcm1hdGlvblwiLFxyXG4gICAgICAgICAgICBsYWJlbDoge1xyXG4gICAgICAgICAgICAgIHRleHQ6IGluZm9ib3hMYWJlbCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYmJveDoge1xyXG4gICAgICAgICAgICAgIHc6IGluZm9ib3hMYWJlbC5sZW5ndGggKiB3aWR0aFBlckNoYXIsXHJcbiAgICAgICAgICAgICAgaDogbWluSW5mb2JveERpbWVuc2lvbixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBlbGVtZW50VXRpbGl0aWVzLmFkZFN0YXRlT3JJbmZvQm94KG91dHB1dE5vZGUsIGluZm9ib3hPYmplY3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgb3V0cHV0SW5mb2JveExhYmVscy5mb3JFYWNoKGZ1bmN0aW9uIChsYWJlbCkge1xyXG4gICAgICAgIGNvbnN0IG91dHB1dEluZm9ib3hXaWR0aCA9XHJcbiAgICAgICAgICBsYWJlbC5sZW5ndGggPiAwXHJcbiAgICAgICAgICAgID8gTWF0aC5tYXgod2lkdGhQZXJDaGFyICogbGFiZWwubGVuZ3RoLCBtaW5JbmZvYm94RGltZW5zaW9uKVxyXG4gICAgICAgICAgICA6IG1pbkluZm9ib3hEaW1lbnNpb247XHJcbiAgICAgICAgaW5mb2JveE9iamVjdCA9IHtcclxuICAgICAgICAgIGNsYXp6OiBcInVuaXQgb2YgaW5mb3JtYXRpb25cIixcclxuICAgICAgICAgIGxhYmVsOiB7XHJcbiAgICAgICAgICAgIHRleHQ6IGxhYmVsLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGJib3g6IHtcclxuICAgICAgICAgICAgdzogb3V0cHV0SW5mb2JveFdpZHRoLFxyXG4gICAgICAgICAgICBoOiBtaW5JbmZvYm94RGltZW5zaW9uLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgICAgIFwic2hhcGUtbmFtZVwiOiBcImVsbGlwc2VcIixcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgICAgICBlbGVtZW50VXRpbGl0aWVzLmFkZFN0YXRlT3JJbmZvQm94KG91dHB1dE5vZGUsIGluZm9ib3hPYmplY3QpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIFtpbnB1dE5vZGUsIG91dHB1dE5vZGVdLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICBjb25zdCB3aWR0aCA9IGVsZW1lbnRVdGlsaXRpZXMuY2FsY3VsYXRlTWluV2lkdGgobm9kZSk7XHJcblxyXG4gICAgICAgIGVsZW1lbnRVdGlsaXRpZXMucmVzaXplTm9kZXMoXHJcbiAgICAgICAgICBub2RlLFxyXG4gICAgICAgICAgd2lkdGgsXHJcbiAgICAgICAgICBtYWNyb21vbGVjdWxlSGVpZ2h0LFxyXG4gICAgICAgICAgZmFsc2UsXHJcbiAgICAgICAgICB0cnVlXHJcbiAgICAgICAgKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAob3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiKSB7XHJcbiAgICAgICAgbGV0IG5ld0lucHV0WFBvcyA9XHJcbiAgICAgICAgICBwcm9jZXNzUG9zaXRpb24ueCAtXHJcbiAgICAgICAgICBlZGdlTGVuZ3RoIC1cclxuICAgICAgICAgIHByb2Nlc3NXaWR0aCAvIDIgLVxyXG4gICAgICAgICAgaW5wdXROb2RlLmRhdGEoXCJiYm94XCIpLncgLyAyO1xyXG4gICAgICAgIGlucHV0Tm9kZS5wb3NpdGlvbihcInhcIiwgbmV3SW5wdXRYUG9zKTtcclxuXHJcbiAgICAgICAgbGV0IG5ld091dHB1dFhQb3MgPVxyXG4gICAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uLnggK1xyXG4gICAgICAgICAgZWRnZUxlbmd0aCArXHJcbiAgICAgICAgICBwcm9jZXNzV2lkdGggLyAyICtcclxuICAgICAgICAgIG91dHB1dE5vZGUuZGF0YShcImJib3hcIikudyAvIDI7XHJcbiAgICAgICAgb3V0cHV0Tm9kZS5wb3NpdGlvbihcInhcIiwgbmV3T3V0cHV0WFBvcyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGV0IG5ld0lucHV0WVBvcyA9XHJcbiAgICAgICAgICBwcm9jZXNzUG9zaXRpb24ueSAtXHJcbiAgICAgICAgICBlZGdlTGVuZ3RoIC1cclxuICAgICAgICAgIHByb2Nlc3NXaWR0aCAvIDIgLVxyXG4gICAgICAgICAgaW5wdXROb2RlLmRhdGEoXCJiYm94XCIpLmggLyAyO1xyXG4gICAgICAgIGlucHV0Tm9kZS5wb3NpdGlvbihcInlcIiwgbmV3SW5wdXRZUG9zKTtcclxuXHJcbiAgICAgICAgbGV0IG5ld091dHB1dFlQb3MgPVxyXG4gICAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uLnkgK1xyXG4gICAgICAgICAgZWRnZUxlbmd0aCArXHJcbiAgICAgICAgICBwcm9jZXNzV2lkdGggLyAyICtcclxuICAgICAgICAgIG91dHB1dE5vZGUuZGF0YShcImJib3hcIikuaCAvIDI7XHJcbiAgICAgICAgb3V0cHV0Tm9kZS5wb3NpdGlvbihcInlcIiwgbmV3T3V0cHV0WVBvcyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxldCBvdXRwdXRFZGdlID0gZWxlbWVudFV0aWxpdGllcy5hZGRFZGdlKFxyXG4gICAgICAgIHByb2Nlc3NOb2RlLmlkKCksXHJcbiAgICAgICAgb3V0cHV0Tm9kZS5pZCgpLFxyXG4gICAgICAgIHsgY2xhc3M6IFwicHJvZHVjdGlvblwiLCBsYW5ndWFnZTogXCJQRFwiIH1cclxuICAgICAgKTtcclxuICAgICAgb3V0cHV0RWRnZS5kYXRhKFwianVzdEFkZGVkXCIsIHRydWUpO1xyXG5cclxuICAgICAgaWYgKGhhc1JlZ3VsYXRvcikge1xyXG4gICAgICAgIGNvbnN0IHJlZ3VsYXRvck5hbWUgPSByZWd1bGF0b3IubmFtZTtcclxuICAgICAgICBjb25zdCByZWd1bGF0b3JUeXBlID0gcmVndWxhdG9yLnR5cGU7XHJcbiAgICAgICAgbGV0IHhQb3NPZlJlZ3VsYXRvciA9IHByb2Nlc3NQb3NpdGlvbi54O1xyXG4gICAgICAgIGlmIChyZWd1bGF0b3JNdWx0aW1lci5lbmFibGVkICYmIG9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIikge1xyXG4gICAgICAgICAgeFBvc09mUmVndWxhdG9yIC09IG11bHRpbWVyT2Zmc2V0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgeVBvc09mUmVndWxhdG9yID1cclxuICAgICAgICAgIHByb2Nlc3NQb3NpdGlvbi55IC1cclxuICAgICAgICAgIChwcm9jZXNzSGVpZ2h0IC8gMiArIHJlZ3VsYXRvckhlaWdodCAvIDIgKyBlZGdlTGVuZ3RoKTtcclxuXHJcbiAgICAgICAgbm9kZVBvc2l0aW9uID0ge1xyXG4gICAgICAgICAgeDogeFBvc09mUmVndWxhdG9yLFxyXG4gICAgICAgICAgeTogeVBvc09mUmVndWxhdG9yLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09PSBcInZlcnRpY2FsXCIpIHtcclxuICAgICAgICAgIG5vZGVQb3NpdGlvbiA9IGVsZW1lbnRVdGlsaXRpZXMucm90YXRlOTAoXHJcbiAgICAgICAgICAgIG5vZGVQb3NpdGlvbixcclxuICAgICAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHJlZ3VsYXRvck5vZGUgPSBlbGVtZW50VXRpbGl0aWVzLmFkZE5vZGUoXHJcbiAgICAgICAgICBub2RlUG9zaXRpb24ueCxcclxuICAgICAgICAgIG5vZGVQb3NpdGlvbi55LFxyXG4gICAgICAgICAgeyBjbGFzczogcmVndWxhdG9yVHlwZSwgbGFuZ3VhZ2U6IFwiUERcIiB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICByZWd1bGF0b3JOb2RlLmRhdGEoXCJqdXN0QWRkZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgcmVndWxhdG9yTm9kZS5kYXRhKFwibGFiZWxcIiwgcmVndWxhdG9yTmFtZSk7XHJcblxyXG4gICAgICAgIGlmIChyZWd1bGF0b3JNdWx0aW1lci5lbmFibGVkKSB7XHJcbiAgICAgICAgICBlbGVtZW50VXRpbGl0aWVzLnNldE11bHRpbWVyU3RhdHVzKHJlZ3VsYXRvck5vZGUsIHRydWUpO1xyXG5cclxuICAgICAgICAgIGNvbnN0IGNhcmRpbmFsaXR5ID0gcmVndWxhdG9yTXVsdGltZXIuY2FyZGluYWxpdHk7XHJcbiAgICAgICAgICBpZiAoY2FyZGluYWxpdHkgIT0gXCJcIikge1xyXG4gICAgICAgICAgICBjb25zdCBpbmZvYm94TGFiZWwgPSBcIk46XCIgKyBjYXJkaW5hbGl0eTtcclxuICAgICAgICAgICAgaW5mb2JveE9iamVjdCA9IHtcclxuICAgICAgICAgICAgICBjbGF6ejogXCJ1bml0IG9mIGluZm9ybWF0aW9uXCIsXHJcbiAgICAgICAgICAgICAgbGFiZWw6IHtcclxuICAgICAgICAgICAgICAgIHRleHQ6IGluZm9ib3hMYWJlbCxcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIGJib3g6IHtcclxuICAgICAgICAgICAgICAgIHc6IGluZm9ib3hMYWJlbC5sZW5ndGggKiB3aWR0aFBlckNoYXIsXHJcbiAgICAgICAgICAgICAgICBoOiBtaW5JbmZvYm94RGltZW5zaW9uLFxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGVsZW1lbnRVdGlsaXRpZXMuYWRkU3RhdGVPckluZm9Cb3gocmVndWxhdG9yTm9kZSwgaW5mb2JveE9iamVjdCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcmVndWxhdG9yRWRnZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkRWRnZShcclxuICAgICAgICAgIHJlZ3VsYXRvck5vZGUuaWQoKSxcclxuICAgICAgICAgIHByb2Nlc3NOb2RlLmlkKCksXHJcbiAgICAgICAgICB7IGNsYXNzOiBcImNhdGFseXNpc1wiLCBsYW5ndWFnZTogXCJQRFwiIH1cclxuICAgICAgICApO1xyXG4gICAgICAgIHJlZ3VsYXRvckVkZ2UuZGF0YShcImp1c3RBZGRlZFwiLCB0cnVlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY3kuZW5kQmF0Y2goKTtcclxuXHJcbiAgICAgIGNvbnN0IGVsZXMgPSBjeS5lbGVtZW50cyhcIltqdXN0QWRkZWRdXCIpO1xyXG4gICAgICBlbGVzLnJlbW92ZURhdGEoXCJqdXN0QWRkZWRcIik7XHJcblxyXG4gICAgICBjeS5lbGVtZW50cygpLnVuc2VsZWN0KCk7XHJcbiAgICAgIGVsZXMuc2VsZWN0KCk7XHJcblxyXG4gICAgICByZXR1cm4gZWxlcztcclxuICAgIH07XHJcblxyXG4gICAgZWxlbWVudFV0aWxpdGllcy5jcmVhdGVNZXRhYm9saWNSZWFjdGlvbiA9IGZ1bmN0aW9uIChcclxuICAgICAgaW5wdXRzLFxyXG4gICAgICBvdXRwdXRzLFxyXG4gICAgICByZXZlcnNpYmxlLFxyXG4gICAgICByZWd1bGF0b3IsXHJcbiAgICAgIHJlZ3VsYXRvck11bHRpbWVyLFxyXG4gICAgICBvcmllbnRhdGlvblxyXG4gICAgKSB7XHJcbiAgICAgIGxldCByb3RhdGU5MCA9IGZ1bmN0aW9uIChwb2ludCwgY2VudGVyKSB7XHJcbiAgICAgICAgY29uc3QgcmVsYXRpdmVYID0gY2VudGVyLnggLSBwb2ludC54O1xyXG4gICAgICAgIGNvbnN0IHJlbGF0aXZlWSA9IGNlbnRlci55IC0gcG9pbnQueTtcclxuXHJcbiAgICAgICAgY29uc3QgcmVsYXRpdmVSb3RhdGVkWCA9IHJlbGF0aXZlWTtcclxuICAgICAgICBjb25zdCByZWxhdGl2ZVJvdGF0ZWRZID0gLTEgKiByZWxhdGl2ZVg7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3VsdFggPSByZWxhdGl2ZVJvdGF0ZWRYICsgY2VudGVyLng7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0WSA9IHJlbGF0aXZlUm90YXRlZFkgKyBjZW50ZXIueTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHg6IHJlc3VsdFgsXHJcbiAgICAgICAgICB5OiByZXN1bHRZLFxyXG4gICAgICAgIH07XHJcbiAgICAgIH07XHJcbiAgICAgIGNvbnN0IGhhc1JlZ3VsYXRvciA9IHJlZ3VsYXRvci5uYW1lICE9PSB1bmRlZmluZWQ7XHJcbiAgICAgIGNvbnN0IGRlZmF1bHRTaW1wbGVDaGVtaWNhbFByb3BlcnRpZXMgPVxyXG4gICAgICAgIGVsZW1lbnRVdGlsaXRpZXMuZ2V0RGVmYXVsdFByb3BlcnRpZXMoXCJzaW1wbGUgY2hlbWljYWxcIik7XHJcbiAgICAgIGNvbnN0IGRlZmF1bHRSZWd1bGF0b3JQcm9wZXJ0aWVzID0gaGFzUmVndWxhdG9yXHJcbiAgICAgICAgPyBlbGVtZW50VXRpbGl0aWVzLmdldERlZmF1bHRQcm9wZXJ0aWVzKHJlZ3VsYXRvci50eXBlKVxyXG4gICAgICAgIDoge307XHJcbiAgICAgIGNvbnN0IGRlZmF1bHRQcm9jZXNzUHJvcGVydGllcyA9XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5nZXREZWZhdWx0UHJvcGVydGllcyhcImNhdGFseXRpY1wiKTtcclxuICAgICAgY29uc3QgcHJvY2Vzc1dpZHRoID0gZGVmYXVsdFByb2Nlc3NQcm9wZXJ0aWVzLndpZHRoIHx8IDUwO1xyXG4gICAgICBjb25zdCBwcm9jZXNzSGVpZ2h0ID0gZGVmYXVsdFByb2Nlc3NQcm9wZXJ0aWVzLmhlaWdodCB8fCA1MDtcclxuICAgICAgY29uc3Qgc2ltcGxlQ2hlbWljYWxIZWlnaHQgPSBkZWZhdWx0U2ltcGxlQ2hlbWljYWxQcm9wZXJ0aWVzLmhlaWdodCB8fCAzNTtcclxuICAgICAgY29uc3Qgc2ltcGxlQ2hlbWljYWxXaWR0aCA9IGRlZmF1bHRTaW1wbGVDaGVtaWNhbFByb3BlcnRpZXMud2lkdGggfHwgMzU7XHJcbiAgICAgIGNvbnN0IHJlZ3VsYXRvckhlaWdodCA9IGRlZmF1bHRSZWd1bGF0b3JQcm9wZXJ0aWVzLmhlaWdodCB8fCA1MDtcclxuICAgICAgY29uc3QgcHJvY2Vzc1Bvc2l0aW9uID0gZWxlbWVudFV0aWxpdGllcy5jb252ZXJ0VG9Nb2RlbFBvc2l0aW9uKHtcclxuICAgICAgICB4OiBjeS53aWR0aCgpIC8gMixcclxuICAgICAgICB5OiBjeS5oZWlnaHQoKSAvIDIsXHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zdCB0aWxpbmdQYWRkaW5nVmVydGljYWwgPSAxNTtcclxuICAgICAgY29uc3QgZWRnZUxlbmd0aCA9IDMwO1xyXG4gICAgICBjb25zdCBwcm9jZXNzTGVmdFNpZGVFZGdlVHlwZSA9IHJldmVyc2libGUgPyBcInByb2R1Y3Rpb25cIiA6IFwiY29uc3VtcHRpb25cIjtcclxuICAgICAgY29uc3QgcHJvY2Vzc1JpZ2h0U2lkZUVkZ2VUeXBlID0gXCJwcm9kdWN0aW9uXCI7XHJcbiAgICAgIGNvbnN0IHByb2Nlc3NQb3J0c09yZGVyaW5nID1cclxuICAgICAgICBvcmllbnRhdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiID8gXCJULXRvLUJcIiA6IFwiTC10by1SXCI7XHJcbiAgICAgIGNvbnN0IG11bHRpbWVyT2Zmc2V0ID0gNjtcclxuXHJcbiAgICAgIGN5LnN0YXJ0QmF0Y2goKTtcclxuICAgICAgaWYgKCFlbGVtZW50VXRpbGl0aWVzLmdldE1hcFR5cGUoKSkge1xyXG4gICAgICAgIGVsZW1lbnRVdGlsaXRpZXMuc2V0TWFwVHlwZShcIlBEXCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgeFBvc09mSW5wdXQgPVxyXG4gICAgICAgIHByb2Nlc3NQb3NpdGlvbi54IC1cclxuICAgICAgICBlZGdlTGVuZ3RoIC1cclxuICAgICAgICBwcm9jZXNzV2lkdGggLyAyIC1cclxuICAgICAgICBzaW1wbGVDaGVtaWNhbFdpZHRoIC8gMjtcclxuICAgICAgbGV0IHhQb3NPZk91dHB1dCA9XHJcbiAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uLnggK1xyXG4gICAgICAgIGVkZ2VMZW5ndGggK1xyXG4gICAgICAgIHByb2Nlc3NXaWR0aCAvIDIgK1xyXG4gICAgICAgIHNpbXBsZUNoZW1pY2FsV2lkdGggLyAyO1xyXG5cclxuICAgICAgbGV0IHByb2Nlc3NOb2RlID0gZWxlbWVudFV0aWxpdGllcy5hZGROb2RlKFxyXG4gICAgICAgIHByb2Nlc3NQb3NpdGlvbi54LFxyXG4gICAgICAgIHByb2Nlc3NQb3NpdGlvbi55LFxyXG4gICAgICAgIHsgY2xhc3M6IFwicHJvY2Vzc1wiLCBsYW5ndWFnZTogXCJQRFwiIH1cclxuICAgICAgKTtcclxuICAgICAgZWxlbWVudFV0aWxpdGllcy5zZXRQb3J0c09yZGVyaW5nKHByb2Nlc3NOb2RlLCBwcm9jZXNzUG9ydHNPcmRlcmluZyk7XHJcbiAgICAgIHByb2Nlc3NOb2RlLmRhdGEoXCJqdXN0QWRkZWRcIiwgdHJ1ZSk7XHJcblxyXG4gICAgICBjb25zdCBudW1PZklucHV0Tm9kZXMgPSBpbnB1dHMubGVuZ3RoO1xyXG4gICAgICBjb25zdCBudW1PZk91dHB1dE5vZGVzID0gb3V0cHV0cy5sZW5ndGg7XHJcblxyXG4gICAgICBsZXQgeVBvc09mSW5wdXQgPVxyXG4gICAgICAgIHByb2Nlc3NQb3NpdGlvbi55IC1cclxuICAgICAgICAoKG51bU9mSW5wdXROb2RlcyAtIDEpIC8gMikgKlxyXG4gICAgICAgIChzaW1wbGVDaGVtaWNhbEhlaWdodCArIHRpbGluZ1BhZGRpbmdWZXJ0aWNhbCk7XHJcblxyXG4gICAgICBpbnB1dHMuZm9yRWFjaChmdW5jdGlvbiAoZGF0YSwgaW5kZXgpIHtcclxuICAgICAgICBjb25zdCBub2RlTmFtZSA9IGRhdGEubmFtZTtcclxuICAgICAgICBjb25zdCBub2RlVHlwZSA9IGRhdGEudHlwZTtcclxuXHJcbiAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgICB5UG9zT2ZJbnB1dCA9IHByb2Nlc3NQb3NpdGlvbi55O1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaW5kZXggJSAyID09PSAxKSB7XHJcbiAgICAgICAgICB5UG9zT2ZJbnB1dCA9XHJcbiAgICAgICAgICAgIHByb2Nlc3NQb3NpdGlvbi55IC1cclxuICAgICAgICAgICAgKHNpbXBsZUNoZW1pY2FsSGVpZ2h0ICsgdGlsaW5nUGFkZGluZ1ZlcnRpY2FsKSAqXHJcbiAgICAgICAgICAgIE1hdGguY2VpbChpbmRleCAvIDIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB5UG9zT2ZJbnB1dCA9XHJcbiAgICAgICAgICAgIHByb2Nlc3NQb3NpdGlvbi55ICtcclxuICAgICAgICAgICAgKHNpbXBsZUNoZW1pY2FsSGVpZ2h0ICsgdGlsaW5nUGFkZGluZ1ZlcnRpY2FsKSAqIChpbmRleCAvIDIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IG5vZGVQb3NpdGlvbiA9IHtcclxuICAgICAgICAgIHg6IHhQb3NPZklucHV0LFxyXG4gICAgICAgICAgeTogeVBvc09mSW5wdXQsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIikge1xyXG4gICAgICAgICAgbm9kZVBvc2l0aW9uID0gcm90YXRlOTAobm9kZVBvc2l0aW9uLCBwcm9jZXNzUG9zaXRpb24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IG5ld05vZGUgPSBlbGVtZW50VXRpbGl0aWVzLmFkZE5vZGUobm9kZVBvc2l0aW9uLngsIG5vZGVQb3NpdGlvbi55LCB7XHJcbiAgICAgICAgICBjbGFzczogbm9kZVR5cGUudG9Mb3dlckNhc2UoKSxcclxuICAgICAgICAgIGxhbmd1YWdlOiBcIlBEXCIsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbmV3Tm9kZS5kYXRhKFwianVzdEFkZGVkXCIsIHRydWUpO1xyXG4gICAgICAgIG5ld05vZGUuZGF0YShcImxhYmVsXCIsIG5vZGVOYW1lKTtcclxuXHJcbiAgICAgICAgbGV0IG5ld0VkZ2U7XHJcbiAgICAgICAgaWYgKHJldmVyc2libGUpIHtcclxuICAgICAgICAgIG5ld0VkZ2UgPSBlbGVtZW50VXRpbGl0aWVzLmFkZEVkZ2UoXHJcbiAgICAgICAgICAgIHByb2Nlc3NOb2RlLmlkKCksXHJcbiAgICAgICAgICAgIG5ld05vZGUuaWQoKSxcclxuICAgICAgICAgICAgeyBjbGFzczogcHJvY2Vzc0xlZnRTaWRlRWRnZVR5cGUsIGxhbmd1YWdlOiBcIlBEXCIgfSxcclxuICAgICAgICAgICAgdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIDFcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG5ld0VkZ2UgPSBlbGVtZW50VXRpbGl0aWVzLmFkZEVkZ2UobmV3Tm9kZS5pZCgpLCBwcm9jZXNzTm9kZS5pZCgpLCB7XHJcbiAgICAgICAgICAgIGNsYXNzOiBwcm9jZXNzTGVmdFNpZGVFZGdlVHlwZSxcclxuICAgICAgICAgICAgbGFuZ3VhZ2U6IFwiUERcIixcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBuZXdFZGdlLmRhdGEoXCJqdXN0QWRkZWRcIiwgdHJ1ZSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgbGV0IHlQb3NPZk91dHB1dCA9XHJcbiAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uLnkgLVxyXG4gICAgICAgICgobnVtT2ZPdXRwdXROb2RlcyAtIDEpIC8gMikgKlxyXG4gICAgICAgIChzaW1wbGVDaGVtaWNhbEhlaWdodCArIHRpbGluZ1BhZGRpbmdWZXJ0aWNhbCk7XHJcblxyXG4gICAgICBvdXRwdXRzLmZvckVhY2goZnVuY3Rpb24gKGRhdGEsIGluZGV4KSB7XHJcbiAgICAgICAgY29uc3Qgbm9kZU5hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgY29uc3Qgbm9kZVR5cGUgPSBkYXRhLnR5cGU7XHJcblxyXG4gICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xyXG4gICAgICAgICAgeVBvc09mT3V0cHV0ID0gcHJvY2Vzc1Bvc2l0aW9uLnk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpbmRleCAlIDIgPT09IDEpIHtcclxuICAgICAgICAgIHlQb3NPZk91dHB1dCA9XHJcbiAgICAgICAgICAgIHByb2Nlc3NQb3NpdGlvbi55IC1cclxuICAgICAgICAgICAgKHNpbXBsZUNoZW1pY2FsSGVpZ2h0ICsgdGlsaW5nUGFkZGluZ1ZlcnRpY2FsKSAqXHJcbiAgICAgICAgICAgIE1hdGguY2VpbChpbmRleCAvIDIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB5UG9zT2ZPdXRwdXQgPVxyXG4gICAgICAgICAgICBwcm9jZXNzUG9zaXRpb24ueSArXHJcbiAgICAgICAgICAgIChzaW1wbGVDaGVtaWNhbEhlaWdodCArIHRpbGluZ1BhZGRpbmdWZXJ0aWNhbCkgKiAoaW5kZXggLyAyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBub2RlUG9zaXRpb24gPSB7XHJcbiAgICAgICAgICB4OiB4UG9zT2ZPdXRwdXQsXHJcbiAgICAgICAgICB5OiB5UG9zT2ZPdXRwdXQsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIikge1xyXG4gICAgICAgICAgbm9kZVBvc2l0aW9uID0gcm90YXRlOTAobm9kZVBvc2l0aW9uLCBwcm9jZXNzUG9zaXRpb24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IG5ld05vZGUgPSBlbGVtZW50VXRpbGl0aWVzLmFkZE5vZGUobm9kZVBvc2l0aW9uLngsIG5vZGVQb3NpdGlvbi55LCB7XHJcbiAgICAgICAgICBjbGFzczogbm9kZVR5cGUudG9Mb3dlckNhc2UoKSxcclxuICAgICAgICAgIGxhbmd1YWdlOiBcIlBEXCIsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbmV3Tm9kZS5kYXRhKFwianVzdEFkZGVkXCIsIHRydWUpO1xyXG4gICAgICAgIG5ld05vZGUuZGF0YShcImxhYmVsXCIsIG5vZGVOYW1lKTtcclxuXHJcbiAgICAgICAgbGV0IG5ld0VkZ2UgPSBlbGVtZW50VXRpbGl0aWVzLmFkZEVkZ2UoXHJcbiAgICAgICAgICBwcm9jZXNzTm9kZS5pZCgpLFxyXG4gICAgICAgICAgbmV3Tm9kZS5pZCgpLFxyXG4gICAgICAgICAgeyBjbGFzczogcHJvY2Vzc1JpZ2h0U2lkZUVkZ2VUeXBlLCBsYW5ndWFnZTogXCJQRFwiIH0sXHJcbiAgICAgICAgICB1bmRlZmluZWQsXHJcbiAgICAgICAgICB1bmRlZmluZWQsXHJcbiAgICAgICAgICAwXHJcbiAgICAgICAgKTtcclxuICAgICAgICBuZXdFZGdlLmRhdGEoXCJqdXN0QWRkZWRcIiwgdHJ1ZSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gYWRkIHJlZ3VsYXRvciBub2RlXHJcbiAgICAgIGlmIChoYXNSZWd1bGF0b3IpIHtcclxuICAgICAgICBjb25zdCByZWd1bGF0b3JOYW1lID0gcmVndWxhdG9yLm5hbWU7XHJcbiAgICAgICAgY29uc3QgcmVndWxhdG9yVHlwZSA9IHJlZ3VsYXRvci50eXBlO1xyXG4gICAgICAgIGxldCB4UG9zT2ZSZWd1bGF0b3IgPSBwcm9jZXNzUG9zaXRpb24ueDtcclxuICAgICAgICBpZiAocmVndWxhdG9yTXVsdGltZXIuZW5hYmxlZCAmJiBvcmllbnRhdGlvbiA9PT0gXCJob3Jpem9udGFsXCIpIHtcclxuICAgICAgICAgIHhQb3NPZlJlZ3VsYXRvciAtPSBtdWx0aW1lck9mZnNldDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHlQb3NPZlJlZ3VsYXRvciA9XHJcbiAgICAgICAgICBwcm9jZXNzUG9zaXRpb24ueSAtXHJcbiAgICAgICAgICAocHJvY2Vzc0hlaWdodCAvIDIgKyByZWd1bGF0b3JIZWlnaHQgLyAyICsgZWRnZUxlbmd0aCk7XHJcblxyXG4gICAgICAgIGxldCBub2RlUG9zaXRpb24gPSB7XHJcbiAgICAgICAgICB4OiB4UG9zT2ZSZWd1bGF0b3IsXHJcbiAgICAgICAgICB5OiB5UG9zT2ZSZWd1bGF0b3IsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIikge1xyXG4gICAgICAgICAgbm9kZVBvc2l0aW9uID0gcm90YXRlOTAobm9kZVBvc2l0aW9uLCBwcm9jZXNzUG9zaXRpb24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHJlZ3VsYXRvck5vZGUgPSBlbGVtZW50VXRpbGl0aWVzLmFkZE5vZGUoXHJcbiAgICAgICAgICBub2RlUG9zaXRpb24ueCxcclxuICAgICAgICAgIG5vZGVQb3NpdGlvbi55LFxyXG4gICAgICAgICAgeyBjbGFzczogcmVndWxhdG9yVHlwZSwgbGFuZ3VhZ2U6IFwiUERcIiB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICByZWd1bGF0b3JOb2RlLmRhdGEoXCJqdXN0QWRkZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgcmVndWxhdG9yTm9kZS5kYXRhKFwibGFiZWxcIiwgcmVndWxhdG9yTmFtZSk7XHJcblxyXG4gICAgICAgIGlmIChyZWd1bGF0b3JNdWx0aW1lci5lbmFibGVkKSB7XHJcbiAgICAgICAgICBlbGVtZW50VXRpbGl0aWVzLnNldE11bHRpbWVyU3RhdHVzKHJlZ3VsYXRvck5vZGUsIHRydWUpO1xyXG5cclxuICAgICAgICAgIGNvbnN0IGNhcmRpbmFsaXR5ID0gcmVndWxhdG9yTXVsdGltZXIuY2FyZGluYWxpdHk7XHJcbiAgICAgICAgICBpZiAoY2FyZGluYWxpdHkgIT0gXCJcIikge1xyXG4gICAgICAgICAgICBjb25zdCBpbmZvYm94TGFiZWwgPSBcIk46XCIgKyBjYXJkaW5hbGl0eTtcclxuICAgICAgICAgICAgaW5mb2JveE9iamVjdCA9IHtcclxuICAgICAgICAgICAgICBjbGF6ejogXCJ1bml0IG9mIGluZm9ybWF0aW9uXCIsXHJcbiAgICAgICAgICAgICAgbGFiZWw6IHtcclxuICAgICAgICAgICAgICAgIHRleHQ6IGluZm9ib3hMYWJlbCxcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIGJib3g6IHtcclxuICAgICAgICAgICAgICAgIHc6IGluZm9ib3hMYWJlbC5sZW5ndGggKiA2LFxyXG4gICAgICAgICAgICAgICAgaDogMTUsXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGVsZW1lbnRVdGlsaXRpZXMuYWRkU3RhdGVPckluZm9Cb3gocmVndWxhdG9yTm9kZSwgaW5mb2JveE9iamVjdCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcmVndWxhdG9yRWRnZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkRWRnZShcclxuICAgICAgICAgIHJlZ3VsYXRvck5vZGUuaWQoKSxcclxuICAgICAgICAgIHByb2Nlc3NOb2RlLmlkKCksXHJcbiAgICAgICAgICB7IGNsYXNzOiBcImNhdGFseXNpc1wiLCBsYW5ndWFnZTogXCJQRFwiIH1cclxuICAgICAgICApO1xyXG4gICAgICAgIHJlZ3VsYXRvckVkZ2UuZGF0YShcImp1c3RBZGRlZFwiLCB0cnVlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY3kuZW5kQmF0Y2goKTtcclxuXHJcbiAgICAgIGNvbnN0IGVsZXMgPSBjeS5lbGVtZW50cyhcIltqdXN0QWRkZWRdXCIpO1xyXG4gICAgICBlbGVzLnJlbW92ZURhdGEoXCJqdXN0QWRkZWRcIik7XHJcblxyXG4gICAgICBjeS5lbGVtZW50cygpLnVuc2VsZWN0KCk7XHJcbiAgICAgIGVsZXMuc2VsZWN0KCk7XHJcblxyXG4gICAgICByZXR1cm4gZWxlcztcclxuICAgIH07XHJcblxyXG4gICAgZWxlbWVudFV0aWxpdGllcy5jcmVhdGVNZXRhYm9saWNDYXRhbHl0aWNBY3Rpdml0eSA9IGZ1bmN0aW9uIChcclxuICAgICAgaW5wdXROb2RlTGlzdCxcclxuICAgICAgb3V0cHV0Tm9kZUxpc3QsXHJcbiAgICAgIGNhdGFseXN0TmFtZSxcclxuICAgICAgY2F0YWx5c3RUeXBlLFxyXG4gICAgICBwcm9jZXNzUG9zaXRpb24sXHJcbiAgICAgIHRpbGluZ1BhZGRpbmdWZXJ0aWNhbCxcclxuICAgICAgdGlsaW5nUGFkZGluZ0hvcml6b250YWwsXHJcbiAgICAgIGVkZ2VMZW5ndGhcclxuICAgICkge1xyXG4gICAgICB2YXIgZGVmYXVsdE1hY3JvbW9sZWN1bFByb3BlcnRpZXMgPVxyXG4gICAgICAgIGVsZW1lbnRVdGlsaXRpZXMuZ2V0RGVmYXVsdFByb3BlcnRpZXMoXCJtYWNyb21vbGVjdWxlXCIpO1xyXG4gICAgICB2YXIgZGVmYXVsdFNpbXBsZUNoZW1pY2FsUHJvcGVydGllcyA9XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5nZXREZWZhdWx0UHJvcGVydGllcyhcInNpbXBsZSBjaGVtaWNhbFwiKTtcclxuICAgICAgdmFyIGRlZmF1bHRDYXRhbHlzdFR5cGVQcm9wZXJ0aWVzID1cclxuICAgICAgICBlbGVtZW50VXRpbGl0aWVzLmdldERlZmF1bHRQcm9wZXJ0aWVzKGNhdGFseXN0VHlwZSk7XHJcbiAgICAgIHZhciBkZWZhdWx0UHJvY2Vzc1Byb3BlcnRpZXMgPVxyXG4gICAgICAgIGVsZW1lbnRVdGlsaXRpZXMuZ2V0RGVmYXVsdFByb3BlcnRpZXMoXCJjYXRhbHl0aWNcIik7XHJcbiAgICAgIHZhciBwcm9jZXNzV2lkdGggPSBkZWZhdWx0UHJvY2Vzc1Byb3BlcnRpZXMud2lkdGggfHwgNTA7XHJcbiAgICAgIHZhciBwcm9jZXNzSGVpZ2h0ID0gZGVmYXVsdFByb2Nlc3NQcm9wZXJ0aWVzLmhlaWdodCB8fCA1MDtcclxuICAgICAgdmFyIHNpbXBsZUNoZW1pY2FsSGVpZ2h0ID0gZGVmYXVsdFNpbXBsZUNoZW1pY2FsUHJvcGVydGllcy5oZWlnaHQgfHwgMzU7XHJcbiAgICAgIHZhciBtYWNyb21vbGVjdWxlV2lkdGggPSBkZWZhdWx0TWFjcm9tb2xlY3VsUHJvcGVydGllcy53aWR0aCB8fCA1MDtcclxuICAgICAgdmFyIG1hY3JvbW9sZWN1bGVIZWlnaHQgPSBkZWZhdWx0TWFjcm9tb2xlY3VsUHJvcGVydGllcy5oZWlnaHQgfHwgNTA7XHJcbiAgICAgIHZhciBjYXRhbHlzdEhlaWdodCA9IGRlZmF1bHRDYXRhbHlzdFR5cGVQcm9wZXJ0aWVzLmhlaWdodCB8fCA1MDtcclxuICAgICAgdmFyIHByb2Nlc3NQb3NpdGlvbiA9XHJcbiAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uIHx8XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5jb252ZXJ0VG9Nb2RlbFBvc2l0aW9uKHtcclxuICAgICAgICAgIHg6IGN5LndpZHRoKCkgLyAyLFxyXG4gICAgICAgICAgeTogY3kuaGVpZ2h0KCkgLyAyLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB2YXIgdGlsaW5nUGFkZGluZ1ZlcnRpY2FsID0gdGlsaW5nUGFkZGluZ1ZlcnRpY2FsIHx8IDE1O1xyXG4gICAgICB2YXIgdGlsaW5nUGFkZGluZ0hvcml6b250YWwgPSB0aWxpbmdQYWRkaW5nSG9yaXpvbnRhbCB8fCAxNTtcclxuICAgICAgdmFyIGVkZ2VMZW5ndGggPSBlZGdlTGVuZ3RoIHx8IDYwO1xyXG5cclxuICAgICAgY3kuc3RhcnRCYXRjaCgpO1xyXG4gICAgICBpZiAoIWVsZW1lbnRVdGlsaXRpZXMuZ2V0TWFwVHlwZSgpKSB7XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5zZXRNYXBUeXBlKFwiUERcIik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciB4UG9zT2ZJbnB1dCA9XHJcbiAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uLnggLVxyXG4gICAgICAgIGVkZ2VMZW5ndGggLVxyXG4gICAgICAgIHByb2Nlc3NXaWR0aCAvIDIgLVxyXG4gICAgICAgIG1hY3JvbW9sZWN1bGVXaWR0aCAvIDI7XHJcbiAgICAgIHZhciB4UG9zT2ZPdXRwdXQgPVxyXG4gICAgICAgIHByb2Nlc3NQb3NpdGlvbi54ICtcclxuICAgICAgICBlZGdlTGVuZ3RoICtcclxuICAgICAgICBwcm9jZXNzV2lkdGggLyAyICtcclxuICAgICAgICBtYWNyb21vbGVjdWxlV2lkdGggLyAyO1xyXG5cclxuICAgICAgdmFyIHByb2Nlc3NOb2RlID0gZWxlbWVudFV0aWxpdGllcy5hZGROb2RlKFxyXG4gICAgICAgIHByb2Nlc3NQb3NpdGlvbi54LFxyXG4gICAgICAgIHByb2Nlc3NQb3NpdGlvbi55LFxyXG4gICAgICAgIHsgY2xhc3M6IFwicHJvY2Vzc1wiLCBsYW5ndWFnZTogXCJQRFwiIH1cclxuICAgICAgKTtcclxuICAgICAgZWxlbWVudFV0aWxpdGllcy5zZXRQb3J0c09yZGVyaW5nKHByb2Nlc3NOb2RlLCBcIkwtdG8tUlwiKTtcclxuICAgICAgcHJvY2Vzc05vZGUuZGF0YShcImp1c3RBZGRlZFwiLCB0cnVlKTtcclxuXHJcbiAgICAgIGNvbnN0IG51bU9mSW5wdXROb2RlcyA9IGlucHV0Tm9kZUxpc3QubGVuZ3RoO1xyXG4gICAgICBjb25zdCBudW1PZk91dHB1dE5vZGVzID0gb3V0cHV0Tm9kZUxpc3QubGVuZ3RoO1xyXG4gICAgICB2YXIgeVBvc09mSW5wdXQgPVxyXG4gICAgICAgIHByb2Nlc3NQb3NpdGlvbi55IC1cclxuICAgICAgICAoKG51bU9mSW5wdXROb2RlcyAtIDEpIC8gMikgKlxyXG4gICAgICAgIChtYWNyb21vbGVjdWxlSGVpZ2h0ICsgdGlsaW5nUGFkZGluZ1ZlcnRpY2FsKTtcclxuXHJcbiAgICAgIC8vIGFkZCBpbnB1dCBzaWRlIG5vZGVzXHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtT2ZJbnB1dE5vZGVzOyBpKyspIHtcclxuICAgICAgICBpZiAoaW5wdXROb2RlTGlzdFtpXS50eXBlID09IFwiU2ltcGxlIENoZW1pY2FsXCIpIHtcclxuICAgICAgICAgIHZhciBuZXdOb2RlID0gZWxlbWVudFV0aWxpdGllcy5hZGROb2RlKHhQb3NPZklucHV0LCB5UG9zT2ZJbnB1dCwge1xyXG4gICAgICAgICAgICBjbGFzczogXCJzaW1wbGUgY2hlbWljYWxcIixcclxuICAgICAgICAgICAgbGFuZ3VhZ2U6IFwiUERcIixcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgeVBvc09mSW5wdXQgKz0gc2ltcGxlQ2hlbWljYWxIZWlnaHQgKyB0aWxpbmdQYWRkaW5nVmVydGljYWw7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHZhciBuZXdOb2RlID0gZWxlbWVudFV0aWxpdGllcy5hZGROb2RlKHhQb3NPZklucHV0LCB5UG9zT2ZJbnB1dCwge1xyXG4gICAgICAgICAgICBjbGFzczogXCJtYWNyb21vbGVjdWxlXCIsXHJcbiAgICAgICAgICAgIGxhbmd1YWdlOiBcIlBEXCIsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIC8vdXBkYXRlIHRoZSB5IHBvc2l0aW9uXHJcbiAgICAgICAgICB5UG9zT2ZJbnB1dCArPSBtYWNyb21vbGVjdWxlSGVpZ2h0ICsgdGlsaW5nUGFkZGluZ1ZlcnRpY2FsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBuZXdOb2RlLmRhdGEoXCJqdXN0QWRkZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgbmV3Tm9kZS5kYXRhKFwibGFiZWxcIiwgaW5wdXROb2RlTGlzdFtpXS5uYW1lKTtcclxuXHJcbiAgICAgICAgdmFyIG5ld0VkZ2UgPSBlbGVtZW50VXRpbGl0aWVzLmFkZEVkZ2UobmV3Tm9kZS5pZCgpLCBwcm9jZXNzTm9kZS5pZCgpLCB7XHJcbiAgICAgICAgICBjbGFzczogXCJjb25zdW1wdGlvblwiLFxyXG4gICAgICAgICAgbGFuZ3VhZ2U6IFwiUERcIixcclxuICAgICAgICB9KTtcclxuICAgICAgICBuZXdFZGdlLmRhdGEoXCJqdXN0QWRkZWRcIiwgdHJ1ZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciB5UG9zT2ZPdXRwdXQgPVxyXG4gICAgICAgIHByb2Nlc3NQb3NpdGlvbi55IC1cclxuICAgICAgICAoKG51bU9mT3V0cHV0Tm9kZXMgLSAxKSAvIDIpICpcclxuICAgICAgICAobWFjcm9tb2xlY3VsZUhlaWdodCArIHRpbGluZ1BhZGRpbmdWZXJ0aWNhbCk7XHJcblxyXG4gICAgICAvLyBhZGQgb3V0cHV0IHNpZGUgbm9kZXNcclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1PZk91dHB1dE5vZGVzOyBpKyspIHtcclxuICAgICAgICBpZiAob3V0cHV0Tm9kZUxpc3RbaV0udHlwZSA9PSBcIlNpbXBsZSBDaGVtaWNhbFwiKSB7XHJcbiAgICAgICAgICB2YXIgbmV3Tm9kZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkTm9kZSh4UG9zT2ZPdXRwdXQsIHlQb3NPZk91dHB1dCwge1xyXG4gICAgICAgICAgICBjbGFzczogXCJzaW1wbGUgY2hlbWljYWxcIixcclxuICAgICAgICAgICAgbGFuZ3VhZ2U6IFwiUERcIixcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgeVBvc09mT3V0cHV0ICs9IHNpbXBsZUNoZW1pY2FsSGVpZ2h0ICsgdGlsaW5nUGFkZGluZ1ZlcnRpY2FsO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB2YXIgbmV3Tm9kZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkTm9kZSh4UG9zT2ZPdXRwdXQsIHlQb3NPZk91dHB1dCwge1xyXG4gICAgICAgICAgICBjbGFzczogXCJtYWNyb21vbGVjdWxlXCIsXHJcbiAgICAgICAgICAgIGxhbmd1YWdlOiBcIlBEXCIsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIC8vdXBkYXRlIHRoZSB5IHBvc2l0aW9uXHJcbiAgICAgICAgICB5UG9zT2ZPdXRwdXQgKz0gbWFjcm9tb2xlY3VsZUhlaWdodCArIHRpbGluZ1BhZGRpbmdWZXJ0aWNhbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbmV3Tm9kZS5kYXRhKFwianVzdEFkZGVkXCIsIHRydWUpO1xyXG4gICAgICAgIG5ld05vZGUuZGF0YShcImxhYmVsXCIsIG91dHB1dE5vZGVMaXN0W2ldLm5hbWUpO1xyXG5cclxuICAgICAgICB2YXIgbmV3RWRnZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkRWRnZShwcm9jZXNzTm9kZS5pZCgpLCBuZXdOb2RlLmlkKCksIHtcclxuICAgICAgICAgIGNsYXNzOiBcInByb2R1Y3Rpb25cIixcclxuICAgICAgICAgIGxhbmd1YWdlOiBcIlBEXCIsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbmV3RWRnZS5kYXRhKFwianVzdEFkZGVkXCIsIHRydWUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBhZGQgY2F0YWx5c3Qgbm9kZVxyXG4gICAgICB2YXIgeFBvc09mQ2F0YWx5c3QgPSBwcm9jZXNzUG9zaXRpb24ueDtcclxuICAgICAgdmFyIHlQb3NPZkNhdGFseXN0ID1cclxuICAgICAgICBwcm9jZXNzUG9zaXRpb24ueSAtXHJcbiAgICAgICAgKHByb2Nlc3NIZWlnaHQgKyBjYXRhbHlzdEhlaWdodCArIHRpbGluZ1BhZGRpbmdWZXJ0aWNhbCk7XHJcbiAgICAgIHZhciBjYXRhbHlzdE5vZGUgPSBlbGVtZW50VXRpbGl0aWVzLmFkZE5vZGUoXHJcbiAgICAgICAgeFBvc09mQ2F0YWx5c3QsXHJcbiAgICAgICAgeVBvc09mQ2F0YWx5c3QsXHJcbiAgICAgICAgeyBjbGFzczogY2F0YWx5c3RUeXBlLCBsYW5ndWFnZTogXCJQRFwiIH1cclxuICAgICAgKTtcclxuICAgICAgY2F0YWx5c3ROb2RlLmRhdGEoXCJqdXN0QWRkZWRcIiwgdHJ1ZSk7XHJcbiAgICAgIGNhdGFseXN0Tm9kZS5kYXRhKFwibGFiZWxcIiwgY2F0YWx5c3ROYW1lKTtcclxuXHJcbiAgICAgIHZhciBjYXRhbHlzdEVkZ2UgPSBlbGVtZW50VXRpbGl0aWVzLmFkZEVkZ2UoXHJcbiAgICAgICAgY2F0YWx5c3ROb2RlLmlkKCksXHJcbiAgICAgICAgcHJvY2Vzc05vZGUuaWQoKSxcclxuICAgICAgICB7IGNsYXNzOiBcImNhdGFseXNpc1wiLCBsYW5ndWFnZTogXCJQRFwiIH1cclxuICAgICAgKTtcclxuICAgICAgY2F0YWx5c3RFZGdlLmRhdGEoXCJqdXN0QWRkZWRcIiwgdHJ1ZSk7XHJcblxyXG4gICAgICBjeS5lbmRCYXRjaCgpO1xyXG5cclxuICAgICAgLy9maWx0ZXIgdGhlIGp1c3QgYWRkZWQgZWxlbWVtdHMgdG8gcmV0dXJuIHRoZW0gYW5kIHJlbW92ZSBqdXN0IGFkZGVkIG1hcmtcclxuICAgICAgdmFyIGVsZXMgPSBjeS5lbGVtZW50cyhcIltqdXN0QWRkZWRdXCIpO1xyXG4gICAgICBlbGVzLnJlbW92ZURhdGEoXCJqdXN0QWRkZWRcIik7XHJcblxyXG4gICAgICBjeS5lbGVtZW50cygpLnVuc2VsZWN0KCk7XHJcbiAgICAgIGVsZXMuc2VsZWN0KCk7XHJcblxyXG4gICAgICByZXR1cm4gZWxlczsgLy8gUmV0dXJuIHRoZSBqdXN0IGFkZGVkIGVsZW1lbnRzXHJcbiAgICB9O1xyXG5cclxuICAgIGVsZW1lbnRVdGlsaXRpZXMuY3JlYXRlQWN0aXZhdGlvblJlYWN0aW9uID0gZnVuY3Rpb24gKFxyXG4gICAgICBwcm90ZWluTmFtZSxcclxuICAgICAgcHJvY2Vzc1Bvc2l0aW9uLFxyXG4gICAgICBlZGdlTGVuZ3RoLFxyXG4gICAgICByZXZlcnNlXHJcbiAgICApIHtcclxuICAgICAgdmFyIGRlZmF1bHRNYWNyb21vbGVjdWxQcm9wZXJ0aWVzID1cclxuICAgICAgICBlbGVtZW50VXRpbGl0aWVzLmdldERlZmF1bHRQcm9wZXJ0aWVzKFwibWFjcm9tb2xlY3VsZVwiKTtcclxuICAgICAgdmFyIGRlZmF1bHRQcm9jZXNzUHJvcGVydGllcyA9XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5nZXREZWZhdWx0UHJvcGVydGllcyhcImFjdGl2YXRpb25cIik7XHJcbiAgICAgIHZhciBwcm9jZXNzV2lkdGggPSBkZWZhdWx0UHJvY2Vzc1Byb3BlcnRpZXMud2lkdGggfHwgNTA7XHJcbiAgICAgIHZhciBtYWNyb21vbGVjdWxlV2lkdGggPSBkZWZhdWx0TWFjcm9tb2xlY3VsUHJvcGVydGllcy53aWR0aCB8fCA1MDtcclxuICAgICAgdmFyIHByb2Nlc3NQb3NpdGlvbiA9XHJcbiAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uIHx8XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5jb252ZXJ0VG9Nb2RlbFBvc2l0aW9uKHtcclxuICAgICAgICAgIHg6IGN5LndpZHRoKCkgLyAyLFxyXG4gICAgICAgICAgeTogY3kuaGVpZ2h0KCkgLyAyLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB2YXIgZWRnZUxlbmd0aCA9IGVkZ2VMZW5ndGggfHwgNjA7XHJcblxyXG4gICAgICBjeS5zdGFydEJhdGNoKCk7XHJcbiAgICAgIGlmICghZWxlbWVudFV0aWxpdGllcy5nZXRNYXBUeXBlKCkpIHtcclxuICAgICAgICBlbGVtZW50VXRpbGl0aWVzLnNldE1hcFR5cGUoXCJQRFwiKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIHhQb3NPZklucHV0ID1cclxuICAgICAgICBwcm9jZXNzUG9zaXRpb24ueCAtXHJcbiAgICAgICAgZWRnZUxlbmd0aCAtXHJcbiAgICAgICAgcHJvY2Vzc1dpZHRoIC8gMiAtXHJcbiAgICAgICAgbWFjcm9tb2xlY3VsZVdpZHRoIC8gMjtcclxuICAgICAgdmFyIHhQb3NPZk91dHB1dCA9XHJcbiAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uLnggK1xyXG4gICAgICAgIGVkZ2VMZW5ndGggK1xyXG4gICAgICAgIHByb2Nlc3NXaWR0aCAvIDIgK1xyXG4gICAgICAgIG1hY3JvbW9sZWN1bGVXaWR0aCAvIDI7XHJcblxyXG4gICAgICB2YXIgcHJvY2Vzc05vZGUgPSBlbGVtZW50VXRpbGl0aWVzLmFkZE5vZGUoXHJcbiAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uLngsXHJcbiAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uLnksXHJcbiAgICAgICAgeyBjbGFzczogXCJwcm9jZXNzXCIsIGxhbmd1YWdlOiBcIlBEXCIgfVxyXG4gICAgICApO1xyXG4gICAgICBlbGVtZW50VXRpbGl0aWVzLnNldFBvcnRzT3JkZXJpbmcocHJvY2Vzc05vZGUsIFwiTC10by1SXCIpO1xyXG4gICAgICBwcm9jZXNzTm9kZS5kYXRhKFwianVzdEFkZGVkXCIsIHRydWUpO1xyXG5cclxuICAgICAgdmFyIHlQb3NpdGlvbiA9IHByb2Nlc3NQb3NpdGlvbi55O1xyXG5cclxuICAgICAgdmFyIGlucHV0Tm9kZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkTm9kZSh4UG9zT2ZJbnB1dCwgeVBvc2l0aW9uLCB7XHJcbiAgICAgICAgY2xhc3M6IFwibWFjcm9tb2xlY3VsZVwiLFxyXG4gICAgICAgIGxhbmd1YWdlOiBcIlBEXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgICBpbnB1dE5vZGUuZGF0YShcImp1c3RBZGRlZFwiLCB0cnVlKTtcclxuICAgICAgaW5wdXROb2RlLmRhdGEoXCJsYWJlbFwiLCBwcm90ZWluTmFtZSk7XHJcbiAgICAgIHZhciBpbmZvYm94T2JqZWN0ID0ge1xyXG4gICAgICAgIGNsYXp6OiBcInVuaXQgb2YgaW5mb3JtYXRpb25cIixcclxuICAgICAgICBsYWJlbDoge1xyXG4gICAgICAgICAgdGV4dDogcmV2ZXJzZSA/IFwiYWN0aXZlXCIgOiBcImluYWN0aXZlXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgXCJzaGFwZS1uYW1lXCI6IFwiZWxsaXBzZVwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYmJveDoge1xyXG4gICAgICAgICAgdzogMzYsXHJcbiAgICAgICAgICBoOiAxNSxcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG4gICAgICBlbGVtZW50VXRpbGl0aWVzLmFkZFN0YXRlT3JJbmZvQm94KGlucHV0Tm9kZSwgaW5mb2JveE9iamVjdCk7XHJcblxyXG4gICAgICB2YXIgb3V0cHV0Tm9kZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkTm9kZSh4UG9zT2ZPdXRwdXQsIHlQb3NpdGlvbiwge1xyXG4gICAgICAgIGNsYXNzOiBcIm1hY3JvbW9sZWN1bGVcIixcclxuICAgICAgICBsYW5ndWFnZTogXCJQRFwiLFxyXG4gICAgICB9KTtcclxuICAgICAgb3V0cHV0Tm9kZS5kYXRhKFwianVzdEFkZGVkXCIsIHRydWUpO1xyXG4gICAgICBvdXRwdXROb2RlLmRhdGEoXCJsYWJlbFwiLCBwcm90ZWluTmFtZSk7XHJcbiAgICAgIGluZm9ib3hPYmplY3QgPSB7XHJcbiAgICAgICAgY2xheno6IFwidW5pdCBvZiBpbmZvcm1hdGlvblwiLFxyXG4gICAgICAgIGxhYmVsOiB7XHJcbiAgICAgICAgICB0ZXh0OiByZXZlcnNlID8gXCJpbmFjdGl2ZVwiIDogXCJhY3RpdmVcIixcclxuICAgICAgICB9LFxyXG4gICAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgICBcInNoYXBlLW5hbWVcIjogXCJlbGxpcHNlXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBiYm94OiB7XHJcbiAgICAgICAgICB3OiAzNixcclxuICAgICAgICAgIGg6IDE1LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH07XHJcbiAgICAgIGVsZW1lbnRVdGlsaXRpZXMuYWRkU3RhdGVPckluZm9Cb3gob3V0cHV0Tm9kZSwgaW5mb2JveE9iamVjdCk7XHJcblxyXG4gICAgICB2YXIgaW5wdXRTaWRlRWRnZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkRWRnZShcclxuICAgICAgICBpbnB1dE5vZGUuaWQoKSxcclxuICAgICAgICBwcm9jZXNzTm9kZS5pZCgpLFxyXG4gICAgICAgIHsgY2xhc3M6IFwiY29uc3VtcHRpb25cIiwgbGFuZ3VhZ2U6IFwiUERcIiB9XHJcbiAgICAgICk7XHJcbiAgICAgIGlucHV0U2lkZUVkZ2UuZGF0YShcImp1c3RBZGRlZFwiLCB0cnVlKTtcclxuICAgICAgdmFyIG91dHB1dFNpZGVFZGdlID0gZWxlbWVudFV0aWxpdGllcy5hZGRFZGdlKFxyXG4gICAgICAgIHByb2Nlc3NOb2RlLmlkKCksXHJcbiAgICAgICAgb3V0cHV0Tm9kZS5pZCgpLFxyXG4gICAgICAgIHsgY2xhc3M6IFwicHJvZHVjdGlvblwiLCBsYW5ndWFnZTogXCJQRFwiIH1cclxuICAgICAgKTtcclxuICAgICAgb3V0cHV0U2lkZUVkZ2UuZGF0YShcImp1c3RBZGRlZFwiLCB0cnVlKTtcclxuICAgICAgY3kuZW5kQmF0Y2goKTtcclxuXHJcbiAgICAgIC8vZmlsdGVyIHRoZSBqdXN0IGFkZGVkIGVsZW1lbXRzIHRvIHJldHVybiB0aGVtIGFuZCByZW1vdmUganVzdCBhZGRlZCBtYXJrXHJcbiAgICAgIHZhciBlbGVzID0gY3kuZWxlbWVudHMoXCJbanVzdEFkZGVkXVwiKTtcclxuICAgICAgZWxlcy5yZW1vdmVEYXRhKFwianVzdEFkZGVkXCIpO1xyXG5cclxuICAgICAgY3kuZWxlbWVudHMoKS51bnNlbGVjdCgpO1xyXG4gICAgICBlbGVzLnNlbGVjdCgpO1xyXG5cclxuICAgICAgcmV0dXJuIGVsZXM7IC8vIFJldHVybiB0aGUganVzdCBhZGRlZCBlbGVtZW50c1xyXG4gICAgfTtcclxuXHJcbiAgICAvKlxyXG4gICAgICogQ3JlYXRlcyBhIHRlbXBsYXRlIHJlYWN0aW9uIHdpdGggZ2l2ZW4gcGFyYW1ldGVycy4gUmVxdWlyZXMgY29zZS1iaWxrZW50IGxheW91dCB0byB0aWxlIHRoZSBmcmVlIG1hY3JvbW9sZWN1bGVzIGluY2x1ZGVkXHJcbiAgICAgKiBpbiB0aGUgY29tcGxleC4gUGFyYW1ldGVycyBhcmUgZXhwbGFpbmVkIGJlbG93LlxyXG4gICAgICogdGVtcGxhdGVUeXBlOiBUaGUgdHlwZSBvZiB0aGUgdGVtcGxhdGUgcmVhY3Rpb24uIEl0IG1heSBiZSAnYXNzb2NpYXRpb24nLCAnZGlzc29jaWF0aW9uJywgJ3JldmVyc2libGUnIG9yICdpcnJldmVyc2libGUnLlxyXG4gICAgICogbm9kZUxpc3Q6IFRoZSBsaXN0IG9mIHRoZSBuYW1lcyBhbmQgdHlwZXMgb2YgbW9sZWN1bGVzIHdoaWNoIHdpbGwgaW52b2x2ZSBpbiB0aGUgcmVhY3Rpb24uXHJcbiAgICAgKiBjb21wbGV4TmFtZTogVGhlIG5hbWUgb2YgdGhlIGNvbXBsZXggaW4gdGhlIHJlYWN0aW9uLlxyXG4gICAgICogcHJvY2Vzc1Bvc2l0aW9uOiBUaGUgbW9kYWwgcG9zaXRpb24gb2YgdGhlIHByb2Nlc3MgaW4gdGhlIHJlYWN0aW9uLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0aGUgY2VudGVyIG9mIHRoZSBjYW52YXMuXHJcbiAgICAgKiB0aWxpbmdQYWRkaW5nVmVydGljYWw6IFRoaXMgb3B0aW9uIHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBjb3NlLWJpbGtlbnQgbGF5b3V0IHdpdGggdGhlIHNhbWUgbmFtZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgMTUuXHJcbiAgICAgKiB0aWxpbmdQYWRkaW5nSG9yaXpvbnRhbDogVGhpcyBvcHRpb24gd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGNvc2UtYmlsa2VudCBsYXlvdXQgd2l0aCB0aGUgc2FtZSBuYW1lLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyAxNS5cclxuICAgICAqIGVkZ2VMZW5ndGg6IFRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBwcm9jZXNzIGFuZCB0aGUgbWFjcm9tb2xlY3VsZXMgYXQgdGhlIGJvdGggc2lkZXMuXHJcbiAgICAgKi9cclxuICAgIGVsZW1lbnRVdGlsaXRpZXMuY3JlYXRlVGVtcGxhdGVSZWFjdGlvbiA9IGZ1bmN0aW9uIChcclxuICAgICAgdGVtcGxhdGVUeXBlLFxyXG4gICAgICBub2RlTGlzdCxcclxuICAgICAgY29tcGxleE5hbWUsXHJcbiAgICAgIHByb2Nlc3NQb3NpdGlvbixcclxuICAgICAgdGlsaW5nUGFkZGluZ1ZlcnRpY2FsLFxyXG4gICAgICB0aWxpbmdQYWRkaW5nSG9yaXpvbnRhbCxcclxuICAgICAgZWRnZUxlbmd0aCxcclxuICAgICAgbGF5b3V0UGFyYW1cclxuICAgICkge1xyXG4gICAgICB2YXIgZGVmYXVsdE1hY3JvbW9sZWN1bFByb3BlcnRpZXMgPVxyXG4gICAgICAgIGVsZW1lbnRVdGlsaXRpZXMuZ2V0RGVmYXVsdFByb3BlcnRpZXMoXCJtYWNyb21vbGVjdWxlXCIpO1xyXG4gICAgICB2YXIgZGVmYXVsdFNpbXBsZUNoZW1pY2FsUHJvcGVydGllcyA9XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5nZXREZWZhdWx0UHJvcGVydGllcyhcInNpbXBsZSBjaGVtaWNhbFwiKTtcclxuICAgICAgdmFyIGRlZmF1bHRQcm9jZXNzUHJvcGVydGllcyA9XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5nZXREZWZhdWx0UHJvcGVydGllcyh0ZW1wbGF0ZVR5cGUpO1xyXG4gICAgICB2YXIgcHJvY2Vzc1dpZHRoID0gZGVmYXVsdFByb2Nlc3NQcm9wZXJ0aWVzLndpZHRoIHx8IDUwO1xyXG4gICAgICB2YXIgbWFjcm9tb2xlY3VsZVdpZHRoID0gZGVmYXVsdE1hY3JvbW9sZWN1bFByb3BlcnRpZXMud2lkdGggfHwgNTA7XHJcbiAgICAgIHZhciBtYWNyb21vbGVjdWxlSGVpZ2h0ID0gZGVmYXVsdE1hY3JvbW9sZWN1bFByb3BlcnRpZXMuaGVpZ2h0IHx8IDUwO1xyXG4gICAgICB2YXIgc2ltcGxlQ2hlbWljYWxXaWR0aCA9IGRlZmF1bHRTaW1wbGVDaGVtaWNhbFByb3BlcnRpZXMud2lkdGggfHwgMzU7XHJcbiAgICAgIHZhciBzaW1wbGVDaGVtaWNhbEhlaWdodCA9IGRlZmF1bHRTaW1wbGVDaGVtaWNhbFByb3BlcnRpZXMuaGVpZ2h0IHx8IDM1O1xyXG4gICAgICB2YXIgcHJvY2Vzc1Bvc2l0aW9uID1cclxuICAgICAgICBwcm9jZXNzUG9zaXRpb24gfHxcclxuICAgICAgICBlbGVtZW50VXRpbGl0aWVzLmNvbnZlcnRUb01vZGVsUG9zaXRpb24oe1xyXG4gICAgICAgICAgeDogY3kud2lkdGgoKSAvIDIsXHJcbiAgICAgICAgICB5OiBjeS5oZWlnaHQoKSAvIDIsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIHZhciBub2RlTGlzdCA9IG5vZGVMaXN0O1xyXG4gICAgICB2YXIgY29tcGxleE5hbWUgPSBjb21wbGV4TmFtZTtcclxuICAgICAgdmFyIG51bU9mTW9sZWN1bGVzID0gbm9kZUxpc3QubGVuZ3RoO1xyXG4gICAgICB2YXIgdGlsaW5nUGFkZGluZ1ZlcnRpY2FsID0gdGlsaW5nUGFkZGluZ1ZlcnRpY2FsIHx8IDE1O1xyXG4gICAgICB2YXIgdGlsaW5nUGFkZGluZ0hvcml6b250YWwgPSB0aWxpbmdQYWRkaW5nSG9yaXpvbnRhbCB8fCAxNTtcclxuICAgICAgdmFyIGVkZ2VMZW5ndGggPSBlZGdlTGVuZ3RoIHx8IDYwO1xyXG5cclxuICAgICAgY3kuc3RhcnRCYXRjaCgpO1xyXG5cclxuICAgICAgaWYgKCFlbGVtZW50VXRpbGl0aWVzLmdldE1hcFR5cGUoKSkge1xyXG4gICAgICAgIGVsZW1lbnRVdGlsaXRpZXMuc2V0TWFwVHlwZShcIlBEXCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgeFBvc2l0aW9uT2ZGcmVlTWFjcm9tb2xlY3VsZXM7XHJcbiAgICAgIHZhciB4UG9zaXRpb25PZklucHV0TWFjcm9tb2xlY3VsZXM7XHJcbiAgICAgIGlmICh0ZW1wbGF0ZVR5cGUgPT09IFwiYXNzb2NpYXRpb25cIikge1xyXG4gICAgICAgIHhQb3NpdGlvbk9mRnJlZU1hY3JvbW9sZWN1bGVzID1cclxuICAgICAgICAgIHByb2Nlc3NQb3NpdGlvbi54IC1cclxuICAgICAgICAgIGVkZ2VMZW5ndGggLVxyXG4gICAgICAgICAgcHJvY2Vzc1dpZHRoIC8gMiAtXHJcbiAgICAgICAgICBtYWNyb21vbGVjdWxlV2lkdGggLyAyO1xyXG4gICAgICB9IGVsc2UgaWYgKHRlbXBsYXRlVHlwZSA9PT0gXCJkaXNzb2NpYXRpb25cIikge1xyXG4gICAgICAgIHhQb3NpdGlvbk9mRnJlZU1hY3JvbW9sZWN1bGVzID1cclxuICAgICAgICAgIHByb2Nlc3NQb3NpdGlvbi54ICtcclxuICAgICAgICAgIGVkZ2VMZW5ndGggK1xyXG4gICAgICAgICAgcHJvY2Vzc1dpZHRoIC8gMiArXHJcbiAgICAgICAgICBtYWNyb21vbGVjdWxlV2lkdGggLyAyO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHhQb3NpdGlvbk9mRnJlZU1hY3JvbW9sZWN1bGVzID1cclxuICAgICAgICAgIHByb2Nlc3NQb3NpdGlvbi54IC1cclxuICAgICAgICAgIGVkZ2VMZW5ndGggLVxyXG4gICAgICAgICAgcHJvY2Vzc1dpZHRoIC8gMiAtXHJcbiAgICAgICAgICBtYWNyb21vbGVjdWxlV2lkdGggLyAyO1xyXG4gICAgICAgIHhQb3NpdGlvbk9mSW5wdXRNYWNyb21vbGVjdWxlcyA9XHJcbiAgICAgICAgICBwcm9jZXNzUG9zaXRpb24ueCArXHJcbiAgICAgICAgICBlZGdlTGVuZ3RoICtcclxuICAgICAgICAgIHByb2Nlc3NXaWR0aCAvIDIgK1xyXG4gICAgICAgICAgbWFjcm9tb2xlY3VsZVdpZHRoIC8gMjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy9DcmVhdGUgdGhlIHByb2Nlc3MgaW4gdGVtcGxhdGUgdHlwZVxyXG4gICAgICB2YXIgcHJvY2VzcztcclxuICAgICAgaWYgKHRlbXBsYXRlVHlwZSA9PT0gXCJyZXZlcnNpYmxlXCIgfHwgdGVtcGxhdGVUeXBlID09PSBcImlycmV2ZXJzaWJsZVwiKSB7XHJcbiAgICAgICAgcHJvY2VzcyA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkTm9kZShcclxuICAgICAgICAgIHByb2Nlc3NQb3NpdGlvbi54LFxyXG4gICAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uLnksXHJcbiAgICAgICAgICB7IGNsYXNzOiBcInByb2Nlc3NcIiwgbGFuZ3VhZ2U6IFwiUERcIiB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICBlbGVtZW50VXRpbGl0aWVzLnNldFBvcnRzT3JkZXJpbmcocHJvY2VzcywgXCJMLXRvLVJcIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcHJvY2VzcyA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkTm9kZShcclxuICAgICAgICAgIHByb2Nlc3NQb3NpdGlvbi54LFxyXG4gICAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uLnksXHJcbiAgICAgICAgICB7IGNsYXNzOiB0ZW1wbGF0ZVR5cGUsIGxhbmd1YWdlOiBcIlBEXCIgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5zZXRQb3J0c09yZGVyaW5nKHByb2Nlc3MsIFwiTC10by1SXCIpO1xyXG4gICAgICB9XHJcbiAgICAgIHByb2Nlc3MuZGF0YShcImp1c3RBZGRlZFwiLCB0cnVlKTtcclxuXHJcbiAgICAgIC8vRGVmaW5lIHRoZSBzdGFydGluZyB5IHBvc2l0aW9uXHJcbiAgICAgIHZhciB5UG9zaXRpb24gPVxyXG4gICAgICAgIHByb2Nlc3NQb3NpdGlvbi55IC1cclxuICAgICAgICAoKG51bU9mTW9sZWN1bGVzIC0gMSkgLyAyKSAqXHJcbiAgICAgICAgKG1hY3JvbW9sZWN1bGVIZWlnaHQgKyB0aWxpbmdQYWRkaW5nVmVydGljYWwpO1xyXG5cclxuICAgICAgLy9DcmVhdGUgdGhlIGZyZWUgbW9sZWN1bGVzXHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtT2ZNb2xlY3VsZXM7IGkrKykge1xyXG4gICAgICAgIC8vIG5vZGUgYWRkaXRpb24gb3BlcmF0aW9uIGlzIGRldGVybWluZWQgYnkgbW9sZWN1bGUgdHlwZVxyXG4gICAgICAgIGlmIChub2RlTGlzdFtpXS50eXBlID09IFwiU2ltcGxlIENoZW1pY2FsXCIpIHtcclxuICAgICAgICAgIHZhciBuZXdOb2RlID0gZWxlbWVudFV0aWxpdGllcy5hZGROb2RlKFxyXG4gICAgICAgICAgICB4UG9zaXRpb25PZkZyZWVNYWNyb21vbGVjdWxlcyxcclxuICAgICAgICAgICAgeVBvc2l0aW9uLFxyXG4gICAgICAgICAgICB7IGNsYXNzOiBcInNpbXBsZSBjaGVtaWNhbFwiLCBsYW5ndWFnZTogXCJQRFwiIH1cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICAvL3VwZGF0ZSB0aGUgeSBwb3NpdGlvblxyXG4gICAgICAgICAgeVBvc2l0aW9uICs9IHNpbXBsZUNoZW1pY2FsSGVpZ2h0ICsgdGlsaW5nUGFkZGluZ1ZlcnRpY2FsO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB2YXIgbmV3Tm9kZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkTm9kZShcclxuICAgICAgICAgICAgeFBvc2l0aW9uT2ZGcmVlTWFjcm9tb2xlY3VsZXMsXHJcbiAgICAgICAgICAgIHlQb3NpdGlvbixcclxuICAgICAgICAgICAgeyBjbGFzczogXCJtYWNyb21vbGVjdWxlXCIsIGxhbmd1YWdlOiBcIlBEXCIgfVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIC8vdXBkYXRlIHRoZSB5IHBvc2l0aW9uXHJcbiAgICAgICAgICB5UG9zaXRpb24gKz0gbWFjcm9tb2xlY3VsZUhlaWdodCArIHRpbGluZ1BhZGRpbmdWZXJ0aWNhbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbmV3Tm9kZS5kYXRhKFwianVzdEFkZGVkXCIsIHRydWUpO1xyXG4gICAgICAgIG5ld05vZGUuZGF0YShcImxhYmVsXCIsIG5vZGVMaXN0W2ldLm5hbWUpO1xyXG5cclxuICAgICAgICAvL2NyZWF0ZSB0aGUgZWRnZSBjb25uZWN0ZWQgdG8gdGhlIG5ldyBtb2xlY3VsZVxyXG4gICAgICAgIHZhciBuZXdFZGdlO1xyXG4gICAgICAgIGlmICh0ZW1wbGF0ZVR5cGUgPT09IFwiYXNzb2NpYXRpb25cIikge1xyXG4gICAgICAgICAgbmV3RWRnZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkRWRnZShuZXdOb2RlLmlkKCksIHByb2Nlc3MuaWQoKSwge1xyXG4gICAgICAgICAgICBjbGFzczogXCJjb25zdW1wdGlvblwiLFxyXG4gICAgICAgICAgICBsYW5ndWFnZTogXCJQRFwiLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0ZW1wbGF0ZVR5cGUgPT09IFwiZGlzc29jaWF0aW9uXCIpIHtcclxuICAgICAgICAgIG5ld0VkZ2UgPSBlbGVtZW50VXRpbGl0aWVzLmFkZEVkZ2UocHJvY2Vzcy5pZCgpLCBuZXdOb2RlLmlkKCksIHtcclxuICAgICAgICAgICAgY2xhc3M6IFwicHJvZHVjdGlvblwiLFxyXG4gICAgICAgICAgICBsYW5ndWFnZTogXCJQRFwiLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vR3JvdXAgcmlnaHQgb3IgdG9wIGVsZW1lbnRzIGluIGdyb3VwIGlkIDFcclxuICAgICAgICAgIGlmICh0ZW1wbGF0ZVR5cGUgPT09IFwiaXJyZXZlcnNpYmxlXCIpIHtcclxuICAgICAgICAgICAgbmV3RWRnZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkRWRnZShuZXdOb2RlLmlkKCksIHByb2Nlc3MuaWQoKSwge1xyXG4gICAgICAgICAgICAgIGNsYXNzOiBcImNvbnN1bXB0aW9uXCIsXHJcbiAgICAgICAgICAgICAgbGFuZ3VhZ2U6IFwiUERcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBuZXdFZGdlID0gZWxlbWVudFV0aWxpdGllcy5hZGRFZGdlKFxyXG4gICAgICAgICAgICAgIHByb2Nlc3MuaWQoKSxcclxuICAgICAgICAgICAgICBuZXdOb2RlLmlkKCksXHJcbiAgICAgICAgICAgICAgeyBjbGFzczogXCJwcm9kdWN0aW9uXCIsIGxhbmd1YWdlOiBcIlBEXCIgfSxcclxuICAgICAgICAgICAgICB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgIDFcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG5ld0VkZ2UuZGF0YShcImp1c3RBZGRlZFwiLCB0cnVlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRlbXBsYXRlVHlwZSA9PT0gXCJhc3NvY2lhdGlvblwiIHx8IHRlbXBsYXRlVHlwZSA9PSBcImRpc3NvY2lhdGlvblwiKSB7XHJcbiAgICAgICAgLy9DcmVhdGUgdGhlIGNvbXBsZXggaW5jbHVkaW5nIG1hY3JvbW9sZWN1bGVzIGluc2lkZSBvZiBpdFxyXG4gICAgICAgIC8vVGVtcHJvcmFyaWx5IGFkZCBpdCB0byB0aGUgcHJvY2VzcyBwb3NpdGlvbiB3ZSB3aWxsIG1vdmUgaXQgYWNjb3JkaW5nIHRvIHRoZSBsYXN0IHNpemUgb2YgaXRcclxuICAgICAgICB2YXIgY29tcGxleCA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkTm9kZShcclxuICAgICAgICAgIHByb2Nlc3NQb3NpdGlvbi54LFxyXG4gICAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uLnksXHJcbiAgICAgICAgICB7IGNsYXNzOiBcImNvbXBsZXhcIiwgbGFuZ3VhZ2U6IFwiUERcIiB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICBjb21wbGV4LmRhdGEoXCJqdXN0QWRkZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgY29tcGxleC5kYXRhKFwianVzdEFkZGVkTGF5b3V0Tm9kZVwiLCB0cnVlKTtcclxuXHJcbiAgICAgICAgLy9JZiBhIG5hbWUgaXMgc3BlY2lmaWVkIGZvciB0aGUgY29tcGxleCBzZXQgaXRzIGxhYmVsIGFjY29yZGluZ2x5XHJcbiAgICAgICAgaWYgKGNvbXBsZXhOYW1lKSB7XHJcbiAgICAgICAgICBjb21wbGV4LmRhdGEoXCJsYWJlbFwiLCBjb21wbGV4TmFtZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2NyZWF0ZSB0aGUgZWRnZSBjb25ubmVjdGVkIHRvIHRoZSBjb21wbGV4XHJcbiAgICAgICAgdmFyIGVkZ2VPZkNvbXBsZXg7XHJcblxyXG4gICAgICAgIGlmICh0ZW1wbGF0ZVR5cGUgPT09IFwiYXNzb2NpYXRpb25cIikge1xyXG4gICAgICAgICAgZWRnZU9mQ29tcGxleCA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkRWRnZShwcm9jZXNzLmlkKCksIGNvbXBsZXguaWQoKSwge1xyXG4gICAgICAgICAgICBjbGFzczogXCJwcm9kdWN0aW9uXCIsXHJcbiAgICAgICAgICAgIGxhbmd1YWdlOiBcIlBEXCIsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZWRnZU9mQ29tcGxleCA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkRWRnZShjb21wbGV4LmlkKCksIHByb2Nlc3MuaWQoKSwge1xyXG4gICAgICAgICAgICBjbGFzczogXCJjb25zdW1wdGlvblwiLFxyXG4gICAgICAgICAgICBsYW5ndWFnZTogXCJQRFwiLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlZGdlT2ZDb21wbGV4LmRhdGEoXCJqdXN0QWRkZWRcIiwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtT2ZNb2xlY3VsZXM7IGkrKykge1xyXG4gICAgICAgICAgLy8gQWRkIGEgbW9sZWN1bGUoZGVwZW5kZW50IG9uIGl0J3MgdHlwZSkgbm90IGhhdmluZyBhIHByZXZpb3VzbHkgZGVmaW5lZCBpZCBhbmQgaGF2aW5nIHRoZSBjb21wbGV4IGNyZWF0ZWQgaW4gdGhpcyByZWFjdGlvbiBhcyBwYXJlbnRcclxuICAgICAgICAgIGlmIChub2RlTGlzdFtpXS50eXBlID09IFwiU2ltcGxlIENoZW1pY2FsXCIpIHtcclxuICAgICAgICAgICAgdmFyIG5ld05vZGUgPSBlbGVtZW50VXRpbGl0aWVzLmFkZE5vZGUoXHJcbiAgICAgICAgICAgICAgY29tcGxleC5wb3NpdGlvbihcInhcIiksXHJcbiAgICAgICAgICAgICAgY29tcGxleC5wb3NpdGlvbihcInlcIiksXHJcbiAgICAgICAgICAgICAgeyBjbGFzczogXCJzaW1wbGUgY2hlbWljYWxcIiwgbGFuZ3VhZ2U6IFwiUERcIiB9LFxyXG4gICAgICAgICAgICAgIHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICBjb21wbGV4LmlkKClcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBuZXdOb2RlID0gZWxlbWVudFV0aWxpdGllcy5hZGROb2RlKFxyXG4gICAgICAgICAgICAgIGNvbXBsZXgucG9zaXRpb24oXCJ4XCIpLFxyXG4gICAgICAgICAgICAgIGNvbXBsZXgucG9zaXRpb24oXCJ5XCIpLFxyXG4gICAgICAgICAgICAgIHsgY2xhc3M6IFwibWFjcm9tb2xlY3VsZVwiLCBsYW5ndWFnZTogXCJQRFwiIH0sXHJcbiAgICAgICAgICAgICAgdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgIGNvbXBsZXguaWQoKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIG5ld05vZGUuZGF0YShcImp1c3RBZGRlZFwiLCB0cnVlKTtcclxuICAgICAgICAgIG5ld05vZGUuZGF0YShcImxhYmVsXCIsIG5vZGVMaXN0W2ldLm5hbWUpO1xyXG4gICAgICAgICAgbmV3Tm9kZS5kYXRhKFwianVzdEFkZGVkTGF5b3V0Tm9kZVwiLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy9DcmVhdGUgdGhlIGlucHV0IG1hY3JvbW9sZWN1bGVzXHJcbiAgICAgICAgdmFyIG51bU9mSW5wdXRNYWNyb21vbGVjdWxlcyA9IGNvbXBsZXhOYW1lLmxlbmd0aDtcclxuICAgICAgICB5UG9zaXRpb24gPVxyXG4gICAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uLnkgLVxyXG4gICAgICAgICAgKChudW1PZklucHV0TWFjcm9tb2xlY3VsZXMgLSAxKSAvIDIpICpcclxuICAgICAgICAgIChtYWNyb21vbGVjdWxlSGVpZ2h0ICsgdGlsaW5nUGFkZGluZ1ZlcnRpY2FsKTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1PZklucHV0TWFjcm9tb2xlY3VsZXM7IGkrKykge1xyXG4gICAgICAgICAgaWYgKGNvbXBsZXhOYW1lW2ldLnR5cGUgPT0gXCJTaW1wbGUgQ2hlbWljYWxcIikge1xyXG4gICAgICAgICAgICB2YXIgbmV3Tm9kZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkTm9kZShcclxuICAgICAgICAgICAgICB4UG9zaXRpb25PZklucHV0TWFjcm9tb2xlY3VsZXMsXHJcbiAgICAgICAgICAgICAgeVBvc2l0aW9uLFxyXG4gICAgICAgICAgICAgIHsgY2xhc3M6IFwic2ltcGxlIGNoZW1pY2FsXCIsIGxhbmd1YWdlOiBcIlBEXCIgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB5UG9zaXRpb24gKz0gc2ltcGxlQ2hlbWljYWxIZWlnaHQgKyB0aWxpbmdQYWRkaW5nVmVydGljYWw7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgbmV3Tm9kZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkTm9kZShcclxuICAgICAgICAgICAgICB4UG9zaXRpb25PZklucHV0TWFjcm9tb2xlY3VsZXMsXHJcbiAgICAgICAgICAgICAgeVBvc2l0aW9uLFxyXG4gICAgICAgICAgICAgIHsgY2xhc3M6IFwibWFjcm9tb2xlY3VsZVwiLCBsYW5ndWFnZTogXCJQRFwiIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgeVBvc2l0aW9uICs9IG1hY3JvbW9sZWN1bGVIZWlnaHQgKyB0aWxpbmdQYWRkaW5nVmVydGljYWw7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgbmV3Tm9kZS5kYXRhKFwianVzdEFkZGVkXCIsIHRydWUpO1xyXG4gICAgICAgICAgbmV3Tm9kZS5kYXRhKFwibGFiZWxcIiwgY29tcGxleE5hbWVbaV0ubmFtZSk7XHJcblxyXG4gICAgICAgICAgLy9jcmVhdGUgdGhlIGVkZ2UgY29ubmVjdGVkIHRvIHRoZSBuZXcgbWFjcm9tb2xlY3VsZVxyXG4gICAgICAgICAgdmFyIG5ld0VkZ2U7XHJcblxyXG4gICAgICAgICAgLy9Hcm91cCB0aGUgbGVmdCBvciBib3R0b20gZWxlbWVudHMgaW4gZ3JvdXAgaWQgMCBpZiByZXZlcnNpYmxlXHJcbiAgICAgICAgICBpZiAodGVtcGxhdGVUeXBlID09PSBcImlycmV2ZXJzaWJsZVwiKSB7XHJcbiAgICAgICAgICAgIG5ld0VkZ2UgPSBlbGVtZW50VXRpbGl0aWVzLmFkZEVkZ2UocHJvY2Vzcy5pZCgpLCBuZXdOb2RlLmlkKCksIHtcclxuICAgICAgICAgICAgICBjbGFzczogXCJwcm9kdWN0aW9uXCIsXHJcbiAgICAgICAgICAgICAgbGFuZ3VhZ2U6IFwiUERcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBuZXdFZGdlID0gZWxlbWVudFV0aWxpdGllcy5hZGRFZGdlKFxyXG4gICAgICAgICAgICAgIHByb2Nlc3MuaWQoKSxcclxuICAgICAgICAgICAgICBuZXdOb2RlLmlkKCksXHJcbiAgICAgICAgICAgICAgeyBjbGFzczogXCJwcm9kdWN0aW9uXCIsIGxhbmd1YWdlOiBcIlBEXCIgfSxcclxuICAgICAgICAgICAgICB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgIDBcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIG5ld0VkZ2UuZGF0YShcImp1c3RBZGRlZFwiLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGN5LmVuZEJhdGNoKCk7XHJcblxyXG4gICAgICB2YXIgbGF5b3V0Tm9kZXMgPSBjeS5ub2RlcyhcIltqdXN0QWRkZWRMYXlvdXROb2RlXVwiKTtcclxuICAgICAgbGF5b3V0Tm9kZXMucmVtb3ZlRGF0YShcImp1c3RBZGRlZExheW91dE5vZGVcIik7XHJcbiAgICAgIHZhciBsYXlvdXQgPSBsYXlvdXROb2Rlcy5sYXlvdXQoe1xyXG4gICAgICAgIG5hbWU6IGxheW91dFBhcmFtLm5hbWUsXHJcbiAgICAgICAgcmFuZG9taXplOiBmYWxzZSxcclxuICAgICAgICBmaXQ6IGZhbHNlLFxyXG4gICAgICAgIGFuaW1hdGU6IGZhbHNlLFxyXG4gICAgICAgIHRpbGluZ1BhZGRpbmdWZXJ0aWNhbDogdGlsaW5nUGFkZGluZ1ZlcnRpY2FsLFxyXG4gICAgICAgIHRpbGluZ1BhZGRpbmdIb3Jpem9udGFsOiB0aWxpbmdQYWRkaW5nSG9yaXpvbnRhbCxcclxuICAgICAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAvL0lmIGl0IGlzIGEgcmV2ZXJzaWJsZSByZWFjdGlvbiBubyBuZWVkIHRvIHJlLXBvc2l0aW9uIGNvbXBsZXhlc1xyXG4gICAgICAgICAgaWYgKHRlbXBsYXRlVHlwZSA9PT0gXCJyZXZlcnNpYmxlXCIpIHJldHVybjtcclxuICAgICAgICAgIC8vcmUtcG9zaXRpb24gdGhlIG5vZGVzIGluc2lkZSB0aGUgY29tcGxleFxyXG4gICAgICAgICAgdmFyIHN1cHBvc2VkWFBvc2l0aW9uO1xyXG4gICAgICAgICAgdmFyIHN1cHBvc2VkWVBvc2l0aW9uID0gcHJvY2Vzc1Bvc2l0aW9uLnk7XHJcblxyXG4gICAgICAgICAgaWYgKHRlbXBsYXRlVHlwZSA9PT0gXCJhc3NvY2lhdGlvblwiKSB7XHJcbiAgICAgICAgICAgIHN1cHBvc2VkWFBvc2l0aW9uID1cclxuICAgICAgICAgICAgICBwcm9jZXNzUG9zaXRpb24ueCArXHJcbiAgICAgICAgICAgICAgZWRnZUxlbmd0aCArXHJcbiAgICAgICAgICAgICAgcHJvY2Vzc1dpZHRoIC8gMiArXHJcbiAgICAgICAgICAgICAgY29tcGxleC5vdXRlcldpZHRoKCkgLyAyO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc3VwcG9zZWRYUG9zaXRpb24gPVxyXG4gICAgICAgICAgICAgIHByb2Nlc3NQb3NpdGlvbi54IC1cclxuICAgICAgICAgICAgICBlZGdlTGVuZ3RoIC1cclxuICAgICAgICAgICAgICBwcm9jZXNzV2lkdGggLyAyIC1cclxuICAgICAgICAgICAgICBjb21wbGV4Lm91dGVyV2lkdGgoKSAvIDI7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgdmFyIHBvc2l0aW9uRGlmZlggPSAoc3VwcG9zZWRYUG9zaXRpb24gLSBjb21wbGV4LnBvc2l0aW9uKFwieFwiKSkgLyAyO1xyXG4gICAgICAgICAgdmFyIHBvc2l0aW9uRGlmZlkgPSAoc3VwcG9zZWRZUG9zaXRpb24gLSBjb21wbGV4LnBvc2l0aW9uKFwieVwiKSkgLyAyO1xyXG4gICAgICAgICAgZWxlbWVudFV0aWxpdGllcy5tb3ZlTm9kZXMoXHJcbiAgICAgICAgICAgIHsgeDogcG9zaXRpb25EaWZmWCwgeTogcG9zaXRpb25EaWZmWSB9LFxyXG4gICAgICAgICAgICBjb21wbGV4XHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gRG8gdGhpcyBjaGVjayBmb3IgY3l0b3NjYXBlLmpzIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGxheW91dCAmJlxyXG4gICAgICAgIGxheW91dC5ydW4gJiZcclxuICAgICAgICB0ZW1wbGF0ZVR5cGUgIT09IFwicmV2ZXJzaWJsZVwiICYmXHJcbiAgICAgICAgdGVtcGxhdGVUeXBlICE9PSBcImlycmV2ZXJzaWJsZVwiXHJcbiAgICAgICkge1xyXG4gICAgICAgIGxheW91dC5ydW4oKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy9maWx0ZXIgdGhlIGp1c3QgYWRkZWQgZWxlbWVtdHMgdG8gcmV0dXJuIHRoZW0gYW5kIHJlbW92ZSBqdXN0IGFkZGVkIG1hcmtcclxuICAgICAgdmFyIGVsZXMgPSBjeS5lbGVtZW50cyhcIltqdXN0QWRkZWRdXCIpO1xyXG4gICAgICBlbGVzLnJlbW92ZURhdGEoXCJqdXN0QWRkZWRcIik7XHJcblxyXG4gICAgICBjeS5lbGVtZW50cygpLnVuc2VsZWN0KCk7XHJcbiAgICAgIGVsZXMuc2VsZWN0KCk7XHJcblxyXG4gICAgICByZXR1cm4gZWxlczsgLy8gUmV0dXJuIHRoZSBqdXN0IGFkZGVkIGVsZW1lbnRzXHJcbiAgICB9O1xyXG5cclxuICAgIC8qXHJcbiAgICAgKiBNb3ZlIHRoZSBub2RlcyB0byBhIG5ldyBwYXJlbnQgYW5kIGNoYW5nZSB0aGVpciBwb3NpdGlvbiBpZiBwb3NzRGlmZiBwYXJhbXMgYXJlIHNldC5cclxuICAgICAqL1xyXG4gICAgZWxlbWVudFV0aWxpdGllcy5jaGFuZ2VQYXJlbnQgPSBmdW5jdGlvbiAoXHJcbiAgICAgIG5vZGVzLFxyXG4gICAgICBuZXdQYXJlbnQsXHJcbiAgICAgIHBvc0RpZmZYLFxyXG4gICAgICBwb3NEaWZmWVxyXG4gICAgKSB7XHJcbiAgICAgIHZhciBuZXdQYXJlbnRJZCA9XHJcbiAgICAgICAgbmV3UGFyZW50ID09IHVuZGVmaW5lZCB8fCB0eXBlb2YgbmV3UGFyZW50ID09PSBcInN0cmluZ1wiXHJcbiAgICAgICAgICA/IG5ld1BhcmVudFxyXG4gICAgICAgICAgOiBuZXdQYXJlbnQuaWQoKTtcclxuICAgICAgdmFyIG1vdmVkRWxlcyA9IG5vZGVzLm1vdmUoeyBwYXJlbnQ6IG5ld1BhcmVudElkIH0pO1xyXG4gICAgICBpZiAodHlwZW9mIHBvc0RpZmZYICE9IFwidW5kZWZpbmVkXCIgfHwgdHlwZW9mIHBvc0RpZmZZICE9IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICBlbGVtZW50VXRpbGl0aWVzLm1vdmVOb2Rlcyh7IHg6IHBvc0RpZmZYLCB5OiBwb3NEaWZmWSB9LCBub2Rlcyk7XHJcbiAgICAgIH1cclxuICAgICAgZWxlbWVudFV0aWxpdGllcy5tYWludGFpblBvaW50ZXIobW92ZWRFbGVzKTtcclxuICAgICAgcmV0dXJuIG1vdmVkRWxlcztcclxuICAgIH07XHJcblxyXG4gICAgZWxlbWVudFV0aWxpdGllcy51cGRhdGVJbmZvYm94U3R5bGUgPSBmdW5jdGlvbiAobm9kZSwgaW5kZXgsIG5ld1Byb3BzKSB7XHJcbiAgICAgIHZhciBpbmZvYm94T2JqID0gbm9kZS5kYXRhKFwic3RhdGVzYW5kaW5mb3NcIilbaW5kZXhdO1xyXG4gICAgICAkLmV4dGVuZChpbmZvYm94T2JqLnN0eWxlLCBuZXdQcm9wcyk7XHJcbiAgICAgIGN5LnN0eWxlKCkudXBkYXRlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGVsZW1lbnRVdGlsaXRpZXMudXBkYXRlSW5mb2JveE9iaiA9IGZ1bmN0aW9uIChub2RlLCBpbmRleCwgbmV3UHJvcHMpIHtcclxuICAgICAgdmFyIGluZm9ib3hPYmogPSBub2RlLmRhdGEoXCJzdGF0ZXNhbmRpbmZvc1wiKVtpbmRleF07XHJcbiAgICAgICQuZXh0ZW5kKGluZm9ib3hPYmosIG5ld1Byb3BzKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gUmVzaXplIGdpdmVuIG5vZGVzIGlmIHVzZUFzcGVjdFJhdGlvIGlzIHRydXRoeSBvbmUgb2Ygd2lkdGggb3IgaGVpZ2h0IHNob3VsZCBub3QgYmUgc2V0LlxyXG4gICAgZWxlbWVudFV0aWxpdGllcy5yZXNpemVOb2RlcyA9IGZ1bmN0aW9uIChcclxuICAgICAgbm9kZXMsXHJcbiAgICAgIHdpZHRoLFxyXG4gICAgICBoZWlnaHQsXHJcbiAgICAgIHVzZUFzcGVjdFJhdGlvLFxyXG4gICAgICBwcmVzZXJ2ZVJlbGF0aXZlUG9zXHJcbiAgICApIHtcclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBub2RlID0gbm9kZXNbaV07XHJcbiAgICAgICAgdmFyIHJhdGlvID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHZhciBlbGVNdXN0QmVTcXVhcmUgPSBlbGVtZW50VXRpbGl0aWVzLm11c3RCZVNxdWFyZShub2RlLmRhdGEoXCJjbGFzc1wiKSk7XHJcblxyXG4gICAgICAgIGlmIChwcmVzZXJ2ZVJlbGF0aXZlUG9zID09PSB0cnVlKSB7XHJcbiAgICAgICAgICB2YXIgb2xkV2lkdGggPSBub2RlLmRhdGEoXCJiYm94XCIpLnc7XHJcbiAgICAgICAgICB2YXIgb2xkSGVpZ2h0ID0gbm9kZS5kYXRhKFwiYmJveFwiKS5oO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTm90ZSB0aGF0IGJvdGggd2lkdGggYW5kIGhlaWdodCBzaG91bGQgbm90IGJlIHNldCBpZiB1c2VBc3BlY3RSYXRpbyBpcyB0cnV0aHlcclxuICAgICAgICBpZiAoIW5vZGUuaXNQYXJlbnQoKSkge1xyXG4gICAgICAgICAgaWYgKHdpZHRoKSB7XHJcbiAgICAgICAgICAgIGlmICh1c2VBc3BlY3RSYXRpbyB8fCBlbGVNdXN0QmVTcXVhcmUpIHtcclxuICAgICAgICAgICAgICByYXRpbyA9IHdpZHRoIC8gbm9kZS53aWR0aCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBub2RlLmRhdGEoXCJiYm94XCIpLncgPSB3aWR0aDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIGlmICh1c2VBc3BlY3RSYXRpbyB8fCBlbGVNdXN0QmVTcXVhcmUpIHtcclxuICAgICAgICAgICAgICByYXRpbyA9IGhlaWdodCAvIG5vZGUuaGVpZ2h0KCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5vZGUuZGF0YShcImJib3hcIikuaCA9IGhlaWdodDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAocmF0aW8gJiYgIWhlaWdodCkge1xyXG4gICAgICAgICAgICBub2RlLmRhdGEoXCJiYm94XCIpLmggPSBub2RlLmhlaWdodCgpICogcmF0aW87XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHJhdGlvICYmICF3aWR0aCkge1xyXG4gICAgICAgICAgICBub2RlLmRhdGEoXCJiYm94XCIpLncgPSBub2RlLndpZHRoKCkgKiByYXRpbztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbm9kZS5kYXRhKFwibWluSGVpZ2h0XCIsIFwiXCIgKyBoZWlnaHQpO1xyXG4gICAgICAgICAgbm9kZS5kYXRhKFwibWluV2lkdGhcIiwgXCJcIiArIHdpZHRoKTtcclxuICAgICAgICAgIG5vZGUuZGF0YShcIm1pbldpZHRoQmlhc0xlZnRcIiwgXCI1MCVcIik7XHJcbiAgICAgICAgICBub2RlLmRhdGEoXCJtaW5XaWR0aEJpYXNSaWdodFwiLCBcIjUwJVwiKTtcclxuICAgICAgICAgIG5vZGUuZGF0YShcIm1pbkhlaWdodEJpYXNUb3BcIiwgXCI1MCVcIik7XHJcbiAgICAgICAgICBub2RlLmRhdGEoXCJtaW5IZWlnaHRCaWFzQm90dG9tXCIsIFwiNTAlXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyogICAgaWYgKHByZXNlcnZlUmVsYXRpdmVQb3MgPT09IHRydWUpIHtcclxuICAgICAgICAgIHZhciBzdGF0ZXNhbmRpbmZvcyA9IG5vZGUuZGF0YSgnc3RhdGVzYW5kaW5mb3MnKTtcclxuICAgICAgICAgIHZhciB0b3BCb3R0b20gPSBzdGF0ZXNhbmRpbmZvcy5maWx0ZXIoYm94ID0+IChib3guYW5jaG9yU2lkZSA9PT0gXCJ0b3BcIiB8fCBib3guYW5jaG9yU2lkZSA9PT0gXCJib3R0b21cIikpO1xyXG4gICAgICAgICAgdmFyIHJpZ2h0TGVmdCA9IHN0YXRlc2FuZGluZm9zLmZpbHRlcihib3ggPT4gKGJveC5hbmNob3JTaWRlID09PSBcInJpZ2h0XCIgfHwgYm94LmFuY2hvclNpZGUgPT09IFwibGVmdFwiKSk7XHJcblxyXG4gICAgICAgICAgdG9wQm90dG9tLmZvckVhY2goZnVuY3Rpb24oYm94KXtcclxuICAgICAgICAgICAgaWYgKGJveC5iYm94LnggPCAwKSB7XHJcbiAgICAgICAgICAgICAgYm94LmJib3gueCA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoYm94LmJib3gueCA+IG9sZFdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgYm94LmJib3gueCA9IG9sZFdpZHRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJveC5iYm94LnggPSBub2RlLmRhdGEoXCJiYm94XCIpLncgKiBib3guYmJveC54IC8gb2xkV2lkdGg7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICByaWdodExlZnQuZm9yRWFjaChmdW5jdGlvbihib3gpe1xyXG4gICAgICAgICAgICBpZiAoYm94LmJib3gueSA8IDApIHtcclxuICAgICAgICAgICAgICBib3guYmJveC55ID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChib3guYmJveC55ID4gb2xkSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgYm94LmJib3gueSA9IG9sZEhlaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBib3guYmJveC55ID0gbm9kZS5kYXRhKFwiYmJveFwiKS5oICogYm94LmJib3gueSAvIG9sZEhlaWdodDtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gKi9cclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBlbGVtZW50VXRpbGl0aWVzLmNhbGN1bGF0ZU1pbldpZHRoID0gZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgdmFyIGRlZmF1bHRXaWR0aCA9IHRoaXMuZ2V0RGVmYXVsdFByb3BlcnRpZXMobm9kZS5kYXRhKFwiY2xhc3NcIikpLndpZHRoO1xyXG5cclxuICAgICAgLy8gTGFiZWwgd2lkdGggY2FsY3VsYXRpb25cclxuICAgICAgdmFyIHN0eWxlID0gbm9kZS5zdHlsZSgpO1xyXG5cclxuICAgICAgdmFyIGZvbnRGYW1pbGl5ID0gc3R5bGVbXCJmb250LWZhbWlseVwiXTtcclxuICAgICAgdmFyIGZvbnRTaXplID0gc3R5bGVbXCJmb250LXNpemVcIl07XHJcbiAgICAgIHZhciBsYWJlbFRleHQgPSBzdHlsZVtcImxhYmVsXCJdO1xyXG5cclxuICAgICAgaWYgKGxhYmVsVGV4dCA9PT0gXCJcIiAmJiBub2RlLmRhdGEoXCJsYWJlbFwiKSAmJiBub2RlLmRhdGEoXCJsYWJlbFwiKSAhPT0gXCJcIikge1xyXG4gICAgICAgIGxhYmVsVGV4dCA9IG5vZGUuZGF0YShcImxhYmVsXCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgbGFiZWxXaWR0aCA9IGVsZW1lbnRVdGlsaXRpZXMuZ2V0V2lkdGhCeUNvbnRlbnQoXHJcbiAgICAgICAgbGFiZWxUZXh0LFxyXG4gICAgICAgIGZvbnRGYW1pbGl5LFxyXG4gICAgICAgIGZvbnRTaXplXHJcbiAgICAgICk7XHJcblxyXG4gICAgICB2YXIgc3RhdGVzYW5kaW5mb3MgPSBub2RlLmRhdGEoXCJzdGF0ZXNhbmRpbmZvc1wiKTtcclxuICAgICAgLy9Ub3AgYW5kIGJvdHRvbSBpbmZvQm94ZXNcclxuICAgICAgLy92YXIgdG9wSW5mb0JveGVzID0gc3RhdGVzYW5kaW5mb3MuZmlsdGVyKGJveCA9PiAoYm94LmFuY2hvclNpZGUgPT09IFwidG9wXCIgfHwgKChib3guYW5jaG9yU2lkZSA9PT0gXCJyaWdodFwiIHx8IGJveC5hbmNob3JTaWRlID09PSBcImxlZnRcIikgJiYgKGJveC5iYm94LnkgPD0gMTIpKSkpO1xyXG4gICAgICAvL3ZhciBib3R0b21JbmZvQm94ZXMgPSBzdGF0ZXNhbmRpbmZvcy5maWx0ZXIoYm94ID0+IChib3guYW5jaG9yU2lkZSA9PT0gXCJib3R0b21cIiB8fCAoKGJveC5hbmNob3JTaWRlID09PSBcInJpZ2h0XCIgfHwgYm94LmFuY2hvclNpZGUgPT09IFwibGVmdFwiKSAmJiAoYm94LmJib3gueSA+PSBub2RlLmRhdGEoJ2Jib3gnKS5oIC0gMTIpKSkpO1xyXG4gICAgICB2YXIgdW5pdEdhcCA9IDU7XHJcbiAgICAgIHZhciB0b3BJZGVhbFdpZHRoID0gdW5pdEdhcDtcclxuICAgICAgdmFyIGJvdHRvbUlkZWFsV2lkdGggPSB1bml0R2FwO1xyXG4gICAgICB2YXIgcmlnaHRNYXhXaWR0aCA9IDA7XHJcbiAgICAgIHZhciBsZWZ0TWF4V2lkdGggPSAwO1xyXG4gICAgICBzdGF0ZXNhbmRpbmZvcy5mb3JFYWNoKGZ1bmN0aW9uIChib3gpIHtcclxuICAgICAgICBpZiAoYm94LmFuY2hvclNpZGUgPT09IFwidG9wXCIpIHtcclxuICAgICAgICAgIHRvcElkZWFsV2lkdGggKz0gYm94LmJib3gudyArIHVuaXRHYXA7XHJcbiAgICAgICAgfSBlbHNlIGlmIChib3guYW5jaG9yU2lkZSA9PT0gXCJib3R0b21cIikge1xyXG4gICAgICAgICAgYm90dG9tSWRlYWxXaWR0aCArPSBib3guYmJveC53ICsgdW5pdEdhcDtcclxuICAgICAgICB9IGVsc2UgaWYgKGJveC5hbmNob3JTaWRlID09PSBcInJpZ2h0XCIpIHtcclxuICAgICAgICAgIHJpZ2h0TWF4V2lkdGggPVxyXG4gICAgICAgICAgICBib3guYmJveC53ID4gcmlnaHRNYXhXaWR0aCA/IGJveC5iYm94LncgOiByaWdodE1heFdpZHRoO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBsZWZ0TWF4V2lkdGggPSBib3guYmJveC53ID4gbGVmdE1heFdpZHRoID8gYm94LmJib3gudyA6IGxlZnRNYXhXaWR0aDtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdmFyIG1pZGRsZVdpZHRoID1cclxuICAgICAgICBsYWJlbFdpZHRoICsgMiAqIE1hdGgubWF4KHJpZ2h0TWF4V2lkdGggLyAyLCBsZWZ0TWF4V2lkdGggLyAyKTtcclxuXHJcbiAgICAgIHZhciBjb21wb3VuZFdpZHRoID0gMDtcclxuICAgICAgaWYgKG5vZGUuaXNQYXJlbnQoKSkge1xyXG4gICAgICAgIGNvbXBvdW5kV2lkdGggPSBub2RlLmNoaWxkcmVuKCkuYm91bmRpbmdCb3goKS53O1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBNYXRoLm1heChcclxuICAgICAgICBtaWRkbGVXaWR0aCxcclxuICAgICAgICBkZWZhdWx0V2lkdGggLyAyLFxyXG4gICAgICAgIHRvcElkZWFsV2lkdGgsXHJcbiAgICAgICAgYm90dG9tSWRlYWxXaWR0aCxcclxuICAgICAgICBjb21wb3VuZFdpZHRoXHJcbiAgICAgICk7XHJcbiAgICB9O1xyXG5cclxuICAgIGVsZW1lbnRVdGlsaXRpZXMuY2FsY3VsYXRlTWluSGVpZ2h0ID0gZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgdmFyIHN0YXRlc2FuZGluZm9zID0gbm9kZS5kYXRhKFwic3RhdGVzYW5kaW5mb3NcIik7XHJcbiAgICAgIHZhciBtYXJnaW4gPSA3O1xyXG4gICAgICB2YXIgdW5pdEdhcCA9IDU7XHJcbiAgICAgIHZhciBkZWZhdWx0SGVpZ2h0ID0gdGhpcy5nZXREZWZhdWx0UHJvcGVydGllcyhub2RlLmRhdGEoXCJjbGFzc1wiKSkuaGVpZ2h0O1xyXG4gICAgICB2YXIgbGVmdEluZm9Cb3hlcyA9IHN0YXRlc2FuZGluZm9zLmZpbHRlcihcclxuICAgICAgICAoYm94KSA9PiBib3guYW5jaG9yU2lkZSA9PT0gXCJsZWZ0XCJcclxuICAgICAgKTtcclxuICAgICAgdmFyIGxlZnRIZWlnaHQgPSB1bml0R2FwO1xyXG4gICAgICBsZWZ0SW5mb0JveGVzLmZvckVhY2goZnVuY3Rpb24gKGJveCkge1xyXG4gICAgICAgIGxlZnRIZWlnaHQgKz0gYm94LmJib3guaCArIHVuaXRHYXA7XHJcbiAgICAgIH0pO1xyXG4gICAgICB2YXIgcmlnaHRJbmZvQm94ZXMgPSBzdGF0ZXNhbmRpbmZvcy5maWx0ZXIoXHJcbiAgICAgICAgKGJveCkgPT4gYm94LmFuY2hvclNpZGUgPT09IFwicmlnaHRcIlxyXG4gICAgICApO1xyXG4gICAgICB2YXIgcmlnaHRIZWlnaHQgPSB1bml0R2FwO1xyXG4gICAgICByaWdodEluZm9Cb3hlcy5mb3JFYWNoKGZ1bmN0aW9uIChib3gpIHtcclxuICAgICAgICByaWdodEhlaWdodCArPSBib3guYmJveC5oICsgdW5pdEdhcDtcclxuICAgICAgfSk7XHJcbiAgICAgIHZhciBzdHlsZSA9IG5vZGUuc3R5bGUoKTtcclxuICAgICAgdmFyIGxhYmVsVGV4dCA9IHN0eWxlW1wibGFiZWxcIl0uc3BsaXQoXCJcXG5cIikuZmlsdGVyKCh0ZXh0KSA9PiB0ZXh0ICE9PSBcIlwiKTtcclxuICAgICAgdmFyIGZvbnRTaXplID0gcGFyc2VGbG9hdChcclxuICAgICAgICBzdHlsZVtcImZvbnQtc2l6ZVwiXS5zdWJzdHJpbmcoMCwgc3R5bGVbXCJmb250LXNpemVcIl0ubGVuZ3RoIC0gMilcclxuICAgICAgKTtcclxuICAgICAgdmFyIHRvdGFsSGVpZ2h0ID0gbGFiZWxUZXh0Lmxlbmd0aCAqIGZvbnRTaXplICsgMiAqIG1hcmdpbjtcclxuXHJcbiAgICAgIHZhciBjb21wb3VuZEhlaWdodCA9IDA7XHJcbiAgICAgIGlmIChub2RlLmlzUGFyZW50KCkpIHtcclxuICAgICAgICBjb21wb3VuZEhlaWdodCA9IG5vZGUuY2hpbGRyZW4oKS5ib3VuZGluZ0JveCgpLmg7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIE1hdGgubWF4KFxyXG4gICAgICAgIHRvdGFsSGVpZ2h0LFxyXG4gICAgICAgIGRlZmF1bHRIZWlnaHQgLyAyLFxyXG4gICAgICAgIGxlZnRIZWlnaHQsXHJcbiAgICAgICAgcmlnaHRIZWlnaHQsXHJcbiAgICAgICAgY29tcG91bmRIZWlnaHRcclxuICAgICAgKTtcclxuICAgIH07XHJcblxyXG4gICAgZWxlbWVudFV0aWxpdGllcy5pc1Jlc2l6ZWRUb0NvbnRlbnQgPSBmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICBpZiAoIW5vZGUgfHwgIW5vZGUuaXNOb2RlKCkgfHwgIW5vZGUuZGF0YShcImJib3hcIikpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vdmFyIHcgPSBub2RlLmRhdGEoJ2Jib3gnKS53O1xyXG4gICAgICAvL3ZhciBoID0gbm9kZS5kYXRhKCdiYm94JykuaDtcclxuICAgICAgdmFyIHcgPSBub2RlLndpZHRoKCk7XHJcbiAgICAgIHZhciBoID0gbm9kZS5oZWlnaHQoKTtcclxuXHJcbiAgICAgIHZhciBtaW5XID0gZWxlbWVudFV0aWxpdGllcy5jYWxjdWxhdGVNaW5XaWR0aChub2RlKTtcclxuICAgICAgdmFyIG1pbkggPSBlbGVtZW50VXRpbGl0aWVzLmNhbGN1bGF0ZU1pbkhlaWdodChub2RlKTtcclxuXHJcbiAgICAgIGlmICh3ID09PSBtaW5XICYmIGggPT09IG1pbkgpIHJldHVybiB0cnVlO1xyXG4gICAgICBlbHNlIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gU2VjdGlvbiBFbmRcclxuICAgIC8vIEFkZCByZW1vdmUgdXRpbGl0aWVzXHJcblxyXG4gICAgLy8gUmVsb2NhdGVzIHN0YXRlIGFuZCBpbmZvIGJveGVzLiBUaGlzIGZ1bmN0aW9uIGlzIGV4cGVjdGVkIHRvIGJlIGNhbGxlZCBhZnRlciBhZGQvcmVtb3ZlIHN0YXRlIGFuZCBpbmZvIGJveGVzXHJcbiAgICBlbGVtZW50VXRpbGl0aWVzLnJlbG9jYXRlU3RhdGVBbmRJbmZvcyA9IGZ1bmN0aW9uIChlbGUpIHtcclxuICAgICAgdmFyIHN0YXRlQW5kSW5mb3MgPVxyXG4gICAgICAgIGVsZS5pc05vZGUgJiYgZWxlLmlzTm9kZSgpID8gZWxlLmRhdGEoXCJzdGF0ZXNhbmRpbmZvc1wiKSA6IGVsZTtcclxuICAgICAgdmFyIGxlbmd0aCA9IHN0YXRlQW5kSW5mb3MubGVuZ3RoO1xyXG4gICAgICBpZiAobGVuZ3RoID09IDApIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH0gZWxzZSBpZiAobGVuZ3RoID09IDEpIHtcclxuICAgICAgICBzdGF0ZUFuZEluZm9zWzBdLmJib3gueCA9IDA7XHJcbiAgICAgICAgc3RhdGVBbmRJbmZvc1swXS5iYm94LnkgPSAtNTA7XHJcbiAgICAgIH0gZWxzZSBpZiAobGVuZ3RoID09IDIpIHtcclxuICAgICAgICBzdGF0ZUFuZEluZm9zWzBdLmJib3gueCA9IDA7XHJcbiAgICAgICAgc3RhdGVBbmRJbmZvc1swXS5iYm94LnkgPSAtNTA7XHJcblxyXG4gICAgICAgIHN0YXRlQW5kSW5mb3NbMV0uYmJveC54ID0gMDtcclxuICAgICAgICBzdGF0ZUFuZEluZm9zWzFdLmJib3gueSA9IDUwO1xyXG4gICAgICB9IGVsc2UgaWYgKGxlbmd0aCA9PSAzKSB7XHJcbiAgICAgICAgc3RhdGVBbmRJbmZvc1swXS5iYm94LnggPSAtMjU7XHJcbiAgICAgICAgc3RhdGVBbmRJbmZvc1swXS5iYm94LnkgPSAtNTA7XHJcblxyXG4gICAgICAgIHN0YXRlQW5kSW5mb3NbMV0uYmJveC54ID0gMjU7XHJcbiAgICAgICAgc3RhdGVBbmRJbmZvc1sxXS5iYm94LnkgPSAtNTA7XHJcblxyXG4gICAgICAgIHN0YXRlQW5kSW5mb3NbMl0uYmJveC54ID0gMDtcclxuICAgICAgICBzdGF0ZUFuZEluZm9zWzJdLmJib3gueSA9IDUwO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHN0YXRlQW5kSW5mb3NbMF0uYmJveC54ID0gLTI1O1xyXG4gICAgICAgIHN0YXRlQW5kSW5mb3NbMF0uYmJveC55ID0gLTUwO1xyXG5cclxuICAgICAgICBzdGF0ZUFuZEluZm9zWzFdLmJib3gueCA9IDI1O1xyXG4gICAgICAgIHN0YXRlQW5kSW5mb3NbMV0uYmJveC55ID0gLTUwO1xyXG5cclxuICAgICAgICBzdGF0ZUFuZEluZm9zWzJdLmJib3gueCA9IC0yNTtcclxuICAgICAgICBzdGF0ZUFuZEluZm9zWzJdLmJib3gueSA9IDUwO1xyXG5cclxuICAgICAgICBzdGF0ZUFuZEluZm9zWzNdLmJib3gueCA9IDI1O1xyXG4gICAgICAgIHN0YXRlQW5kSW5mb3NbM10uYmJveC55ID0gNTA7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gQ2hhbmdlIHN0YXRlIHZhbHVlIG9yIHVuaXQgb2YgaW5mb3JtYXRpb24gYm94IG9mIGdpdmVuIG5vZGVzIHdpdGggZ2l2ZW4gaW5kZXguXHJcbiAgICAvLyBUeXBlIHBhcmFtZXRlciBpbmRpY2F0ZXMgd2hldGhlciB0byBjaGFuZ2UgdmFsdWUgb3IgdmFyaWFibGUsIGl0IGlzIHZhbGlkIGlmIHRoZSBib3ggYXQgdGhlIGdpdmVuIGluZGV4IGlzIGEgc3RhdGUgdmFyaWFibGUuXHJcbiAgICAvLyBWYWx1ZSBwYXJhbWV0ZXIgaXMgdGhlIG5ldyB2YWx1ZSB0byBzZXQuXHJcbiAgICAvLyBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBvbGQgdmFsdWUgb2YgdGhlIGNoYW5nZWQgZGF0YSAoV2UgYXNzdW1lIHRoYXQgdGhlIG9sZCB2YWx1ZSBvZiB0aGUgY2hhbmdlZCBkYXRhIHdhcyB0aGUgc2FtZSBmb3IgYWxsIG5vZGVzKS5cclxuICAgIC8vIEVhY2ggY2hhcmFjdGVyIGFzc3VtZWQgdG8gb2NjdXB5IDggdW5pdFxyXG4gICAgLy8gRWFjaCBpbmZvYm94IGNhbiBoYXZlIGF0IG1vc3QgMzIgdW5pdHMgb2Ygd2lkdGhcclxuICAgIGVsZW1lbnRVdGlsaXRpZXMuY2hhbmdlU3RhdGVPckluZm9Cb3ggPSBmdW5jdGlvbiAoXHJcbiAgICAgIG5vZGVzLFxyXG4gICAgICBpbmRleCxcclxuICAgICAgdmFsdWUsXHJcbiAgICAgIHR5cGVcclxuICAgICkge1xyXG4gICAgICB2YXIgcmVzdWx0O1xyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIG5vZGUgPSBub2Rlc1tpXTtcclxuICAgICAgICB2YXIgc2JnbmNsYXNzID0gbm9kZS5kYXRhKFwiY2xhc3NcIik7XHJcbiAgICAgICAgdmFyIHN0YXRlQW5kSW5mb3MgPSBub2RlLmRhdGEoXCJzdGF0ZXNhbmRpbmZvc1wiKTtcclxuICAgICAgICB2YXIgYm94ID0gc3RhdGVBbmRJbmZvc1tpbmRleF07XHJcbiAgICAgICAgdmFyIG9sZExlbmd0aCA9IGJveC5iYm94Lnc7XHJcbiAgICAgICAgdmFyIG5ld0xlbmd0aCA9IDA7XHJcblxyXG4gICAgICAgIHZhciBjb250ZW50ID0gXCJcIjtcclxuICAgICAgICBpZiAoYm94LmNsYXp6ID09IFwic3RhdGUgdmFyaWFibGVcIikge1xyXG4gICAgICAgICAgaWYgKCFyZXN1bHQpIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gYm94LnN0YXRlW3R5cGVdO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGJveC5zdGF0ZVt0eXBlXSA9IHZhbHVlO1xyXG4gICAgICAgICAgaWYgKGJveC5zdGF0ZVtcInZhbHVlXCJdICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29udGVudCArPSBib3guc3RhdGVbXCJ2YWx1ZVwiXTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgYm94LnN0YXRlW1widmFyaWFibGVcIl0gIT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgICAgICBib3guc3RhdGVbXCJ2YXJpYWJsZVwiXS5sZW5ndGggPiAwXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgY29udGVudCArPSBib3guc3RhdGVbXCJ2YXJpYWJsZVwiXSArIFwiQFwiO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoYm94LmNsYXp6ID09IFwidW5pdCBvZiBpbmZvcm1hdGlvblwiKSB7XHJcbiAgICAgICAgICBpZiAoIXJlc3VsdCkge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBib3gubGFiZWwudGV4dDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGNvbnRlbnQgKz0gdmFsdWU7XHJcbiAgICAgICAgICBib3gubGFiZWwudGV4dCA9IHZhbHVlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYm94LmNsYXp6ID09IFwicmVzaWR1ZSB2YXJpYWJsZVwiKSB7XHJcbiAgICAgICAgICBpZiAoIXJlc3VsdCkge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBib3gucmVzaWR1ZVt0eXBlXTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBib3gucmVzaWR1ZVt0eXBlXSA9IHZhbHVlO1xyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICBib3gucmVzaWR1ZVtcInZhcmlhYmxlXCJdICE9PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgYm94LnJlc2lkdWVbXCJ2YXJpYWJsZVwiXS5sZW5ndGggPiAwXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgY29udGVudCArPSBib3gucmVzaWR1ZVtcInZhcmlhYmxlXCJdO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoYm94LmNsYXp6ID09IFwiYmluZGluZyByZWdpb25cIikge1xyXG4gICAgICAgICAgaWYgKCFyZXN1bHQpIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gYm94LnJlZ2lvblt0eXBlXTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBib3gucmVnaW9uW3R5cGVdID0gdmFsdWU7XHJcbiAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIGJveC5yZWdpb25bXCJ2YXJpYWJsZVwiXSAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgIGJveC5yZWdpb25bXCJ2YXJpYWJsZVwiXS5sZW5ndGggPiAwXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgY29udGVudCArPSBib3gucmVnaW9uW1widmFyaWFibGVcIl07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbWluID1cclxuICAgICAgICAgIHNiZ25jbGFzcyA9PT0gXCJTSUYgbWFjcm9tb2xlY3VsZVwiIHx8XHJcbiAgICAgICAgICAgIHNiZ25jbGFzcyA9PT0gXCJTSUYgc2ltcGxlIGNoZW1pY2FsXCJcclxuICAgICAgICAgICAgPyAxNVxyXG4gICAgICAgICAgICA6IDEyO1xyXG4gICAgICAgIHZhciBmb250RmFtaWx5ID0gYm94LnN0eWxlW1wiZm9udC1mYW1pbHlcIl07XHJcbiAgICAgICAgdmFyIGZvbnRTaXplID0gYm94LnN0eWxlW1wiZm9udC1zaXplXCJdO1xyXG4gICAgICAgIHZhciBib3JkZXJXaWR0aCA9IGJveC5zdHlsZVtcImJvcmRlci13aWR0aFwiXTtcclxuICAgICAgICB2YXIgb3B0cyA9IHtcclxuICAgICAgICAgIG1pbixcclxuICAgICAgICAgIG1heDogNDgsXHJcbiAgICAgICAgICBtYXJnaW46IGJvcmRlcldpZHRoIC8gMiArIDAuNSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBwcmV2aW91c1dpZHRoID0gYm94LmJib3gudztcclxuICAgICAgICBib3guYmJveC53ID0gZWxlbWVudFV0aWxpdGllcy5nZXRXaWR0aEJ5Q29udGVudChcclxuICAgICAgICAgIGNvbnRlbnQsXHJcbiAgICAgICAgICBmb250RmFtaWx5LFxyXG4gICAgICAgICAgZm9udFNpemUsXHJcbiAgICAgICAgICBvcHRzXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgaWYgKGJveC5hbmNob3JTaWRlID09IFwidG9wXCIgfHwgYm94LmFuY2hvclNpZGUgPT0gXCJib3R0b21cIikge1xyXG4gICAgICAgICAgdmFyIHVuaXRMYXlvdXQgPSBub2RlLmRhdGEoKVtcImF1eHVuaXRsYXlvdXRzXCJdW2JveC5hbmNob3JTaWRlXTtcclxuICAgICAgICAgIGlmICh1bml0TGF5b3V0LnVuaXRzW3VuaXRMYXlvdXQudW5pdHMubGVuZ3RoIC0gMV0uaWQgPT0gYm94LmlkKSB7XHJcbiAgICAgICAgICAgIHZhciBib3JkZXJXaWR0aCA9IG5vZGUuZGF0YSgpW1wiYm9yZGVyLXdpZHRoXCJdO1xyXG4gICAgICAgICAgICB2YXIgc2hpZnRBbW91bnQgPVxyXG4gICAgICAgICAgICAgICgoKGJveC5iYm94LncgLSBwcmV2aW91c1dpZHRoKSAvIDIpICogMTAwKSAvXHJcbiAgICAgICAgICAgICAgKG5vZGUub3V0ZXJXaWR0aCgpIC0gYm9yZGVyV2lkdGgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNoaWZ0QW1vdW50ID49IDApIHtcclxuICAgICAgICAgICAgICBpZiAoYm94LmJib3gueCArIHNoaWZ0QW1vdW50IDw9IDEwMCkge1xyXG4gICAgICAgICAgICAgICAgYm94LmJib3gueCA9IGJveC5iYm94LnggKyBzaGlmdEFtb3VudDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyogIGVsc2V7XHJcbiAgICAgICAgICAgICAgdmFyIHByZXZpb3VzSW5mb0Jib3ggPSB7eCA6IDAsIHc6MH07XHJcbiAgICAgICAgICAgICAgaWYodW5pdExheW91dC51bml0cy5sZW5ndGggPiAxKXtcclxuICAgICAgICAgICAgICAgIHByZXZpb3VzSW5mb0Jib3g9IHVuaXRMYXlvdXQudW5pdHNbdW5pdExheW91dC51bml0cy5sZW5ndGgtMl0uYmJveDsgICAgICBcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIHNiZ252aXpJbnN0YW5jZS5jbGFzc2VzLkF1eFVuaXRMYXlvdXQuc2V0SWRlYWxHYXAobm9kZSwgYm94LmFuY2hvclNpZGUpO1xyXG4gICAgICAgICAgICAgIHZhciBpZGVhbEdhcCA9IHNiZ252aXpJbnN0YW5jZS5jbGFzc2VzLkF1eFVuaXRMYXlvdXQuZ2V0Q3VycmVudEdhcChib3guYW5jaG9yU2lkZSk7XHJcbiAgICAgICAgICAgICAgdmFyIG5ld1Bvc2l0aW9uID0gcHJldmlvdXNJbmZvQmJveC54ICsgKHByZXZpb3VzSW5mb0Jib3gudy8yICsgaWRlYWxHYXAgKyBib3guYmJveC53LzIpKjEwMCAvIChub2RlLm91dGVyV2lkdGgoKSAtIGJvcmRlcldpZHRoKTtcclxuICAgICAgICAgICAgICBib3guYmJveC54ID0gbmV3UG9zaXRpb247XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0gKi9cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIGlmIChib3guYW5jaG9yU2lkZSA9PT0gXCJ0b3BcIiB8fCBib3guYW5jaG9yU2lkZSA9PT0gXCJib3R0b21cIikge1xyXG4gICAgICAgICAgYm94LmJib3gueCArPSAoYm94LmJib3gudyAtIG9sZExlbmd0aCkgLyAyO1xyXG4gICAgICAgICAgdmFyIHVuaXRzID0gKG5vZGUuZGF0YSgnYXV4dW5pdGxheW91dHMnKVtib3guYW5jaG9yU2lkZV0pLnVuaXRzO1xyXG4gICAgICAgICAgdmFyIHNoaWZ0SW5kZXggPSAwO1xyXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1bml0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZih1bml0c1tpXSA9PT0gYm94KXtcclxuICAgICAgICAgICAgICBzaGlmdEluZGV4ID0gaTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZm9yICh2YXIgaiA9IHNoaWZ0SW5kZXgrMTsgaiA8IHVuaXRzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgdW5pdHNbal0uYmJveC54ICs9IChib3guYmJveC53IC0gb2xkTGVuZ3RoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9ICovXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vVE9ETyBmaW5kIGEgd2F5IHRvIGVsaW1hdGUgdGhpcyByZWR1bmRhbmN5IHRvIHVwZGF0ZSBpbmZvLWJveCBwb3NpdGlvbnNcclxuICAgICAgbm9kZS5kYXRhKFwiYm9yZGVyLXdpZHRoXCIsIG5vZGUuZGF0YShcImJvcmRlci13aWR0aFwiKSk7XHJcblxyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBBZGQgYSBuZXcgc3RhdGUgb3IgaW5mbyBib3ggdG8gZ2l2ZW4gbm9kZXMuXHJcbiAgICAvLyBUaGUgYm94IGlzIHJlcHJlc2VudGVkIGJ5IHRoZSBwYXJhbWV0ZXIgb2JqLlxyXG4gICAgLy8gVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGp1c3QgYWRkZWQgYm94LlxyXG4gICAgZWxlbWVudFV0aWxpdGllcy5hZGRTdGF0ZU9ySW5mb0JveCA9IGZ1bmN0aW9uIChub2Rlcywgb2JqKSB7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW2ldO1xyXG4gICAgICAgIHZhciBsb2NhdGlvbk9iajtcclxuXHJcbiAgICAgICAgdmFyIGRlZmF1bHRQcm9wcyA9IGVsZW1lbnRVdGlsaXRpZXMuZ2V0RGVmYXVsdFByb3BlcnRpZXMoXHJcbiAgICAgICAgICBub2RlLmRhdGEoXCJjbGFzc1wiKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdmFyIGluZm9ib3hQcm9wcyA9IGRlZmF1bHRQcm9wc1tvYmouY2xhenpdO1xyXG4gICAgICAgIHZhciBiYm94ID0gb2JqLmJib3ggfHwge1xyXG4gICAgICAgICAgdzogaW5mb2JveFByb3BzLndpZHRoLFxyXG4gICAgICAgICAgaDogaW5mb2JveFByb3BzLmhlaWdodCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBzdHlsZSA9IGVsZW1lbnRVdGlsaXRpZXMuZ2V0RGVmYXVsdEluZm9ib3hTdHlsZShcclxuICAgICAgICAgIG5vZGUuZGF0YShcImNsYXNzXCIpLFxyXG4gICAgICAgICAgb2JqLmNsYXp6XHJcbiAgICAgICAgKTtcclxuICAgICAgICBpZiAob2JqLnN0eWxlKSB7XHJcbiAgICAgICAgICAkLmV4dGVuZChzdHlsZSwgb2JqLnN0eWxlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvYmouY2xhenogPT0gXCJ1bml0IG9mIGluZm9ybWF0aW9uXCIpIHtcclxuICAgICAgICAgIGxvY2F0aW9uT2JqID0gc2JnbnZpekluc3RhbmNlLmNsYXNzZXMuVW5pdE9mSW5mb3JtYXRpb24uY3JlYXRlKFxyXG4gICAgICAgICAgICBub2RlLFxyXG4gICAgICAgICAgICBjeSxcclxuICAgICAgICAgICAgb2JqLmxhYmVsLnRleHQsXHJcbiAgICAgICAgICAgIGJib3gsXHJcbiAgICAgICAgICAgIG9iai5sb2NhdGlvbixcclxuICAgICAgICAgICAgb2JqLnBvc2l0aW9uLFxyXG4gICAgICAgICAgICBzdHlsZSxcclxuICAgICAgICAgICAgb2JqLmluZGV4LFxyXG4gICAgICAgICAgICBvYmouaWRcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChvYmouY2xhenogPT0gXCJzdGF0ZSB2YXJpYWJsZVwiKSB7XHJcbiAgICAgICAgICBsb2NhdGlvbk9iaiA9IHNiZ252aXpJbnN0YW5jZS5jbGFzc2VzLlN0YXRlVmFyaWFibGUuY3JlYXRlKFxyXG4gICAgICAgICAgICBub2RlLFxyXG4gICAgICAgICAgICBjeSxcclxuICAgICAgICAgICAgb2JqLnN0YXRlLnZhbHVlLFxyXG4gICAgICAgICAgICBvYmouc3RhdGUudmFyaWFibGUsXHJcbiAgICAgICAgICAgIGJib3gsXHJcbiAgICAgICAgICAgIG9iai5sb2NhdGlvbixcclxuICAgICAgICAgICAgb2JqLnBvc2l0aW9uLFxyXG4gICAgICAgICAgICBzdHlsZSxcclxuICAgICAgICAgICAgb2JqLmluZGV4LFxyXG4gICAgICAgICAgICBvYmouaWRcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChvYmouY2xhenogPT0gXCJyZXNpZHVlIHZhcmlhYmxlXCIpIHtcclxuICAgICAgICAgIGxvY2F0aW9uT2JqID0gc2JnbnZpekluc3RhbmNlLmNsYXNzZXMuUmVzaWR1ZVZhcmlhYmxlLmNyZWF0ZShcclxuICAgICAgICAgICAgbm9kZSxcclxuICAgICAgICAgICAgY3ksXHJcbiAgICAgICAgICAgIG9iai5yZXNpZHVlLnZhbHVlLFxyXG4gICAgICAgICAgICBvYmoucmVzaWR1ZS52YXJpYWJsZSxcclxuICAgICAgICAgICAgYmJveCxcclxuICAgICAgICAgICAgb2JqLmxvY2F0aW9uLFxyXG4gICAgICAgICAgICBvYmoucG9zaXRpb24sXHJcbiAgICAgICAgICAgIHN0eWxlLFxyXG4gICAgICAgICAgICBvYmouaW5kZXgsXHJcbiAgICAgICAgICAgIG9iai5pZFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2UgaWYgKG9iai5jbGF6eiA9PSBcImJpbmRpbmcgcmVnaW9uXCIpIHtcclxuICAgICAgICAgIGxvY2F0aW9uT2JqID0gc2JnbnZpekluc3RhbmNlLmNsYXNzZXMuQmluZGluZ1JlZ2lvbi5jcmVhdGUoXHJcbiAgICAgICAgICAgIG5vZGUsXHJcbiAgICAgICAgICAgIGN5LFxyXG4gICAgICAgICAgICBvYmoucmVnaW9uLnZhbHVlLFxyXG4gICAgICAgICAgICBvYmoucmVnaW9uLnZhcmlhYmxlLFxyXG4gICAgICAgICAgICBiYm94LFxyXG4gICAgICAgICAgICBvYmoubG9jYXRpb24sXHJcbiAgICAgICAgICAgIG9iai5wb3NpdGlvbixcclxuICAgICAgICAgICAgc3R5bGUsXHJcbiAgICAgICAgICAgIG9iai5pbmRleCxcclxuICAgICAgICAgICAgb2JqLmlkXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gbG9jYXRpb25PYmo7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFJlbW92ZSB0aGUgc3RhdGUgb3IgaW5mbyBib3hlcyBvZiB0aGUgZ2l2ZW4gbm9kZXMgYXQgZ2l2ZW4gaW5kZXguXHJcbiAgICAvLyBSZXR1cm5zIHRoZSByZW1vdmVkIGJveC5cclxuICAgIGVsZW1lbnRVdGlsaXRpZXMucmVtb3ZlU3RhdGVPckluZm9Cb3ggPSBmdW5jdGlvbiAobm9kZXMsIGxvY2F0aW9uT2JqKSB7XHJcbiAgICAgIHZhciBvYmo7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW2ldO1xyXG4gICAgICAgIHZhciBzdGF0ZUFuZEluZm9zID0gbm9kZS5kYXRhKFwic3RhdGVzYW5kaW5mb3NcIik7XHJcbiAgICAgICAgdmFyIHVuaXQgPSBzdGF0ZUFuZEluZm9zW2xvY2F0aW9uT2JqLmluZGV4XTtcclxuXHJcbiAgICAgICAgdmFyIHVuaXRDbGFzcyA9IHNiZ252aXpJbnN0YW5jZS5jbGFzc2VzLmdldEF1eFVuaXRDbGFzcyh1bml0KTtcclxuXHJcbiAgICAgICAgb2JqID0gdW5pdENsYXNzLnJlbW92ZSh1bml0LCBjeSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vVGlsZXMgaW5mb3JtYXRpb25zIGJveGVzIGZvciBnaXZlbiBhbmNob3JTaWRlc1xyXG4gICAgZWxlbWVudFV0aWxpdGllcy5maXRVbml0cyA9IGZ1bmN0aW9uIChub2RlLCBsb2NhdGlvbnMpIHtcclxuICAgICAgdmFyIG9iaiA9IFtdO1xyXG4gICAgICBub2RlLmRhdGEoXCJzdGF0ZXNhbmRpbmZvc1wiKS5mb3JFYWNoKGZ1bmN0aW9uIChlbGUpIHtcclxuICAgICAgICBvYmoucHVzaCh7XHJcbiAgICAgICAgICB4OiBlbGUuYmJveC54LFxyXG4gICAgICAgICAgeTogZWxlLmJib3gueSxcclxuICAgICAgICAgIGFuY2hvclNpZGU6IGVsZS5hbmNob3JTaWRlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgICAgc2JnbnZpekluc3RhbmNlLmNsYXNzZXMuQXV4VW5pdExheW91dC5maXRVbml0cyhub2RlLCBjeSwgbG9jYXRpb25zKTtcclxuICAgICAgcmV0dXJuIG9iajtcclxuICAgIH07XHJcblxyXG4gICAgLy9DaGVjayB3aGljaCBhbmNob3JzaWRlcyBmaXRzXHJcbiAgICBlbGVtZW50VXRpbGl0aWVzLmNoZWNrRml0ID0gZnVuY3Rpb24gKG5vZGUsIGxvY2F0aW9uKSB7XHJcbiAgICAgIC8vaWYgbm8gbG9jYXRpb24gZ2l2ZW4sIGl0IGNoZWNrcyBhbGwgcG9zc2libGUgbG9jYXRpb25zXHJcbiAgICAgIHJldHVybiBzYmdudml6SW5zdGFuY2UuY2xhc3Nlcy5BdXhVbml0TGF5b3V0LmNoZWNrRml0KG5vZGUsIGN5LCBsb2NhdGlvbik7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vTW9kaWZ5IGFycmF5IG9mIGF1eCBsYXlvdXQgdW5pdHNcclxuICAgIGVsZW1lbnRVdGlsaXRpZXMubW9kaWZ5VW5pdHMgPSBmdW5jdGlvbiAobm9kZSwgdW5pdCwgYW5jaG9yU2lkZSkge1xyXG4gICAgICBzYmdudml6SW5zdGFuY2UuY2xhc3Nlcy5BdXhVbml0TGF5b3V0Lm1vZGlmeVVuaXRzKFxyXG4gICAgICAgIG5vZGUsXHJcbiAgICAgICAgdW5pdCxcclxuICAgICAgICBhbmNob3JTaWRlLFxyXG4gICAgICAgIGN5XHJcbiAgICAgICk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFNldCBtdWx0aW1lciBzdGF0dXMgb2YgdGhlIGdpdmVuIG5vZGVzIHRvIHRoZSBnaXZlbiBzdGF0dXMuXHJcbiAgICBlbGVtZW50VXRpbGl0aWVzLnNldE11bHRpbWVyU3RhdHVzID0gZnVuY3Rpb24gKG5vZGVzLCBzdGF0dXMpIHtcclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBub2RlID0gbm9kZXNbaV07XHJcbiAgICAgICAgdmFyIHNiZ25jbGFzcyA9IG5vZGUuZGF0YShcImNsYXNzXCIpO1xyXG4gICAgICAgIHZhciBpc011bHRpbWVyID0gbm9kZS5kYXRhKFwiY2xhc3NcIikuZW5kc1dpdGgoXCIgbXVsdGltZXJcIik7XHJcblxyXG4gICAgICAgIGlmIChzdGF0dXMpIHtcclxuICAgICAgICAgIC8vIE1ha2UgbXVsdGltZXIgc3RhdHVzIHRydWVcclxuICAgICAgICAgIGlmICghaXNNdWx0aW1lcikge1xyXG4gICAgICAgICAgICBub2RlLmRhdGEoXCJjbGFzc1wiLCBzYmduY2xhc3MgKyBcIiBtdWx0aW1lclwiKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gTWFrZSBtdWx0aW1lciBzdGF0dXMgZmFsc2VcclxuICAgICAgICAgIGlmIChpc011bHRpbWVyKSB7XHJcbiAgICAgICAgICAgIG5vZGUuZGF0YShcImNsYXNzXCIsIHNiZ25jbGFzcy5yZXBsYWNlKFwiIG11bHRpbWVyXCIsIFwiXCIpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy9OZWVkIHRvIGFkZCB0aGlzIHRvIGRvYyA6IFRPLURPXHJcbiAgICBlbGVtZW50VXRpbGl0aWVzLnNldEFjdGl2ZVN0YXR1cyA9IGZ1bmN0aW9uIChub2Rlcywgc3RhdHVzKSB7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW2ldO1xyXG4gICAgICAgIHZhciBzYmduY2xhc3MgPSBub2RlLmRhdGEoXCJjbGFzc1wiKTtcclxuICAgICAgICB2YXIgaXNBY3RpdmUgPSBub2RlLmRhdGEoXCJjbGFzc1wiKS5zdGFydHNXaXRoKFwiYWN0aXZlIFwiKTtcclxuXHJcbiAgICAgICAgaWYgKHN0YXR1cykge1xyXG4gICAgICAgICAgLy8gTWFrZSBtdWx0aW1lciBzdGF0dXMgdHJ1ZVxyXG4gICAgICAgICAgaWYgKCFpc0FjdGl2ZSkge1xyXG4gICAgICAgICAgICBub2RlLmRhdGEoXCJjbGFzc1wiLCBcImFjdGl2ZSBcIiArIHNiZ25jbGFzcyk7XHJcbiAgICAgICAgICAgIC8vbm9kZS5kYXRhKCdjbGFzcycsIHNiZ25jbGFzcyArICcgbXVsdGltZXInKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gTWFrZSBtdWx0aW1lciBzdGF0dXMgZmFsc2VcclxuICAgICAgICAgIGlmIChpc0FjdGl2ZSkge1xyXG4gICAgICAgICAgICBub2RlLmRhdGEoXCJjbGFzc1wiLCBzYmduY2xhc3MucmVwbGFjZShcImFjdGl2ZSBcIiwgXCJcIikpO1xyXG4gICAgICAgICAgICAvL25vZGUuZGF0YSgnY2xhc3MnLCBzYmduY2xhc3MucmVwbGFjZSgnIG11bHRpbWVyJywgJycpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy9OZWVkIHRvIGFkZCB0aGlzIHRvIGRvYyA6IFRPLURPXHJcbiAgICBlbGVtZW50VXRpbGl0aWVzLnNldEh5cG90aGV0aWNhbFN0YXR1cyA9IGZ1bmN0aW9uIChub2Rlcywgc3RhdHVzKSB7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW2ldO1xyXG4gICAgICAgIHZhciBzYmduY2xhc3MgPSBub2RlLmRhdGEoXCJjbGFzc1wiKTtcclxuICAgICAgICB2YXIgaXNIeXBvdGhldGljYWwgPSBub2RlLmRhdGEoXCJjbGFzc1wiKS5pbmNsdWRlcyhcImh5cG90aGV0aWNhbFwiKTtcclxuICAgICAgICB2YXIgaXNBY3RpdmUgPSBub2RlLmRhdGEoXCJjbGFzc1wiKS5zdGFydHNXaXRoKFwiYWN0aXZlIFwiKTtcclxuXHJcbiAgICAgICAgaWYgKHN0YXR1cykge1xyXG4gICAgICAgICAgLy8gTWFrZSBtdWx0aW1lciBzdGF0dXMgdHJ1ZVxyXG4gICAgICAgICAgaWYgKCFpc0h5cG90aGV0aWNhbCkge1xyXG4gICAgICAgICAgICBpZiAoaXNBY3RpdmUpIHtcclxuICAgICAgICAgICAgICB2YXIgdG1wID0gc2JnbmNsYXNzLnN1YnN0cmluZyg3KTtcclxuICAgICAgICAgICAgICBub2RlLmRhdGEoXCJjbGFzc1wiLCBcImFjdGl2ZSBoeXBvdGhldGljYWwgXCIgKyB0bXApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIG5vZGUuZGF0YShcImNsYXNzXCIsIFwiaHlwb3RoZXRpY2FsIFwiICsgc2JnbmNsYXNzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL25vZGUuZGF0YSgnY2xhc3MnLCBzYmduY2xhc3MgKyAnIG11bHRpbWVyJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIE1ha2UgbXVsdGltZXIgc3RhdHVzIGZhbHNlXHJcbiAgICAgICAgICBpZiAoaXNIeXBvdGhldGljYWwpIHtcclxuICAgICAgICAgICAgbm9kZS5kYXRhKFwiY2xhc3NcIiwgc2JnbmNsYXNzLnJlcGxhY2UoXCJoeXBvdGhldGljYWwgXCIsIFwiXCIpKTtcclxuICAgICAgICAgICAgLy9ub2RlLmRhdGEoJ2NsYXNzJywgc2JnbmNsYXNzLnJlcGxhY2UoJyBtdWx0aW1lcicsICcnKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIENoYW5nZSBmb250IHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIGVsZW1lbnRzIHdpdGggZ2l2ZW4gZm9udCBkYXRhXHJcbiAgICBlbGVtZW50VXRpbGl0aWVzLmNoYW5nZUZvbnRQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKGVsZXMsIGRhdGEpIHtcclxuICAgICAgZm9yICh2YXIgcHJvcCBpbiBkYXRhKSB7XHJcbiAgICAgICAgZWxlcy5kYXRhKHByb3AsIGRhdGFbcHJvcF0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFRoaXMgZnVuY3Rpb24gZ2V0cyBhbiBlZGdlLCBhbmQgZW5kcyBvZiB0aGF0IGVkZ2UgKE9wdGlvbmFsbHkgaXQgbWF5IHRha2UganVzdCB0aGUgY2xhc3NlcyBvZiB0aGUgZWRnZSBhcyB3ZWxsKSBhcyBwYXJhbWV0ZXJzLlxyXG4gICAgLy8gSXQgbWF5IHJldHVybiAndmFsaWQnICh0aGF0IGVuZHMgaXMgdmFsaWQgZm9yIHRoYXQgZWRnZSksICdyZXZlcnNlJyAodGhhdCBlbmRzIGlzIG5vdCB2YWxpZCBmb3IgdGhhdCBlZGdlIGJ1dCB0aGV5IHdvdWxkIGJlIHZhbGlkXHJcbiAgICAvLyBpZiB5b3UgcmV2ZXJzZSB0aGUgc291cmNlIGFuZCB0YXJnZXQpLCAnaW52YWxpZCcgKHRoYXQgZW5kcyBhcmUgdG90YWxseSBpbnZhbGlkIGZvciB0aGF0IGVkZ2UpLlxyXG4gICAgZWxlbWVudFV0aWxpdGllcy52YWxpZGF0ZUFycm93RW5kcyA9IGZ1bmN0aW9uIChcclxuICAgICAgZWRnZSxcclxuICAgICAgc291cmNlLFxyXG4gICAgICB0YXJnZXQsXHJcbiAgICAgIGlzUmVwbGFjZW1lbnRcclxuICAgICkge1xyXG4gICAgICAvLyBpZiBtYXAgdHlwZSBpcyBVbmtub3duIC0tIG5vIHJ1bGVzIGFwcGxpZWRcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGVsZW1lbnRVdGlsaXRpZXMuZ2V0TWFwVHlwZSgpID09IFwiSHlicmlkQW55XCIgfHxcclxuICAgICAgICBlbGVtZW50VXRpbGl0aWVzLmdldE1hcFR5cGUoKSA9PSBcIkh5YnJpZFNiZ25cIiB8fFxyXG4gICAgICAgICFlbGVtZW50VXRpbGl0aWVzLmdldE1hcFR5cGUoKVxyXG4gICAgICApXHJcbiAgICAgICAgcmV0dXJuIFwidmFsaWRcIjtcclxuXHJcbiAgICAgIHZhciBlZGdlY2xhc3MgPSB0eXBlb2YgZWRnZSA9PT0gXCJzdHJpbmdcIiA/IGVkZ2UgOiBlZGdlLmRhdGEoXCJjbGFzc1wiKTtcclxuICAgICAgdmFyIHNvdXJjZWNsYXNzID0gc291cmNlLmRhdGEoXCJjbGFzc1wiKTtcclxuICAgICAgdmFyIHRhcmdldGNsYXNzID0gdGFyZ2V0LmRhdGEoXCJjbGFzc1wiKTtcclxuICAgICAgdmFyIG1hcFR5cGUgPSBlbGVtZW50VXRpbGl0aWVzLmdldE1hcFR5cGUoKTtcclxuICAgICAgdmFyIGVkZ2VDb25zdHJhaW50cyA9XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllc1ttYXBUeXBlXS5jb25uZWN0aXZpdHlDb25zdHJhaW50c1tlZGdlY2xhc3NdO1xyXG4gICAgICBpZiAobWFwVHlwZSA9PSBcIkFGXCIpIHtcclxuICAgICAgICBpZiAoc291cmNlY2xhc3Muc3RhcnRzV2l0aChcIkJBXCIpKVxyXG4gICAgICAgICAgLy8gd2UgaGF2ZSBzZXBhcmF0ZSBjbGFzc2VzIGZvciBlYWNoIGJpb2xvZ2ljYWwgYWN0aXZpdHlcclxuICAgICAgICAgIHNvdXJjZWNsYXNzID0gXCJiaW9sb2dpY2FsIGFjdGl2aXR5XCI7IC8vIGJ1dCBzYW1lIHJ1bGUgYXBwbGllcyB0byBhbGwgb2YgdGhlbVxyXG5cclxuICAgICAgICBpZiAodGFyZ2V0Y2xhc3Muc3RhcnRzV2l0aChcIkJBXCIpKVxyXG4gICAgICAgICAgLy8gd2UgaGF2ZSBzZXBhcmF0ZSBjbGFzc2VzIGZvciBlYWNoIGJpb2xvZ2ljYWwgYWN0aXZpdHlcclxuICAgICAgICAgIHRhcmdldGNsYXNzID0gXCJiaW9sb2dpY2FsIGFjdGl2aXR5XCI7IC8vIGJ1dCBzYW1lIHJ1bGUgYXBwbGllcyB0byBhbGwgb2YgdGhlbVxyXG4gICAgICB9IGVsc2UgaWYgKG1hcFR5cGUgPT0gXCJQRFwiKSB7XHJcbiAgICAgICAgc291cmNlY2xhc3MgPSBzb3VyY2VjbGFzcy5yZXBsYWNlKC9cXHMqbXVsdGltZXIkLywgXCJcIik7XHJcbiAgICAgICAgdGFyZ2V0Y2xhc3MgPSB0YXJnZXRjbGFzcy5yZXBsYWNlKC9cXHMqbXVsdGltZXIkLywgXCJcIik7XHJcbiAgICAgIH0gZWxzZSBpZiAobWFwVHlwZSA9PSBcIlNCTUxcIikge1xyXG4gICAgICAgIHNvdXJjZWNsYXNzID0gc291cmNlY2xhc3MucmVwbGFjZSgvXFxzKm11bHRpbWVyJC8sIFwiXCIpO1xyXG4gICAgICAgIHRhcmdldGNsYXNzID0gdGFyZ2V0Y2xhc3MucmVwbGFjZSgvXFxzKm11bHRpbWVyJC8sIFwiXCIpO1xyXG4gICAgICAgIHNvdXJjZWNsYXNzID0gc291cmNlY2xhc3MucmVwbGFjZShcImFjdGl2ZSBcIiwgXCJcIik7XHJcbiAgICAgICAgdGFyZ2V0Y2xhc3MgPSB0YXJnZXRjbGFzcy5yZXBsYWNlKFwiYWN0aXZlIFwiLCBcIlwiKTtcclxuICAgICAgICBzb3VyY2VjbGFzcyA9IHNvdXJjZWNsYXNzLnJlcGxhY2UoXCJoeXBvdGhldGljYWwgXCIsIFwiXCIpO1xyXG4gICAgICAgIHRhcmdldGNsYXNzID0gdGFyZ2V0Y2xhc3MucmVwbGFjZShcImh5cG90aGV0aWNhbCBcIiwgXCJcIik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGdpdmVuIGEgbm9kZSwgYWN0aW5nIGFzIHNvdXJjZSBvciB0YXJnZXQsIHJldHVybnMgYm9vbGVhbiB3ZXRoZXIgb3Igbm90IGl0IGhhcyB0b28gbWFueSBlZGdlcyBhbHJlYWR5XHJcbiAgICAgIGZ1bmN0aW9uIGhhc1Rvb01hbnlFZGdlcyhub2RlLCBzb3VyY2VPclRhcmdldCkge1xyXG4gICAgICAgIHZhciBub2RlY2xhc3MgPSBub2RlLmRhdGEoXCJjbGFzc1wiKTtcclxuICAgICAgICBub2RlY2xhc3MgPSBub2RlY2xhc3MucmVwbGFjZSgvXFxzKm11bHRpbWVyJC8sIFwiXCIpO1xyXG4gICAgICAgIG5vZGVjbGFzcyA9IG5vZGVjbGFzcy5yZXBsYWNlKFwiYWN0aXZlIFwiLCBcIlwiKTtcclxuICAgICAgICBub2RlY2xhc3MgPSBub2RlY2xhc3MucmVwbGFjZShcImh5cG90aGV0aWNhbCBcIiwgXCJcIik7XHJcbiAgICAgICAgaWYgKG5vZGVjbGFzcy5zdGFydHNXaXRoKFwiQkFcIikpIG5vZGVjbGFzcyA9IFwiYmlvbG9naWNhbCBhY3Rpdml0eVwiO1xyXG5cclxuICAgICAgICAvKlxyXG4gICAgICAgICAgT24gdGhlIGxvZ2ljIGJlbG93OlxyXG5cclxuICAgICAgICAgIEN1cnJlbnQgZWRnZSBjb3VudCAoaW5jb21pbmcgb3Igb3V0Z29pbmcpIG9mIG5vZGVzIHNob3VsZCBiZSBzdHJpY3RseSBsZXNzIFxyXG4gICAgICAgICAgdGhhbiB0aGUgbWF4aW11bSBhbGxvd2VkIGlmIHdlIGFyZSBhZGRpbmcgYW4gZWRnZSB0byB0aGUgbm9kZS4gVGhpcyB3YXlcclxuICAgICAgICAgIGl0IHdpbGwgbmV2ZXIgZXhjZWVkIHRoZSBtYXggY291bnQuXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIEVkZ2VzIGNhbiBiZSBhZGRlZCBpbiB0d28gZGlmZmVyZW50IHdheXMuIEVpdGhlciB0aGV5IGFyZSBhZGRlZCBkaXJlY3RseSBvclxyXG4gICAgICAgICAgdGhleSBhcmUgYWRkZWQgYnkgYmVpbmcgcmVwbGFjZWQgZnJvbSBhbm90aGVyIG5vZGUsIGkuZSBkaXNjb25uZWN0ZWQgZnJvbVxyXG4gICAgICAgICAgb25lIGFuZCBjb25uZWN0ZWQgdG8gYW5vdGhlci5cclxuXHJcbiAgICAgICAgICBXZSBjYW4gZGV0ZWN0IGlmIHRoZSBlZGdlIGJlaW5nIGFkZGVkIGlzIGFkZGVkIGZyb20gYSByZXBsYWNlbWVudCBieSBjaGVja2luZ1xyXG4gICAgICAgICAgd2hldGhlciB0aGUgc291cmNlIHN0YXllZCB0aGUgc2FtZSB3aGVuIGNoZWNraW5nIGVkZ2UgY291bnRzIG9mIHRoZSBzb3VyY2Ugbm9kZSxcclxuICAgICAgICAgIGFuZCB3aGV0aGVyIHRoZSB0YXJnZXQgc3RheWVkIHRoZSBzYW1lIHdoZW4gY2hlY2tpbmcgZWRnZSBjb3VudHMgb2YgdGhlXHJcbiAgICAgICAgICB0YXJnZXQgbm9kZS5cclxuXHJcbiAgICAgICAgICBDdXJyZW50IGVkZ2UgY291bnQgb2Ygbm9kZXMgY2FuIGJlIGFsbG93ZWQgdG8gYmUgZXF1YWwgdG8gdGhlIG1heGltdW0gaW4gXHJcbiAgICAgICAgICBjYXNlcyB3aGVyZSBhIHJlcGxhY2VtZW50IGlzIG1hZGUuIEJ1dCB3ZSBzaG91bGQgYmUgY2FyZWZ1bCB0aGF0IHRoaXNcclxuICAgICAgICAgIHJlcGxhY2VtZW50IG9wZXJhdGlvbiBpcyBub3QgYWxzbyBhbiBhZGRpdGlvbiBvcGVyYXRpb24gYXMgZGVzY3JpYmVkIGFib3ZlLlxyXG4gICAgICAgICovXHJcblxyXG4gICAgICAgIHZhciB0b3RhbFRvb01hbnkgPSB0cnVlO1xyXG4gICAgICAgIHZhciBlZGdlVG9vTWFueSA9IHRydWU7XHJcbiAgICAgICAgaWYgKHNvdXJjZU9yVGFyZ2V0ID09IFwic291cmNlXCIpIHtcclxuICAgICAgICAgIHZhciBzYW1lRWRnZUNvdW50T3V0ID0gbm9kZVxyXG4gICAgICAgICAgICAub3V0Z29lcnMoJ2VkZ2VbY2xhc3M9XCInICsgZWRnZWNsYXNzICsgJ1wiXScpXHJcbiAgICAgICAgICAgIC5zaXplKCk7XHJcbiAgICAgICAgICB2YXIgdG90YWxFZGdlQ291bnRPdXQgPSBub2RlLm91dGdvZXJzKFwiZWRnZVwiKS5zaXplKCk7XHJcbiAgICAgICAgICB2YXIgbWF4VG90YWwgPSBlZGdlQ29uc3RyYWludHNbbm9kZWNsYXNzXS5hc1NvdXJjZS5tYXhUb3RhbDtcclxuICAgICAgICAgIHZhciBtYXhFZGdlID0gZWRnZUNvbnN0cmFpbnRzW25vZGVjbGFzc10uYXNTb3VyY2UubWF4RWRnZTtcclxuXHJcbiAgICAgICAgICB2YXIgY29tcGFyZVN0cmljdCA9ICEoaXNSZXBsYWNlbWVudCAmJiBlZGdlLnNvdXJjZSgpID09PSBzb3VyY2UpO1xyXG5cclxuICAgICAgICAgIHZhciB3aXRoaW5MaW1pdHMgPVxyXG4gICAgICAgICAgICAhbWF4VG90YWwgfHxcclxuICAgICAgICAgICAgKGNvbXBhcmVTdHJpY3QgJiYgdG90YWxFZGdlQ291bnRPdXQgPCBtYXhUb3RhbCkgfHxcclxuICAgICAgICAgICAgKCFjb21wYXJlU3RyaWN0ICYmIHRvdGFsRWRnZUNvdW50T3V0IDw9IG1heFRvdGFsKTtcclxuXHJcbiAgICAgICAgICBpZiAod2l0aGluTGltaXRzKSB7XHJcbiAgICAgICAgICAgIHRvdGFsVG9vTWFueSA9IGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gdGhlbiBjaGVjayBsaW1pdHMgZm9yIHRoaXMgc3BlY2lmaWMgZWRnZSBjbGFzc1xyXG5cclxuICAgICAgICAgIHdpdGhpbkxpbWl0cyA9XHJcbiAgICAgICAgICAgICFtYXhFZGdlIHx8XHJcbiAgICAgICAgICAgIChjb21wYXJlU3RyaWN0ICYmIHNhbWVFZGdlQ291bnRPdXQgPCBtYXhFZGdlKSB8fFxyXG4gICAgICAgICAgICAoIWNvbXBhcmVTdHJpY3QgJiYgc2FtZUVkZ2VDb3VudE91dCA8PSBtYXhFZGdlKTtcclxuXHJcbiAgICAgICAgICBpZiAod2l0aGluTGltaXRzKSB7XHJcbiAgICAgICAgICAgIGVkZ2VUb29NYW55ID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gaWYgb25seSBvbmUgb2YgdGhlIGxpbWl0cyBpcyByZWFjaGVkIHRoZW4gZWRnZSBpcyBpbnZhbGlkXHJcbiAgICAgICAgICByZXR1cm4gdG90YWxUb29NYW55IHx8IGVkZ2VUb29NYW55O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyBub2RlIGlzIHVzZWQgYXMgdGFyZ2V0XHJcbiAgICAgICAgICB2YXIgc2FtZUVkZ2VDb3VudEluID0gbm9kZVxyXG4gICAgICAgICAgICAuaW5jb21lcnMoJ2VkZ2VbY2xhc3M9XCInICsgZWRnZWNsYXNzICsgJ1wiXScpXHJcbiAgICAgICAgICAgIC5zaXplKCk7XHJcbiAgICAgICAgICB2YXIgdG90YWxFZGdlQ291bnRJbiA9IG5vZGUuaW5jb21lcnMoXCJlZGdlXCIpLnNpemUoKTtcclxuICAgICAgICAgIHZhciBtYXhUb3RhbCA9IGVkZ2VDb25zdHJhaW50c1tub2RlY2xhc3NdLmFzVGFyZ2V0Lm1heFRvdGFsO1xyXG4gICAgICAgICAgdmFyIG1heEVkZ2UgPSBlZGdlQ29uc3RyYWludHNbbm9kZWNsYXNzXS5hc1RhcmdldC5tYXhFZGdlO1xyXG5cclxuICAgICAgICAgIHZhciBjb21wYXJlU3RyaWN0ID0gIShpc1JlcGxhY2VtZW50ICYmIGVkZ2UudGFyZ2V0KCkgPT09IHRhcmdldCk7XHJcblxyXG4gICAgICAgICAgdmFyIHdpdGhpbkxpbWl0cyA9XHJcbiAgICAgICAgICAgICFtYXhUb3RhbCB8fFxyXG4gICAgICAgICAgICAoY29tcGFyZVN0cmljdCAmJiB0b3RhbEVkZ2VDb3VudEluIDwgbWF4VG90YWwpIHx8XHJcbiAgICAgICAgICAgICghY29tcGFyZVN0cmljdCAmJiB0b3RhbEVkZ2VDb3VudEluIDw9IG1heFRvdGFsKTtcclxuXHJcbiAgICAgICAgICBpZiAod2l0aGluTGltaXRzKSB7XHJcbiAgICAgICAgICAgIHRvdGFsVG9vTWFueSA9IGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHdpdGhpbkxpbWl0cyA9XHJcbiAgICAgICAgICAgICFtYXhFZGdlIHx8XHJcbiAgICAgICAgICAgIChjb21wYXJlU3RyaWN0ICYmIHNhbWVFZGdlQ291bnRJbiA8IG1heEVkZ2UpIHx8XHJcbiAgICAgICAgICAgICghY29tcGFyZVN0cmljdCAmJiBzYW1lRWRnZUNvdW50SW4gPD0gbWF4RWRnZSk7XHJcblxyXG4gICAgICAgICAgaWYgKHdpdGhpbkxpbWl0cykge1xyXG4gICAgICAgICAgICBlZGdlVG9vTWFueSA9IGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIHRvdGFsVG9vTWFueSB8fCBlZGdlVG9vTWFueTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGlzSW5Db21wbGV4KG5vZGUpIHtcclxuICAgICAgICB2YXIgcGFyZW50Q2xhc3MgPSBub2RlLnBhcmVudCgpLmRhdGEoXCJjbGFzc1wiKTtcclxuICAgICAgICByZXR1cm4gcGFyZW50Q2xhc3MgJiYgcGFyZW50Q2xhc3Muc3RhcnRzV2l0aChcImNvbXBsZXhcIik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChpc0luQ29tcGxleChzb3VyY2UpIHx8IGlzSW5Db21wbGV4KHRhcmdldCkpIHtcclxuICAgICAgICAvLyBzdWJ1bml0cyBvZiBhIGNvbXBsZXggYXJlIG5vIGxvbmdlciBFUE5zLCBubyBjb25uZWN0aW9uIGFsbG93ZWRcclxuICAgICAgICByZXR1cm4gXCJpbnZhbGlkXCI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGNoZWNrIG5hdHVyZSBvZiBjb25uZWN0aW9uXHJcbiAgICAgIGlmIChcclxuICAgICAgICBlZGdlQ29uc3RyYWludHNbc291cmNlY2xhc3NdLmFzU291cmNlLmlzQWxsb3dlZCAmJlxyXG4gICAgICAgIGVkZ2VDb25zdHJhaW50c1t0YXJnZXRjbGFzc10uYXNUYXJnZXQuaXNBbGxvd2VkXHJcbiAgICAgICkge1xyXG4gICAgICAgIC8vIGNoZWNrIGFtb3VudCBvZiBjb25uZWN0aW9uc1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICFoYXNUb29NYW55RWRnZXMoc291cmNlLCBcInNvdXJjZVwiKSAmJlxyXG4gICAgICAgICAgIWhhc1Rvb01hbnlFZGdlcyh0YXJnZXQsIFwidGFyZ2V0XCIpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICByZXR1cm4gXCJ2YWxpZFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICAvLyB0cnkgdG8gcmV2ZXJzZVxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgZWRnZUNvbnN0cmFpbnRzW3RhcmdldGNsYXNzXS5hc1NvdXJjZS5pc0FsbG93ZWQgJiZcclxuICAgICAgICBlZGdlQ29uc3RyYWludHNbc291cmNlY2xhc3NdLmFzVGFyZ2V0LmlzQWxsb3dlZFxyXG4gICAgICApIHtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAhaGFzVG9vTWFueUVkZ2VzKHRhcmdldCwgXCJzb3VyY2VcIikgJiZcclxuICAgICAgICAgICFoYXNUb29NYW55RWRnZXMoc291cmNlLCBcInRhcmdldFwiKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgcmV0dXJuIFwicmV2ZXJzZVwiO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gXCJpbnZhbGlkXCI7XHJcbiAgICB9O1xyXG5cclxuICAgIGVsZW1lbnRVdGlsaXRpZXMuZGVsZXRlQW5kUGVyZm9ybUxheW91dCA9IGZ1bmN0aW9uIChlbGVzLCBsYXlvdXRwYXJhbSkge1xyXG4gICAgICB2YXIgcmVzdWx0ID0gZWxlcy5yZW1vdmUoKTtcclxuICAgICAgaWYgKHR5cGVvZiBsYXlvdXRwYXJhbSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgbGF5b3V0cGFyYW0oKTsgLy8gSWYgbGF5b3V0cGFyYW0gaXMgYSBmdW5jdGlvbiBleGVjdXRlIGl0XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFyIGxheW91dCA9IGN5LmxheW91dChsYXlvdXRwYXJhbSk7IC8vIElmIGxheW91dHBhcmFtIGlzIGxheW91dCBvcHRpb25zIGNhbGwgbGF5b3V0IHdpdGggdGhhdCBvcHRpb25zLlxyXG5cclxuICAgICAgICAvLyBEbyB0aGlzIGNoZWNrIGZvciBjeXRvc2NhcGUuanMgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxyXG4gICAgICAgIGlmIChsYXlvdXQgJiYgbGF5b3V0LnJ1bikge1xyXG4gICAgICAgICAgbGF5b3V0LnJ1bigpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcblxyXG4gICAgLypcclxuICAgICAqIEhpZGUgZ2l2ZW4gZWxlcyBhbmQgcGVyZm9ybSBnaXZlbiBsYXlvdXQgYWZ0ZXJ3YXJkLiBMYXlvdXQgcGFyYW1ldGVyIG1heSBiZSBsYXlvdXQgb3B0aW9uc1xyXG4gICAgICogb3IgYSBmdW5jdGlvbiB0byBjYWxsLlxyXG4gICAgICovXHJcbiAgICBlbGVtZW50VXRpbGl0aWVzLmhpZGVBbmRQZXJmb3JtTGF5b3V0ID0gZnVuY3Rpb24gKGVsZXMsIGxheW91dHBhcmFtKSB7XHJcbiAgICAgIHZhciByZXN1bHQgPSBjeS52aWV3VXRpbGl0aWVzKCkuaGlkZShlbGVzKTsgLy8gSGlkZSBnaXZlbiBlbGVzXHJcbiAgICAgIGlmICh0eXBlb2YgbGF5b3V0cGFyYW0gPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgIGxheW91dHBhcmFtKCk7IC8vIElmIGxheW91dHBhcmFtIGlzIGEgZnVuY3Rpb24gZXhlY3V0ZSBpdFxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhciBsYXlvdXQgPSBjeS5sYXlvdXQobGF5b3V0cGFyYW0pOyAvLyBJZiBsYXlvdXRwYXJhbSBpcyBsYXlvdXQgb3B0aW9ucyBjYWxsIGxheW91dCB3aXRoIHRoYXQgb3B0aW9ucy5cclxuXHJcbiAgICAgICAgLy8gRG8gdGhpcyBjaGVjayBmb3IgY3l0b3NjYXBlLmpzIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcclxuICAgICAgICBpZiAobGF5b3V0ICYmIGxheW91dC5ydW4pIHtcclxuICAgICAgICAgIGxheW91dC5ydW4oKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qXHJcbiAgICAgKiBVbmhpZGUgZ2l2ZW4gZWxlcyBhbmQgcGVyZm9ybSBnaXZlbiBsYXlvdXQgYWZ0ZXJ3YXJkLiBMYXlvdXQgcGFyYW1ldGVyIG1heSBiZSBsYXlvdXQgb3B0aW9uc1xyXG4gICAgICogb3IgYSBmdW5jdGlvbiB0byBjYWxsLlxyXG4gICAgICovXHJcbiAgICBlbGVtZW50VXRpbGl0aWVzLnNob3dBbmRQZXJmb3JtTGF5b3V0ID0gZnVuY3Rpb24gKGVsZXMsIGxheW91dHBhcmFtKSB7XHJcbiAgICAgIHZhciByZXN1bHQgPSBjeS52aWV3VXRpbGl0aWVzKCkuc2hvdyhlbGVzKTsgLy8gU2hvdyBnaXZlbiBlbGVzXHJcbiAgICAgIGlmICh0eXBlb2YgbGF5b3V0cGFyYW0gPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgIGxheW91dHBhcmFtKCk7IC8vIElmIGxheW91dHBhcmFtIGlzIGEgZnVuY3Rpb24gZXhlY3V0ZSBpdFxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhciBsYXlvdXQgPSBjeS5sYXlvdXQobGF5b3V0cGFyYW0pOyAvLyBJZiBsYXlvdXRwYXJhbSBpcyBsYXlvdXQgb3B0aW9ucyBjYWxsIGxheW91dCB3aXRoIHRoYXQgb3B0aW9ucy5cclxuXHJcbiAgICAgICAgLy8gRG8gdGhpcyBjaGVjayBmb3IgY3l0b3NjYXBlLmpzIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcclxuICAgICAgICBpZiAobGF5b3V0ICYmIGxheW91dC5ydW4pIHtcclxuICAgICAgICAgIGxheW91dC5ydW4oKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qXHJcbiAgICAgKiBDaGFuZ2Ugc3R5bGUvY3NzIG9mIGdpdmVuIGVsZXMgYnkgc2V0dGluZyBnZXR0aW5nIHByb3BlcnR5IG5hbWUgdG8gdGhlIGdpdmVuIHZhbHVlL3ZhbHVlcyAoTm90ZSB0aGF0IHZhbHVlTWFwIHBhcmFtZXRlciBtYXkgYmVcclxuICAgICAqIGEgc2luZ2xlIHN0cmluZyBvciBhbiBpZCB0byB2YWx1ZSBtYXApLlxyXG4gICAgICovXHJcbiAgICBlbGVtZW50VXRpbGl0aWVzLmNoYW5nZUNzcyA9IGZ1bmN0aW9uIChlbGVzLCBuYW1lLCB2YWx1ZU1hcCkge1xyXG4gICAgICBpZiAodHlwZW9mIHZhbHVlTWFwID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgY3kuc3RhcnRCYXRjaCgpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgdmFyIGVsZSA9IGN5LmdldEVsZW1lbnRCeUlkKGVsZXNbaV0uaWQoKSk7XHJcbiAgICAgICAgICBlbGUuY3NzKG5hbWUsIHZhbHVlTWFwW2VsZS5pZCgpXSk7IC8vIHZhbHVlTWFwIGlzIGFuIGlkIHRvIHZhbHVlIG1hcCB1c2UgaXQgaW4gdGhpcyB3YXlcclxuICAgICAgICB9XHJcbiAgICAgICAgY3kuZW5kQmF0Y2goKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBlbGVzLmNzcyhuYW1lLCB2YWx1ZU1hcCk7IC8vIHZhbHVlTWFwIGlzIGp1c3QgYSBzdHJpbmcgc2V0IGNzcygnbmFtZScpIGZvciBhbGwgZWxlcyB0byB0aGlzIHZhbHVlXHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLypcclxuICAgICAqIENoYW5nZSBkYXRhIG9mIGdpdmVuIGVsZXMgYnkgc2V0dGluZyBnZXR0aW5nIHByb3BlcnR5IG5hbWUgdG8gdGhlIGdpdmVuIHZhbHVlL3ZhbHVlcyAoTm90ZSB0aGF0IHZhbHVlTWFwIHBhcmFtZXRlciBtYXkgYmVcclxuICAgICAqIGEgc2luZ2xlIHN0cmluZyBvciBhbiBpZCB0byB2YWx1ZSBtYXApLlxyXG4gICAgICovXHJcbiAgICBlbGVtZW50VXRpbGl0aWVzLmNoYW5nZURhdGEgPSBmdW5jdGlvbiAoZWxlcywgbmFtZSwgdmFsdWVNYXApIHtcclxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZU1hcCA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgIGN5LnN0YXJ0QmF0Y2goKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIHZhciBlbGUgPSBjeS5nZXRFbGVtZW50QnlJZChlbGVzW2ldLmlkKCkpO1xyXG4gICAgICAgICAgZWxlLmRhdGEobmFtZSwgdmFsdWVNYXBbZWxlLmlkKCldKTsgLy8gdmFsdWVNYXAgaXMgYW4gaWQgdG8gdmFsdWUgbWFwIHVzZSBpdCBpbiB0aGlzIHdheVxyXG4gICAgICAgIH1cclxuICAgICAgICBjeS5lbmRCYXRjaCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGVsZXMuZGF0YShuYW1lLCB2YWx1ZU1hcCk7IC8vIHZhbHVlTWFwIGlzIGp1c3QgYSBzdHJpbmcgc2V0IGNzcygnbmFtZScpIGZvciBhbGwgZWxlcyB0byB0aGlzIHZhbHVlXHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZWxlbWVudFV0aWxpdGllcy51cGRhdGVTZXRGaWVsZCA9IGZ1bmN0aW9uIChcclxuICAgICAgZWxlLFxyXG4gICAgICBmaWVsZE5hbWUsXHJcbiAgICAgIHRvRGVsZXRlLFxyXG4gICAgICB0b0FkZCxcclxuICAgICAgY2FsbGJhY2tcclxuICAgICkge1xyXG4gICAgICB2YXIgc2V0ID0gZWxlLmRhdGEoZmllbGROYW1lKTtcclxuICAgICAgaWYgKCFzZXQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdmFyIHVwZGF0ZXMgPSB7fTtcclxuXHJcbiAgICAgIGlmICh0b0RlbGV0ZSAhPSBudWxsICYmIHNldFt0b0RlbGV0ZV0pIHtcclxuICAgICAgICBkZWxldGUgc2V0W3RvRGVsZXRlXTtcclxuICAgICAgICB1cGRhdGVzLmRlbGV0ZWQgPSB0b0RlbGV0ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRvQWRkICE9IG51bGwpIHtcclxuICAgICAgICBzZXRbdG9BZGRdID0gdHJ1ZTtcclxuICAgICAgICB1cGRhdGVzLmFkZGVkID0gdG9BZGQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChcclxuICAgICAgICBjYWxsYmFjayAmJlxyXG4gICAgICAgICh1cGRhdGVzW1wiZGVsZXRlZFwiXSAhPSBudWxsIHx8IHVwZGF0ZXNbXCJhZGRlZFwiXSAhPSBudWxsKVxyXG4gICAgICApIHtcclxuICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdXBkYXRlcztcclxuICAgIH07XHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiB0aGUgc2V0IG9mIGFsbCBub2RlcyBwcmVzZW50IHVuZGVyIHRoZSBnaXZlbiBwb3NpdGlvblxyXG4gICAgICogcmVuZGVyZWRQb3MgbXVzdCBiZSBhIHBvaW50IGRlZmluZWQgcmVsYXRpdmVseSB0byBjeXRvc2NhcGUgY29udGFpbmVyXHJcbiAgICAgKiAobGlrZSByZW5kZXJlZFBvc2l0aW9uIGZpZWxkIG9mIGEgbm9kZSlcclxuICAgICAqL1xyXG4gICAgZWxlbWVudFV0aWxpdGllcy5nZXROb2Rlc0F0ID0gZnVuY3Rpb24gKHJlbmRlcmVkUG9zKSB7XHJcbiAgICAgIHZhciBub2RlcyA9IGN5Lm5vZGVzKCk7XHJcbiAgICAgIHZhciB4ID0gcmVuZGVyZWRQb3MueDtcclxuICAgICAgdmFyIHkgPSByZW5kZXJlZFBvcy55O1xyXG4gICAgICB2YXIgcmVzdWx0Tm9kZXMgPSBbXTtcclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBub2RlID0gbm9kZXNbaV07XHJcbiAgICAgICAgdmFyIHJlbmRlcmVkQmJveCA9IG5vZGUucmVuZGVyZWRCb3VuZGluZ0JveCh7XHJcbiAgICAgICAgICBpbmNsdWRlTm9kZXM6IHRydWUsXHJcbiAgICAgICAgICBpbmNsdWRlRWRnZXM6IGZhbHNlLFxyXG4gICAgICAgICAgaW5jbHVkZUxhYmVsczogZmFsc2UsXHJcbiAgICAgICAgICBpbmNsdWRlU2hhZG93czogZmFsc2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHggPj0gcmVuZGVyZWRCYm94LngxICYmIHggPD0gcmVuZGVyZWRCYm94LngyKSB7XHJcbiAgICAgICAgICBpZiAoeSA+PSByZW5kZXJlZEJib3gueTEgJiYgeSA8PSByZW5kZXJlZEJib3gueTIpIHtcclxuICAgICAgICAgICAgcmVzdWx0Tm9kZXMucHVzaChub2RlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHJlc3VsdE5vZGVzO1xyXG4gICAgfTtcclxuXHJcbiAgICBlbGVtZW50VXRpbGl0aWVzLmRlbXVsdGltZXJpemVDbGFzcyA9IGZ1bmN0aW9uIChzYmduY2xhc3MpIHtcclxuICAgICAgcmV0dXJuIHNiZ25jbGFzcy5yZXBsYWNlKFwiIG11bHRpbWVyXCIsIFwiXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBtYXBUeXBlIC0gdHlwZSBvZiB0aGUgY3VycmVudCBtYXAgKFBELCBBRiBvciBVbmtub3duKVxyXG4gICAgICovXHJcbiAgICBlbGVtZW50VXRpbGl0aWVzLnNldE1hcFR5cGUgPSBmdW5jdGlvbiAobWFwVHlwZSkge1xyXG4gICAgICBlbGVtZW50VXRpbGl0aWVzLm1hcFR5cGUgPSBtYXBUeXBlO1xyXG4gICAgICByZXR1cm4gbWFwVHlwZTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm4gLSBtYXAgdHlwZVxyXG4gICAgICovXHJcbiAgICBlbGVtZW50VXRpbGl0aWVzLmdldE1hcFR5cGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiBlbGVtZW50VXRpbGl0aWVzLm1hcFR5cGU7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXNldHMgbWFwIHR5cGVcclxuICAgICAqL1xyXG4gICAgZWxlbWVudFV0aWxpdGllcy5yZXNldE1hcFR5cGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGVsZW1lbnRVdGlsaXRpZXMubWFwVHlwZSA9IHVuZGVmaW5lZDtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBLZWVwIGNvbnNpc3RlbmN5IG9mIGxpbmtzIHRvIHNlbGYgaW5zaWRlIHRoZSBkYXRhKCkgc3RydWN0dXJlLlxyXG4gICAgICogVGhpcyBpcyBuZWVkZWQgd2hlbmV2ZXIgYSBub2RlIGNoYW5nZXMgcGFyZW50cywgZm9yIGV4YW1wbGUsXHJcbiAgICAgKiBhcyBpdCBpcyBkZXN0cm95ZWQgYW5kIHJlY3JlYXRlZC4gQnV0IHRoZSBkYXRhKCkgc3RheXMgaWRlbnRpY2FsLlxyXG4gICAgICogVGhpcyBjcmVhdGVzIGluY29uc2lzdGVuY2llcyBmb3IgdGhlIHBvaW50ZXJzIHN0b3JlZCBpbiBkYXRhKCksXHJcbiAgICAgKiBhcyB0aGV5IG5vdyBwb2ludCB0byBhIGRlbGV0ZWQgbm9kZS5cclxuICAgICAqL1xyXG4gICAgZWxlbWVudFV0aWxpdGllcy5tYWludGFpblBvaW50ZXIgPSBmdW5jdGlvbiAoZWxlcykge1xyXG4gICAgICBlbGVzLm5vZGVzKCkuZm9yRWFjaChmdW5jdGlvbiAoZWxlKSB7XHJcbiAgICAgICAgLy8gcmVzdG9yZSBiYWNrZ3JvdW5kIGltYWdlc1xyXG4gICAgICAgIGVsZS5lbWl0KFwiZGF0YVwiKTtcclxuXHJcbiAgICAgICAgLy8gc2tpcCBub2RlcyB3aXRob3V0IGFueSBhdXhpbGlhcnkgdW5pdHNcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAhZWxlLmRhdGEoXCJzdGF0ZXNhbmRpbmZvc1wiKSB8fFxyXG4gICAgICAgICAgZWxlLmRhdGEoXCJzdGF0ZXNhbmRpbmZvc1wiKS5sZW5ndGggPT0gMFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBzaWRlIGluIGVsZS5kYXRhKFwiYXV4dW5pdGxheW91dHNcIikpIHtcclxuICAgICAgICAgIGVsZS5kYXRhKFwiYXV4dW5pdGxheW91dHNcIilbc2lkZV0ucGFyZW50Tm9kZSA9IGVsZS5pZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZS5kYXRhKFwic3RhdGVzYW5kaW5mb3NcIikubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGVsZS5kYXRhKFwic3RhdGVzYW5kaW5mb3NcIilbaV0ucGFyZW50ID0gZWxlLmlkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgZWxlbWVudFV0aWxpdGllcy5hbnlIYXNCYWNrZ3JvdW5kSW1hZ2UgPSBmdW5jdGlvbiAoZWxlcykge1xyXG4gICAgICB2YXIgb2JqID0gZWxlbWVudFV0aWxpdGllcy5nZXRCYWNrZ3JvdW5kSW1hZ2VPYmpzKGVsZXMpO1xyXG4gICAgICBpZiAob2JqID09PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTtcclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG9iaikge1xyXG4gICAgICAgICAgdmFyIHZhbHVlID0gb2JqW2tleV07XHJcbiAgICAgICAgICBpZiAodmFsdWUgJiYgISQuaXNFbXB0eU9iamVjdCh2YWx1ZSkpIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZWxlbWVudFV0aWxpdGllcy5oYXNCYWNrZ3JvdW5kSW1hZ2UgPSBmdW5jdGlvbiAoZWxlKSB7XHJcbiAgICAgIGlmICghZWxlLmlzTm9kZSgpIHx8ICFlbGUuZGF0YShcImJhY2tncm91bmQtaW1hZ2VcIikpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgdmFyIGJnO1xyXG5cclxuICAgICAgaWYgKHR5cGVvZiBlbGUuZGF0YShcImJhY2tncm91bmQtaW1hZ2VcIikgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICBiZyA9IGVsZS5kYXRhKFwiYmFja2dyb3VuZC1pbWFnZVwiKS5zcGxpdChcIiBcIik7XHJcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShvYmpbXCJiYWNrZ3JvdW5kLWltYWdlXCJdKSkge1xyXG4gICAgICAgIGJnID0gZWxlLmRhdGEoXCJiYWNrZ3JvdW5kLWltYWdlXCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIWJnKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICB2YXIgY2xvbmVJbWcgPVxyXG4gICAgICAgIFwiZGF0YTppbWFnZS9zdmcreG1sO3V0ZjgsJTNDc3ZnJTIwd2lkdGglM0QlMjIxMDAlMjIlMjBoZWlnaHQlM0QlMjIxMDAlMjIlMjB2aWV3Qm94JTNEJTIyMCUyMDAlMjAxMDAlMjAxMDAlMjIlMjBzdHlsZSUzRCUyMmZpbGwlM0Fub25lJTNCc3Ryb2tlJTNBYmxhY2slM0JzdHJva2Utd2lkdGglM0EwJTNCJTIyJTIweG1sbnMlM0QlMjJodHRwJTNBLy93d3cudzMub3JnLzIwMDAvc3ZnJTIyJTIwJTNFJTNDcmVjdCUyMHglM0QlMjIwJTIyJTIweSUzRCUyMjAlMjIlMjB3aWR0aCUzRCUyMjEwMCUyMiUyMGhlaWdodCUzRCUyMjEwMCUyMiUyMHN0eWxlJTNEJTIyZmlsbCUzQSUyMzgzODM4MyUyMi8lM0UlMjAlM0Mvc3ZnJTNFXCI7XHJcbiAgICAgIC8vIElmIGNsb25lSW1nIGlzIG5vdCB0aGUgb25seSBpbWFnZSBvciB0aGVyZSBhcmUgbXVsdGlwbGUgaW1hZ2VzIHRoZXJlIGlzIGEgYmFja2dyb3VuZCBpbWFnZVxyXG4gICAgICB2YXIgb25seUhhc0Nsb25lTWFya2VyQXNCZ0ltYWdlID1cclxuICAgICAgICBiZy5sZW5ndGggPT09IDEgJiYgYmcuaW5kZXhPZihjbG9uZUltZykgPT09IDA7XHJcblxyXG4gICAgICBpZiAoYmcubGVuZ3RoID4gMSB8fCAhb25seUhhc0Nsb25lTWFya2VyQXNCZ0ltYWdlKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgZWxlbWVudFV0aWxpdGllcy5nZXRCYWNrZ3JvdW5kSW1hZ2VVUkwgPSBmdW5jdGlvbiAoZWxlcykge1xyXG4gICAgICAoXCJnZXR0aW5nIGJhY2tncm91bmQgaW1hZ2VzXCIpO1xyXG4gICAgICBpZiAoIWVsZXMgfHwgZWxlcy5sZW5ndGggPCAxKSByZXR1cm47XHJcblxyXG4gICAgICB2YXIgY29tbW9uVVJMID0gXCJcIjtcclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGVsZSA9IGVsZXNbaV07XHJcblxyXG4gICAgICAgIGlmICghZWxlLmlzTm9kZSgpIHx8ICFlbGVtZW50VXRpbGl0aWVzLmhhc0JhY2tncm91bmRJbWFnZShlbGUpKSByZXR1cm47XHJcblxyXG4gICAgICAgIHZhciB1cmwgPSBlbGUuZGF0YShcImJhY2tncm91bmQtaW1hZ2VcIikuc3BsaXQoXCIgXCIpLnBvcCgpO1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICF1cmwgfHxcclxuICAgICAgICAgIHVybC5pbmRleE9mKFwiaHR0cFwiKSAhPT0gMCB8fFxyXG4gICAgICAgICAgKGNvbW1vblVSTCAhPT0gXCJcIiAmJiBjb21tb25VUkwgIT09IHVybClcclxuICAgICAgICApXHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgZWxzZSBpZiAoY29tbW9uVVJMID09PSBcIlwiKSBjb21tb25VUkwgPSB1cmw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBjb21tb25VUkw7XHJcbiAgICB9O1xyXG5cclxuICAgIGVsZW1lbnRVdGlsaXRpZXMuZ2V0QmFja2dyb3VuZEltYWdlT2JqcyA9IGZ1bmN0aW9uIChlbGVzKSB7XHJcbiAgICAgIGlmICghZWxlcyB8fCBlbGVzLmxlbmd0aCA8IDEpIHJldHVybjtcclxuXHJcbiAgICAgIHZhciBsaXN0ID0ge307XHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBlbGUgPSBlbGVzW2ldO1xyXG4gICAgICAgIHZhciBvYmogPSBnZXRCZ09iaihlbGUpO1xyXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA8IDEpIHJldHVybjtcclxuXHJcbiAgICAgICAgbGlzdFtlbGUuZGF0YShcImlkXCIpXSA9IG9iajtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gbGlzdDtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIGdldEJnT2JqKGVsZSkge1xyXG4gICAgICAgIGlmIChlbGUuaXNOb2RlKCkgJiYgZWxlbWVudFV0aWxpdGllcy5oYXNCYWNrZ3JvdW5kSW1hZ2UoZWxlKSkge1xyXG4gICAgICAgICAgdmFyIGtleXMgPSBbXHJcbiAgICAgICAgICAgIFwiYmFja2dyb3VuZC1pbWFnZVwiLFxyXG4gICAgICAgICAgICBcImJhY2tncm91bmQtZml0XCIsXHJcbiAgICAgICAgICAgIFwiYmFja2dyb3VuZC1pbWFnZS1vcGFjaXR5XCIsXHJcbiAgICAgICAgICAgIFwiYmFja2dyb3VuZC1wb3NpdGlvbi14XCIsXHJcbiAgICAgICAgICAgIFwiYmFja2dyb3VuZC1wb3NpdGlvbi15XCIsXHJcbiAgICAgICAgICAgIFwiYmFja2dyb3VuZC1oZWlnaHRcIixcclxuICAgICAgICAgICAgXCJiYWNrZ3JvdW5kLXdpZHRoXCIsXHJcbiAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAgIHZhciBvYmogPSB7fTtcclxuICAgICAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZTtcclxuICAgICAgICAgICAgaWYgKGVsZS5kYXRhKGtleSkgJiYgdHlwZW9mIGVsZS5kYXRhKGtleSkgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICB2YWx1ZSA9IGVsZS5kYXRhKGtleSkuc3BsaXQoXCIgXCIpWzBdO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHZhbHVlID0gZWxlLmRhdGEoa2V5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvYmpba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIG9iajtcclxuICAgICAgICB9IGVsc2UgaWYgKGVsZS5pc05vZGUoKSkgcmV0dXJuIHt9O1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGVsZW1lbnRVdGlsaXRpZXMuZ2V0QmFja2dyb3VuZEZpdE9wdGlvbnMgPSBmdW5jdGlvbiAoZWxlcykge1xyXG4gICAgICBpZiAoIWVsZXMgfHwgZWxlcy5sZW5ndGggPCAxKSByZXR1cm47XHJcblxyXG4gICAgICB2YXIgY29tbW9uRml0ID0gXCJcIjtcclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIG5vZGUgPSBlbGVzW2ldO1xyXG4gICAgICAgIGlmICghbm9kZS5pc05vZGUoKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB2YXIgZml0ID0gZ2V0Rml0T3B0aW9uKG5vZGUpO1xyXG4gICAgICAgIGlmICghZml0IHx8IChjb21tb25GaXQgIT09IFwiXCIgJiYgZml0ICE9PSBjb21tb25GaXQpKSByZXR1cm47XHJcbiAgICAgICAgZWxzZSBpZiAoY29tbW9uRml0ID09PSBcIlwiKSBjb21tb25GaXQgPSBmaXQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBvcHRpb25zID1cclxuICAgICAgICAnPG9wdGlvbiB2YWx1ZT1cIm5vbmVcIj5Ob25lPC9vcHRpb24+JyArXHJcbiAgICAgICAgJzxvcHRpb24gdmFsdWU9XCJmaXRcIj5GaXQ8L29wdGlvbj4nICtcclxuICAgICAgICAnPG9wdGlvbiB2YWx1ZT1cImNvdmVyXCI+Q292ZXI8L29wdGlvbj4nICtcclxuICAgICAgICAnPG9wdGlvbiB2YWx1ZT1cImNvbnRhaW5cIj5Db250YWluPC9vcHRpb24+JztcclxuICAgICAgdmFyIHNlYXJjaEtleSA9ICd2YWx1ZT1cIicgKyBjb21tb25GaXQgKyAnXCInO1xyXG4gICAgICB2YXIgaW5kZXggPSBvcHRpb25zLmluZGV4T2Yoc2VhcmNoS2V5KSArIHNlYXJjaEtleS5sZW5ndGg7XHJcbiAgICAgIHJldHVybiBvcHRpb25zLnN1YnN0cigwLCBpbmRleCkgKyBcIiBzZWxlY3RlZFwiICsgb3B0aW9ucy5zdWJzdHIoaW5kZXgpO1xyXG5cclxuICAgICAgZnVuY3Rpb24gZ2V0Rml0T3B0aW9uKG5vZGUpIHtcclxuICAgICAgICBpZiAoIWVsZW1lbnRVdGlsaXRpZXMuaGFzQmFja2dyb3VuZEltYWdlKG5vZGUpKSByZXR1cm47XHJcblxyXG4gICAgICAgIHZhciBmID0gbm9kZS5kYXRhKFwiYmFja2dyb3VuZC1maXRcIik7XHJcbiAgICAgICAgdmFyIGggPSBub2RlLmRhdGEoXCJiYWNrZ3JvdW5kLWhlaWdodFwiKTtcclxuXHJcbiAgICAgICAgaWYgKCFmIHx8ICFoKSByZXR1cm47XHJcblxyXG4gICAgICAgIGYgPSBmLnNwbGl0KFwiIFwiKTtcclxuICAgICAgICBoID0gaC5zcGxpdChcIiBcIik7XHJcbiAgICAgICAgaWYgKGZbZi5sZW5ndGggLSAxXSA9PT0gXCJub25lXCIpXHJcbiAgICAgICAgICByZXR1cm4gaFtoLmxlbmd0aCAtIDFdID09PSBcImF1dG9cIiA/IFwibm9uZVwiIDogXCJmaXRcIjtcclxuICAgICAgICBlbHNlIHJldHVybiBmW2YubGVuZ3RoIC0gMV07XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZWxlbWVudFV0aWxpdGllcy51cGRhdGVCYWNrZ3JvdW5kSW1hZ2UgPSBmdW5jdGlvbiAobm9kZXMsIGJnT2JqKSB7XHJcbiAgICAgIGlmICghbm9kZXMgfHwgbm9kZXMubGVuZ3RoID09IDAgfHwgIWJnT2JqKSByZXR1cm47XHJcblxyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIG5vZGUgPSBub2Rlc1tpXTtcclxuICAgICAgICB2YXIgb2JqID0gYmdPYmpbbm9kZS5kYXRhKFwiaWRcIildO1xyXG4gICAgICAgIGlmICghb2JqIHx8ICQuaXNFbXB0eU9iamVjdChvYmopKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgdmFyIGltZ3MgPSBub2RlLmRhdGEoXCJiYWNrZ3JvdW5kLWltYWdlXCIpXHJcbiAgICAgICAgICA/IG5vZGUuZGF0YShcImJhY2tncm91bmQtaW1hZ2VcIikuc3BsaXQoXCIgXCIpXHJcbiAgICAgICAgICA6IFtdO1xyXG4gICAgICAgIHZhciB4UG9zID0gbm9kZS5kYXRhKFwiYmFja2dyb3VuZC1wb3NpdGlvbi14XCIpXHJcbiAgICAgICAgICA/IG5vZGUuZGF0YShcImJhY2tncm91bmQtcG9zaXRpb24teFwiKS5zcGxpdChcIiBcIilcclxuICAgICAgICAgIDogW107XHJcbiAgICAgICAgdmFyIHlQb3MgPSBub2RlLmRhdGEoXCJiYWNrZ3JvdW5kLXBvc2l0aW9uLXlcIilcclxuICAgICAgICAgID8gbm9kZS5kYXRhKFwiYmFja2dyb3VuZC1wb3NpdGlvbi15XCIpLnNwbGl0KFwiIFwiKVxyXG4gICAgICAgICAgOiBbXTtcclxuICAgICAgICB2YXIgd2lkdGhzID0gbm9kZS5kYXRhKFwiYmFja2dyb3VuZC13aWR0aFwiKVxyXG4gICAgICAgICAgPyBub2RlLmRhdGEoXCJiYWNrZ3JvdW5kLXdpZHRoXCIpLnNwbGl0KFwiIFwiKVxyXG4gICAgICAgICAgOiBbXTtcclxuICAgICAgICB2YXIgaGVpZ2h0cyA9IG5vZGUuZGF0YShcImJhY2tncm91bmQtaGVpZ2h0XCIpXHJcbiAgICAgICAgICA/IG5vZGUuZGF0YShcImJhY2tncm91bmQtaGVpZ2h0XCIpLnNwbGl0KFwiIFwiKVxyXG4gICAgICAgICAgOiBbXTtcclxuICAgICAgICB2YXIgZml0cyA9IG5vZGUuZGF0YShcImJhY2tncm91bmQtZml0XCIpXHJcbiAgICAgICAgICA/IG5vZGUuZGF0YShcImJhY2tncm91bmQtZml0XCIpLnNwbGl0KFwiIFwiKVxyXG4gICAgICAgICAgOiBbXTtcclxuICAgICAgICB2YXIgb3BhY2l0aWVzID0gbm9kZS5kYXRhKFwiYmFja2dyb3VuZC1pbWFnZS1vcGFjaXR5XCIpXHJcbiAgICAgICAgICA/IChcIlwiICsgbm9kZS5kYXRhKFwiYmFja2dyb3VuZC1pbWFnZS1vcGFjaXR5XCIpKS5zcGxpdChcIiBcIilcclxuICAgICAgICAgIDogW107XHJcblxyXG4gICAgICAgIHZhciBpbmRleCA9IC0xO1xyXG4gICAgICAgIGlmICh0eXBlb2Ygb2JqW1wiYmFja2dyb3VuZC1pbWFnZVwiXSA9PT0gXCJzdHJpbmdcIilcclxuICAgICAgICAgIGluZGV4ID0gaW1ncy5pbmRleE9mKG9ialtcImJhY2tncm91bmQtaW1hZ2VcIl0pO1xyXG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob2JqW1wiYmFja2dyb3VuZC1pbWFnZVwiXSkpXHJcbiAgICAgICAgICBpbmRleCA9IGltZ3MuaW5kZXhPZihvYmpbXCJiYWNrZ3JvdW5kLWltYWdlXCJdWzBdKTtcclxuXHJcbiAgICAgICAgaWYgKGluZGV4IDwgMCkgY29udGludWU7XHJcblxyXG4gICAgICAgIGlmIChvYmpbXCJiYWNrZ3JvdW5kLWltYWdlXCJdICYmIGltZ3MubGVuZ3RoID4gaW5kZXgpIHtcclxuICAgICAgICAgIHZhciB0bXAgPSBpbWdzW2luZGV4XTtcclxuICAgICAgICAgIGltZ3NbaW5kZXhdID0gb2JqW1wiYmFja2dyb3VuZC1pbWFnZVwiXTtcclxuICAgICAgICAgIG9ialtcImJhY2tncm91bmQtaW1hZ2VcIl0gPSB0bXA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvYmpbXCJiYWNrZ3JvdW5kLWZpdFwiXSAmJiBmaXRzLmxlbmd0aCA+IGluZGV4KSB7XHJcbiAgICAgICAgICB2YXIgdG1wID0gZml0c1tpbmRleF07XHJcbiAgICAgICAgICBmaXRzW2luZGV4XSA9IG9ialtcImJhY2tncm91bmQtZml0XCJdO1xyXG4gICAgICAgICAgb2JqW1wiYmFja2dyb3VuZC1maXRcIl0gPSB0bXA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvYmpbXCJiYWNrZ3JvdW5kLXdpZHRoXCJdICYmIHdpZHRocy5sZW5ndGggPiBpbmRleCkge1xyXG4gICAgICAgICAgdmFyIHRtcCA9IHdpZHRoc1tpbmRleF07XHJcbiAgICAgICAgICB3aWR0aHNbaW5kZXhdID0gb2JqW1wiYmFja2dyb3VuZC13aWR0aFwiXTtcclxuICAgICAgICAgIG9ialtcImJhY2tncm91bmQtd2lkdGhcIl0gPSB0bXA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvYmpbXCJiYWNrZ3JvdW5kLWhlaWdodFwiXSAmJiBoZWlnaHRzLmxlbmd0aCA+IGluZGV4KSB7XHJcbiAgICAgICAgICB2YXIgdG1wID0gaGVpZ2h0c1tpbmRleF07XHJcbiAgICAgICAgICBoZWlnaHRzW2luZGV4XSA9IG9ialtcImJhY2tncm91bmQtaGVpZ2h0XCJdO1xyXG4gICAgICAgICAgb2JqW1wiYmFja2dyb3VuZC1oZWlnaHRcIl0gPSB0bXA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvYmpbXCJiYWNrZ3JvdW5kLXBvc2l0aW9uLXhcIl0gJiYgeFBvcy5sZW5ndGggPiBpbmRleCkge1xyXG4gICAgICAgICAgdmFyIHRtcCA9IHhQb3NbaW5kZXhdO1xyXG4gICAgICAgICAgeFBvc1tpbmRleF0gPSBvYmpbXCJiYWNrZ3JvdW5kLXBvc2l0aW9uLXhcIl07XHJcbiAgICAgICAgICBvYmpbXCJiYWNrZ3JvdW5kLXBvc2l0aW9uLXhcIl0gPSB0bXA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvYmpbXCJiYWNrZ3JvdW5kLXBvc2l0aW9uLXlcIl0gJiYgeVBvcy5sZW5ndGggPiBpbmRleCkge1xyXG4gICAgICAgICAgdmFyIHRtcCA9IHlQb3NbaW5kZXhdO1xyXG4gICAgICAgICAgeVBvc1tpbmRleF0gPSBvYmpbXCJiYWNrZ3JvdW5kLXBvc2l0aW9uLXlcIl07XHJcbiAgICAgICAgICBvYmpbXCJiYWNrZ3JvdW5kLXBvc2l0aW9uLXlcIl0gPSB0bXA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvYmpbXCJiYWNrZ3JvdW5kLWltYWdlLW9wYWNpdHlcIl0gJiYgb3BhY2l0aWVzLmxlbmd0aCA+IGluZGV4KSB7XHJcbiAgICAgICAgICB2YXIgdG1wID0gb3BhY2l0aWVzW2luZGV4XTtcclxuICAgICAgICAgIG9wYWNpdGllc1tpbmRleF0gPSBvYmpbXCJiYWNrZ3JvdW5kLWltYWdlLW9wYWNpdHlcIl07XHJcbiAgICAgICAgICBvYmpbXCJiYWNrZ3JvdW5kLWltYWdlLW9wYWNpdHlcIl0gPSB0bXA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBub2RlLmRhdGEoXCJiYWNrZ3JvdW5kLWltYWdlXCIsIGltZ3Muam9pbihcIiBcIikpO1xyXG4gICAgICAgIG5vZGUuZGF0YShcImJhY2tncm91bmQtcG9zaXRpb24teFwiLCB4UG9zLmpvaW4oXCIgXCIpKTtcclxuICAgICAgICBub2RlLmRhdGEoXCJiYWNrZ3JvdW5kLXBvc2l0aW9uLXlcIiwgeVBvcy5qb2luKFwiIFwiKSk7XHJcbiAgICAgICAgbm9kZS5kYXRhKFwiYmFja2dyb3VuZC13aWR0aFwiLCB3aWR0aHMuam9pbihcIiBcIikpO1xyXG4gICAgICAgIG5vZGUuZGF0YShcImJhY2tncm91bmQtaGVpZ2h0XCIsIGhlaWdodHMuam9pbihcIiBcIikpO1xyXG4gICAgICAgIG5vZGUuZGF0YShcImJhY2tncm91bmQtZml0XCIsIGZpdHMuam9pbihcIiBcIikpO1xyXG4gICAgICAgIG5vZGUuZGF0YShcImJhY2tncm91bmQtaW1hZ2Utb3BhY2l0eVwiLCBvcGFjaXRpZXMuam9pbihcIiBcIikpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gYmdPYmo7XHJcbiAgICB9O1xyXG5cclxuICAgIGVsZW1lbnRVdGlsaXRpZXMuY2hhbmdlQmFja2dyb3VuZEltYWdlID0gZnVuY3Rpb24gKG5vZGVzLCBvbGRJbWcsIG5ld0ltZywgZmlyc3RUaW1lLCB1cGRhdGVJbmZvLCBwcm9tcHRJbnZhbGlkSW1hZ2UsIHZhbGlkYXRlVVJMKSB7XHJcbiAgICAgIGlmICghbm9kZXMgfHwgbm9kZXMubGVuZ3RoID09IDAgfHwgIW9sZEltZyB8fCAhbmV3SW1nKSByZXR1cm47XHJcblxyXG4gICAgICBlbGVtZW50VXRpbGl0aWVzLnJlbW92ZUJhY2tncm91bmRJbWFnZShub2Rlcywgb2xkSW1nKTtcclxuICAgICAgZm9yICh2YXIga2V5IGluIG5ld0ltZykge1xyXG4gICAgICAgIG5ld0ltZ1trZXldW1wiZmlyc3RUaW1lXCJdID0gZmlyc3RUaW1lO1xyXG4gICAgICB9XHJcbiAgICAgIGVsZW1lbnRVdGlsaXRpZXMuYWRkQmFja2dyb3VuZEltYWdlKG5vZGVzLCBuZXdJbWcsIHVwZGF0ZUluZm8sIHByb21wdEludmFsaWRJbWFnZSwgdmFsaWRhdGVVUkwpO1xyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBub2Rlczogbm9kZXMsXHJcbiAgICAgICAgb2xkSW1nOiBuZXdJbWcsXHJcbiAgICAgICAgbmV3SW1nOiBvbGRJbWcsXHJcbiAgICAgICAgZmlyc3RUaW1lOiBmYWxzZSxcclxuICAgICAgICBwcm9tcHRJbnZhbGlkSW1hZ2U6IHByb21wdEludmFsaWRJbWFnZSxcclxuICAgICAgICB2YWxpZGF0ZVVSTDogdmFsaWRhdGVVUkwsXHJcbiAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEFkZCBhIGJhY2tncm91bmQgaW1hZ2UgdG8gZ2l2ZW4gbm9kZXMuXHJcbiAgICBlbGVtZW50VXRpbGl0aWVzLmFkZEJhY2tncm91bmRJbWFnZSA9IGZ1bmN0aW9uIChub2RlcywgYmdPYmosIHVwZGF0ZUluZm8sIHByb21wdEludmFsaWRJbWFnZSwgdmFsaWRhdGVVUkwpIHtcclxuICAgICAgaWYgKCFub2RlcyB8fCBub2Rlcy5sZW5ndGggPT0gMCB8fCAhYmdPYmopIHJldHVybjtcclxuXHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW2ldO1xyXG4gICAgICAgIHZhciBvYmogPSBiZ09ialtub2RlLmRhdGEoXCJpZFwiKV07XHJcbiAgICAgICAgaWYgKCFvYmogfHwgJC5pc0VtcHR5T2JqZWN0KG9iaikpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAvLyBMb2FkIHRoZSBpbWFnZSBmcm9tIGxvY2FsLCBlbHNlIGp1c3QgcHV0IHRoZSBVUkxcclxuICAgICAgICBpZiAob2JqW1wiZnJvbUZpbGVcIl0pIGxvYWRCYWNrZ3JvdW5kVGhlbkFwcGx5KG5vZGUsIG9iaik7XHJcbiAgICAgICAgLy8gVmFsaWRpdHkgb2YgZ2l2ZW4gVVJMIHNob3VsZCBiZSBjaGVja2VkIGJlZm9yZSBhcHBseWluZyBpdFxyXG4gICAgICAgIGVsc2UgaWYgKG9ialtcImZpcnN0VGltZVwiXSkge1xyXG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWxpZGF0ZVVSTCA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgICAgICB2YWxpZGF0ZVVSTChub2RlLCBvYmosIGFwcGx5QmFja2dyb3VuZCwgcHJvbXB0SW52YWxpZEltYWdlKTtcclxuICAgICAgICAgIGVsc2UgY2hlY2tHaXZlblVSTChub2RlLCBvYmopO1xyXG4gICAgICAgIH0gZWxzZSBhcHBseUJhY2tncm91bmQobm9kZSwgb2JqKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gbG9hZEJhY2tncm91bmRUaGVuQXBwbHkobm9kZSwgYmdPYmopIHtcclxuICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICB2YXIgaW1nRmlsZSA9IGJnT2JqW1wiYmFja2dyb3VuZC1pbWFnZVwiXTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgd2hldGhlciBnaXZlbiBmaWxlIGlzIGFuIGltYWdlIGZpbGVcclxuICAgICAgICBpZiAoaW1nRmlsZS50eXBlLmluZGV4T2YoXCJpbWFnZVwiKSAhPT0gMCkge1xyXG4gICAgICAgICAgaWYgKHByb21wdEludmFsaWRJbWFnZSlcclxuICAgICAgICAgICAgcHJvbXB0SW52YWxpZEltYWdlKFwiSW52YWxpZCBpbWFnZSBmaWxlIGlzIGdpdmVuIVwiKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGltZ0ZpbGUpO1xyXG5cclxuICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgIHZhciBpbWcgPSByZWFkZXIucmVzdWx0O1xyXG4gICAgICAgICAgaWYgKGltZykge1xyXG4gICAgICAgICAgICBiZ09ialtcImJhY2tncm91bmQtaW1hZ2VcIl0gPSBpbWc7XHJcbiAgICAgICAgICAgIGJnT2JqW1wiZnJvbUZpbGVcIl0gPSBmYWxzZTtcclxuICAgICAgICAgICAgYXBwbHlCYWNrZ3JvdW5kKG5vZGUsIGJnT2JqKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChwcm9tcHRJbnZhbGlkSW1hZ2UpXHJcbiAgICAgICAgICAgICAgcHJvbXB0SW52YWxpZEltYWdlKFwiR2l2ZW4gZmlsZSBjb3VsZCBub3QgYmUgcmVhZCFcIik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gY2hlY2tHaXZlblVSTChub2RlLCBiZ09iaikge1xyXG4gICAgICAgIHZhciB1cmwgPSBiZ09ialtcImJhY2tncm91bmQtaW1hZ2VcIl07XHJcbiAgICAgICAgdmFyIGV4dGVuc2lvbiA9IHVybC5zcGxpdCgvWz8jXS8pWzBdLnNwbGl0KFwiLlwiKS5wb3AoKTtcclxuICAgICAgICB2YXIgdmFsaWRFeHRlbnNpb25zID0gW1wicG5nXCIsIFwic3ZnXCIsIFwianBnXCIsIFwianBlZ1wiXTtcclxuXHJcbiAgICAgICAgaWYgKCF2YWxpZEV4dGVuc2lvbnMuaW5jbHVkZXMoZXh0ZW5zaW9uKSkge1xyXG4gICAgICAgICAgaWYgKHR5cGVvZiBwcm9tcHRJbnZhbGlkSW1hZ2UgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICAgICAgcHJvbXB0SW52YWxpZEltYWdlKFwiSW52YWxpZCBVUkwgaXMgZ2l2ZW4hXCIpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgIHVybDogdXJsLFxyXG4gICAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQsIHN0YXR1cywgeGhyKSB7XHJcbiAgICAgICAgICAgIGFwcGx5QmFja2dyb3VuZChub2RlLCBiZ09iaik7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyb3IpIHtcclxuICAgICAgICAgICAgaWYgKHByb21wdEludmFsaWRJbWFnZSkgcHJvbXB0SW52YWxpZEltYWdlKFwiSW52YWxpZCBVUkwgaXMgZ2l2ZW4hXCIpO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gYXBwbHlCYWNrZ3JvdW5kKG5vZGUsIGJnT2JqKSB7XHJcbiAgICAgICAgaWYgKGVsZW1lbnRVdGlsaXRpZXMuaGFzQmFja2dyb3VuZEltYWdlKG5vZGUpKSByZXR1cm47XHJcblxyXG4gICAgICAgIHZhciBpbWdzID0gbm9kZS5kYXRhKFwiYmFja2dyb3VuZC1pbWFnZVwiKVxyXG4gICAgICAgICAgPyBub2RlLmRhdGEoXCJiYWNrZ3JvdW5kLWltYWdlXCIpLnNwbGl0KFwiIFwiKVxyXG4gICAgICAgICAgOiBbXTtcclxuICAgICAgICB2YXIgeFBvcyA9IG5vZGUuZGF0YShcImJhY2tncm91bmQtcG9zaXRpb24teFwiKVxyXG4gICAgICAgICAgPyBub2RlLmRhdGEoXCJiYWNrZ3JvdW5kLXBvc2l0aW9uLXhcIikuc3BsaXQoXCIgXCIpXHJcbiAgICAgICAgICA6IFtdO1xyXG4gICAgICAgIHZhciB5UG9zID0gbm9kZS5kYXRhKFwiYmFja2dyb3VuZC1wb3NpdGlvbi15XCIpXHJcbiAgICAgICAgICA/IG5vZGUuZGF0YShcImJhY2tncm91bmQtcG9zaXRpb24teVwiKS5zcGxpdChcIiBcIilcclxuICAgICAgICAgIDogW107XHJcbiAgICAgICAgdmFyIHdpZHRocyA9IG5vZGUuZGF0YShcImJhY2tncm91bmQtd2lkdGhcIilcclxuICAgICAgICAgID8gbm9kZS5kYXRhKFwiYmFja2dyb3VuZC13aWR0aFwiKS5zcGxpdChcIiBcIilcclxuICAgICAgICAgIDogW107XHJcbiAgICAgICAgdmFyIGhlaWdodHMgPSBub2RlLmRhdGEoXCJiYWNrZ3JvdW5kLWhlaWdodFwiKVxyXG4gICAgICAgICAgPyBub2RlLmRhdGEoXCJiYWNrZ3JvdW5kLWhlaWdodFwiKS5zcGxpdChcIiBcIilcclxuICAgICAgICAgIDogW107XHJcbiAgICAgICAgdmFyIGZpdHMgPSBub2RlLmRhdGEoXCJiYWNrZ3JvdW5kLWZpdFwiKVxyXG4gICAgICAgICAgPyBub2RlLmRhdGEoXCJiYWNrZ3JvdW5kLWZpdFwiKS5zcGxpdChcIiBcIilcclxuICAgICAgICAgIDogW107XHJcbiAgICAgICAgdmFyIG9wYWNpdGllcyA9IG5vZGUuZGF0YShcImJhY2tncm91bmQtaW1hZ2Utb3BhY2l0eVwiKVxyXG4gICAgICAgICAgPyAoXCJcIiArIG5vZGUuZGF0YShcImJhY2tncm91bmQtaW1hZ2Utb3BhY2l0eVwiKSkuc3BsaXQoXCIgXCIpXHJcbiAgICAgICAgICA6IFtdO1xyXG5cclxuICAgICAgICB2YXIgaW5kZXhUb0luc2VydCA9IGltZ3MubGVuZ3RoO1xyXG5cclxuICAgICAgICAvLyBpbnNlcnQgdG8gbGVuZ3RoLTFcclxuICAgICAgICBpZiAoZWxlbWVudFV0aWxpdGllcy5oYXNDbG9uZU1hcmtlcihpbWdzKSkge1xyXG4gICAgICAgICAgaW5kZXhUb0luc2VydC0tO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW1ncy5zcGxpY2UoaW5kZXhUb0luc2VydCwgMCwgYmdPYmpbXCJiYWNrZ3JvdW5kLWltYWdlXCJdKTtcclxuICAgICAgICBmaXRzLnNwbGljZShpbmRleFRvSW5zZXJ0LCAwLCBiZ09ialtcImJhY2tncm91bmQtZml0XCJdKTtcclxuICAgICAgICBvcGFjaXRpZXMuc3BsaWNlKGluZGV4VG9JbnNlcnQsIDAsIGJnT2JqW1wiYmFja2dyb3VuZC1pbWFnZS1vcGFjaXR5XCJdKTtcclxuICAgICAgICB4UG9zLnNwbGljZShpbmRleFRvSW5zZXJ0LCAwLCBiZ09ialtcImJhY2tncm91bmQtcG9zaXRpb24teFwiXSk7XHJcbiAgICAgICAgeVBvcy5zcGxpY2UoaW5kZXhUb0luc2VydCwgMCwgYmdPYmpbXCJiYWNrZ3JvdW5kLXBvc2l0aW9uLXlcIl0pO1xyXG4gICAgICAgIHdpZHRocy5zcGxpY2UoaW5kZXhUb0luc2VydCwgMCwgYmdPYmpbXCJiYWNrZ3JvdW5kLXdpZHRoXCJdKTtcclxuICAgICAgICBoZWlnaHRzLnNwbGljZShpbmRleFRvSW5zZXJ0LCAwLCBiZ09ialtcImJhY2tncm91bmQtaGVpZ2h0XCJdKTtcclxuXHJcbiAgICAgICAgbm9kZS5kYXRhKFwiYmFja2dyb3VuZC1pbWFnZVwiLCBpbWdzLmpvaW4oXCIgXCIpKTtcclxuICAgICAgICBub2RlLmRhdGEoXCJiYWNrZ3JvdW5kLXBvc2l0aW9uLXhcIiwgeFBvcy5qb2luKFwiIFwiKSk7XHJcbiAgICAgICAgbm9kZS5kYXRhKFwiYmFja2dyb3VuZC1wb3NpdGlvbi15XCIsIHlQb3Muam9pbihcIiBcIikpO1xyXG4gICAgICAgIG5vZGUuZGF0YShcImJhY2tncm91bmQtd2lkdGhcIiwgd2lkdGhzLmpvaW4oXCIgXCIpKTtcclxuICAgICAgICBub2RlLmRhdGEoXCJiYWNrZ3JvdW5kLWhlaWdodFwiLCBoZWlnaHRzLmpvaW4oXCIgXCIpKTtcclxuICAgICAgICBub2RlLmRhdGEoXCJiYWNrZ3JvdW5kLWZpdFwiLCBmaXRzLmpvaW4oXCIgXCIpKTtcclxuICAgICAgICBub2RlLmRhdGEoXCJiYWNrZ3JvdW5kLWltYWdlLW9wYWNpdHlcIiwgb3BhY2l0aWVzLmpvaW4oXCIgXCIpKTtcclxuICAgICAgICBiZ09ialtcImZpcnN0VGltZVwiXSA9IGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAodXBkYXRlSW5mbykgdXBkYXRlSW5mbygpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGVsZW1lbnRVdGlsaXRpZXMuaGFzQ2xvbmVNYXJrZXIgPSBmdW5jdGlvbiAoaW1ncykge1xyXG4gICAgICB2YXIgY2xvbmVJbWcgPVxyXG4gICAgICAgIFwiZGF0YTppbWFnZS9zdmcreG1sO3V0ZjgsJTNDc3ZnJTIwd2lkdGglM0QlMjIxMDAlMjIlMjBoZWlnaHQlM0QlMjIxMDAlMjIlMjB2aWV3Qm94JTNEJTIyMCUyMDAlMjAxMDAlMjAxMDAlMjIlMjBzdHlsZSUzRCUyMmZpbGwlM0Fub25lJTNCc3Ryb2tlJTNBYmxhY2slM0JzdHJva2Utd2lkdGglM0EwJTNCJTIyJTIweG1sbnMlM0QlMjJodHRwJTNBLy93d3cudzMub3JnLzIwMDAvc3ZnJTIyJTIwJTNFJTNDcmVjdCUyMHglM0QlMjIwJTIyJTIweSUzRCUyMjAlMjIlMjB3aWR0aCUzRCUyMjEwMCUyMiUyMGhlaWdodCUzRCUyMjEwMCUyMiUyMHN0eWxlJTNEJTIyZmlsbCUzQSUyMzgzODM4MyUyMi8lM0UlMjAlM0Mvc3ZnJTNFXCI7XHJcbiAgICAgIHJldHVybiBpbWdzLmluZGV4T2YoY2xvbmVJbWcpID4gLTE7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFJlbW92ZSBhIGJhY2tncm91bmQgaW1hZ2UgZnJvbSBnaXZlbiBub2Rlcy5cclxuICAgIGVsZW1lbnRVdGlsaXRpZXMucmVtb3ZlQmFja2dyb3VuZEltYWdlID0gZnVuY3Rpb24gKG5vZGVzLCBiZ09iaikge1xyXG4gICAgICBpZiAoIW5vZGVzIHx8IG5vZGVzLmxlbmd0aCA9PSAwIHx8ICFiZ09iaikgcmV0dXJuO1xyXG5cclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBub2RlID0gbm9kZXNbaV07XHJcbiAgICAgICAgdmFyIG9iaiA9IGJnT2JqW25vZGUuZGF0YShcImlkXCIpXTtcclxuICAgICAgICBpZiAoIW9iaikgY29udGludWU7XHJcblxyXG4gICAgICAgIHZhciBpbWdzID0gbm9kZS5kYXRhKFwiYmFja2dyb3VuZC1pbWFnZVwiKVxyXG4gICAgICAgICAgPyBub2RlLmRhdGEoXCJiYWNrZ3JvdW5kLWltYWdlXCIpLnNwbGl0KFwiIFwiKVxyXG4gICAgICAgICAgOiBbXTtcclxuICAgICAgICB2YXIgeFBvcyA9IG5vZGUuZGF0YShcImJhY2tncm91bmQtcG9zaXRpb24teFwiKVxyXG4gICAgICAgICAgPyBub2RlLmRhdGEoXCJiYWNrZ3JvdW5kLXBvc2l0aW9uLXhcIikuc3BsaXQoXCIgXCIpXHJcbiAgICAgICAgICA6IFtdO1xyXG4gICAgICAgIHZhciB5UG9zID0gbm9kZS5kYXRhKFwiYmFja2dyb3VuZC1wb3NpdGlvbi15XCIpXHJcbiAgICAgICAgICA/IG5vZGUuZGF0YShcImJhY2tncm91bmQtcG9zaXRpb24teVwiKS5zcGxpdChcIiBcIilcclxuICAgICAgICAgIDogW107XHJcbiAgICAgICAgdmFyIHdpZHRocyA9IG5vZGUuZGF0YShcImJhY2tncm91bmQtd2lkdGhcIilcclxuICAgICAgICAgID8gbm9kZS5kYXRhKFwiYmFja2dyb3VuZC13aWR0aFwiKS5zcGxpdChcIiBcIilcclxuICAgICAgICAgIDogW107XHJcbiAgICAgICAgdmFyIGhlaWdodHMgPSBub2RlLmRhdGEoXCJiYWNrZ3JvdW5kLWhlaWdodFwiKVxyXG4gICAgICAgICAgPyBub2RlLmRhdGEoXCJiYWNrZ3JvdW5kLWhlaWdodFwiKS5zcGxpdChcIiBcIilcclxuICAgICAgICAgIDogW107XHJcbiAgICAgICAgdmFyIGZpdHMgPSBub2RlLmRhdGEoXCJiYWNrZ3JvdW5kLWZpdFwiKVxyXG4gICAgICAgICAgPyBub2RlLmRhdGEoXCJiYWNrZ3JvdW5kLWZpdFwiKS5zcGxpdChcIiBcIilcclxuICAgICAgICAgIDogW107XHJcbiAgICAgICAgdmFyIG9wYWNpdGllcyA9IG5vZGUuZGF0YShcImJhY2tncm91bmQtaW1hZ2Utb3BhY2l0eVwiKVxyXG4gICAgICAgICAgPyAoXCJcIiArIG5vZGUuZGF0YShcImJhY2tncm91bmQtaW1hZ2Utb3BhY2l0eVwiKSkuc3BsaXQoXCIgXCIpXHJcbiAgICAgICAgICA6IFtdO1xyXG5cclxuICAgICAgICB2YXIgaW5kZXggPSAtMTtcclxuICAgICAgICBpZiAodHlwZW9mIG9ialtcImJhY2tncm91bmQtaW1hZ2VcIl0gPT09IFwic3RyaW5nXCIpXHJcbiAgICAgICAgICBpbmRleCA9IGltZ3MuaW5kZXhPZihvYmpbXCJiYWNrZ3JvdW5kLWltYWdlXCJdLnNwbGl0KFwiIFwiKVswXSk7XHJcbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShvYmpbXCJiYWNrZ3JvdW5kLWltYWdlXCJdKSlcclxuICAgICAgICAgIGluZGV4ID0gaW1ncy5pbmRleE9mKG9ialtcImJhY2tncm91bmQtaW1hZ2VcIl1bMF0pO1xyXG5cclxuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgaW1ncy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgZml0cy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgb3BhY2l0aWVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICB4UG9zLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICB5UG9zLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICB3aWR0aHMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgIGhlaWdodHMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG5vZGUuZGF0YShcImJhY2tncm91bmQtaW1hZ2VcIiwgaW1ncy5qb2luKFwiIFwiKSk7XHJcbiAgICAgICAgbm9kZS5kYXRhKFwiYmFja2dyb3VuZC1wb3NpdGlvbi14XCIsIHhQb3Muam9pbihcIiBcIikpO1xyXG4gICAgICAgIG5vZGUuZGF0YShcImJhY2tncm91bmQtcG9zaXRpb24teVwiLCB5UG9zLmpvaW4oXCIgXCIpKTtcclxuICAgICAgICBub2RlLmRhdGEoXCJiYWNrZ3JvdW5kLXdpZHRoXCIsIHdpZHRocy5qb2luKFwiIFwiKSk7XHJcbiAgICAgICAgbm9kZS5kYXRhKFwiYmFja2dyb3VuZC1oZWlnaHRcIiwgaGVpZ2h0cy5qb2luKFwiIFwiKSk7XHJcbiAgICAgICAgbm9kZS5kYXRhKFwiYmFja2dyb3VuZC1maXRcIiwgZml0cy5qb2luKFwiIFwiKSk7XHJcbiAgICAgICAgbm9kZS5kYXRhKFwiYmFja2dyb3VuZC1pbWFnZS1vcGFjaXR5XCIsIG9wYWNpdGllcy5qb2luKFwiIFwiKSk7XHJcbiAgICAgICAgYmdPYmpbXCJmaXJzdFRpbWVcIl0gPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBlbGVtZW50VXRpbGl0aWVzLnJldmVyc2VFZGdlID0gZnVuY3Rpb24gKGVkZ2UpIHtcclxuICAgICAgdmFyIG9sZFNvdXJjZSA9IGVkZ2Uuc291cmNlKCkuaWQoKTtcclxuICAgICAgdmFyIG9sZFRhcmdldCA9IGVkZ2UudGFyZ2V0KCkuaWQoKTtcclxuICAgICAgdmFyIG9sZFBvcnRTb3VyY2UgPSBlZGdlLmRhdGEoXCJwb3J0c291cmNlXCIpO1xyXG4gICAgICB2YXIgb2xkUG9ydFRhcmdldCA9IGVkZ2UuZGF0YShcInBvcnR0YXJnZXRcIik7XHJcbiAgICAgIHZhciBzZWdtZW50UG9pbnRzID0gZWRnZS5zZWdtZW50UG9pbnRzKCk7XHJcbiAgICAgIHZhciBjb250cm9sUG9pbnRzID0gZWRnZS5jb250cm9sUG9pbnRzKCk7XHJcblxyXG4gICAgICBlZGdlLmRhdGEoKS5zb3VyY2UgPSBvbGRUYXJnZXQ7XHJcbiAgICAgIGVkZ2UuZGF0YSgpLnRhcmdldCA9IG9sZFNvdXJjZTtcclxuICAgICAgZWRnZS5kYXRhKCkucG9ydHNvdXJjZSA9IG9sZFBvcnRUYXJnZXQ7XHJcbiAgICAgIGVkZ2UuZGF0YSgpLnBvcnR0YXJnZXQgPSBvbGRQb3J0U291cmNlO1xyXG4gICAgICBlZGdlID0gZWRnZS5tb3ZlKHtcclxuICAgICAgICB0YXJnZXQ6IG9sZFNvdXJjZSxcclxuICAgICAgICBzb3VyY2U6IG9sZFRhcmdldCxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShzZWdtZW50UG9pbnRzKSkge1xyXG4gICAgICAgIHNlZ21lbnRQb2ludHMucmV2ZXJzZSgpO1xyXG4gICAgICAgIGVkZ2UuZGF0YSgpLmJlbmRQb2ludFBvc2l0aW9ucyA9IHNlZ21lbnRQb2ludHM7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29udHJvbFBvaW50cykpIHtcclxuICAgICAgICAgIGNvbnRyb2xQb2ludHMucmV2ZXJzZSgpO1xyXG4gICAgICAgICAgZWRnZS5kYXRhKCkuY29udHJvbFBvaW50UG9zaXRpb25zID0gY29udHJvbFBvaW50cztcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGVkZ2VFZGl0aW5nID0gY3kuZWRnZUVkaXRpbmcoXCJnZXRcIik7XHJcbiAgICAgICAgZWRnZUVkaXRpbmcuaW5pdEFuY2hvclBvaW50cyhlZGdlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGVkZ2U7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGVsZW1lbnRVdGlsaXRpZXNFeHRlbmRlcjtcclxufTtcclxuIl0sIm5hbWVzIjpbImxpYnMiLCJyZXF1aXJlIiwiZ2V0TGlicyIsImpRdWVyeSIsIiQiLCJtb2R1bGUiLCJleHBvcnRzIiwib3B0aW9ucyIsInNiZ252aXpJbnN0YW5jZSIsImVsZW1lbnRVdGlsaXRpZXMiLCJjeSIsImVsZW1lbnRVdGlsaXRpZXNFeHRlbmRlciIsInBhcmFtIiwic2JnbnZpekluc3RhbmNlVXRpbGl0aWVzIiwiZ2V0SW5zdGFuY2UiLCJvcHRpb25VdGlsaXRpZXMiLCJnZXRPcHRpb25zIiwiZ2V0Q3kiLCJleHRlbmQiLCJhZGROb2RlIiwieCIsInkiLCJub2RlUGFyYW1zIiwiaWQiLCJwYXJlbnQiLCJ2aXNpYmlsaXR5IiwiX3R5cGVvZiIsInNiZ25jbGFzcyIsImxhbmd1YWdlIiwiY3NzIiwiZGVmYXVsdFdpZHRoIiwiZGVmYXVsdEhlaWdodCIsImRhdGEiLCJiYm94IiwidyIsImgiLCJzdGF0ZXNhbmRpbmZvcyIsInBvcnRzIiwiZ2VuZXJhdGVOb2RlSWQiLCJleHRlbmROb2RlRGF0YVdpdGhDbGFzc0RlZmF1bHRzIiwiZGVmYXVsdHMiLCJnZXREZWZhdWx0UHJvcGVydGllcyIsImVsZXMiLCJhZGQiLCJncm91cCIsInBvc2l0aW9uIiwibmV3Tm9kZSIsImxlbmd0aCIsIm9yZGVyaW5nIiwic2V0UG9ydHNPcmRlcmluZyIsImNhbkhhdmVNdWx0aXBsZVVuaXRPZkluZm9ybWF0aW9uIiwidW9pX29iaiIsImNsYXp6IiwibGFiZWwiLCJ0ZXh0IiwiYWRkU3RhdGVPckluZm9Cb3giLCJiZ0ltYWdlIiwic2F2ZVVuaXRzIiwibm9kZSIsInRlbXBEYXRhIiwiaW5kZXgiLCJmb3JFYWNoIiwiZWxlIiwicHVzaCIsImFuY2hvclNpZGUiLCJyZXN0b3JlVW5pdHMiLCJ1bmRlZmluZWQiLCJtb2RpZnlVbml0cyIsImluc3RhbmNlIiwiY2xhc3NlcyIsIkF1eFVuaXRMYXlvdXQiLCJhZGRFZGdlIiwic291cmNlIiwidGFyZ2V0IiwiZWRnZVBhcmFtcyIsImdyb3VwSUQiLCJPYmplY3QiLCJrZXlzIiwicHJvcCIsImdlbmVyYXRlRWRnZUlkIiwiY2FuSGF2ZVNCR05DYXJkaW5hbGl0eSIsImNhcmRpbmFsaXR5Iiwic291cmNlTm9kZSIsImdldEVsZW1lbnRCeUlkIiwidGFyZ2V0Tm9kZSIsInNvdXJjZUhhc1BvcnRzIiwidGFyZ2V0SGFzUG9ydHMiLCJwb3J0c291cmNlIiwicG9ydHRhcmdldCIsImdldElPUG9ydElkcyIsIm5vZGVJbnB1dFBvcnRJZCIsIm5vZGVPdXRwdXRQb3J0SWQiLCJub2RlUG9ydHNPcmRlcmluZyIsImdldFBvcnRzT3JkZXJpbmciLCJub2RlUG9ydHMiLCJsZWZ0UG9ydElkIiwicmlnaHRQb3J0SWQiLCJ0b3BQb3J0SWQiLCJib3R0b21Qb3J0SWQiLCJpbnB1dFBvcnRJZCIsIm91dHB1dFBvcnRJZCIsInNvdXJjZU5vZGVJbnB1dFBvcnRJZCIsInNvdXJjZU5vZGVPdXRwdXRQb3J0SWQiLCJ0YXJnZXROb2RlSW5wdXRQb3J0SWQiLCJ0YXJnZXROb2RlT3V0cHV0UG9ydElkIiwiaW9Qb3J0cyIsImlzTW9kdWxhdGlvbkFyY0NsYXNzIiwiaXNQcm9jZXNzTm9kZSIsImlzQUZBcmNDbGFzcyIsImlzU0JNTEFyY0NsYXNzIiwiaXNMb2dpY0FyYyIsIm5ld0VkZ2UiLCJhZGRQcm9jZXNzV2l0aENvbnZlbmllbnRFZGdlcyIsIl9zb3VyY2UiLCJfdGFyZ2V0IiwicHJvY2Vzc1BhcmVudCIsImNvbGxlY3Rpb24iLCJjb21tb25BbmNlc3RvcnMiLCJmaXJzdCIsInByb2Nlc3MiLCJ4ZGlmZiIsInlkaWZmIiwiTWF0aCIsImFicyIsImVkZ2VCdHdTcmMiLCJlZGdlQnR3VGd0IiwiY3JlYXRlQ29tcG91bmRGb3JHaXZlbk5vZGVzIiwibm9kZXNUb01ha2VDb21wb3VuZCIsImNvbXBvdW5kVHlwZSIsIm9sZFBhcmVudElkIiwiaSIsIm5ld0NvbXBvdW5kIiwibmV3Q29tcG91bmRJZCIsIm5ld0VsZXMiLCJjaGFuZ2VQYXJlbnQiLCJ1bmlvbiIsImNyZWF0ZVRyYW5zbGF0aW9uUmVhY3Rpb24iLCJtUm5hTmFtZSIsInByb3RlaW5OYW1lIiwicHJvY2Vzc1Bvc2l0aW9uIiwiZWRnZUxlbmd0aCIsImRlZmF1bHRQcm9jZXNzUHJvcGVydGllcyIsImRlZmF1bHRTb3VyY2VBbmRTaW5rUHJvcGVydGllcyIsImRlZmF1bHROdWNsZWljQWNpZEZlYXR1cmVQcm9wZXJ0aWVzIiwiZGVmYXVsdE1hY3JvbW9sZWN1bGVQcm9wZXJ0aWVzIiwibWFjcm9tb2xlY3VsZVdpZHRoIiwid2lkdGgiLCJzb3VyY2VBbmRTaW5rV2lkdGgiLCJudWNsZWljQWNpZEZlYXR1cmVIZWlnaHQiLCJoZWlnaHQiLCJwcm9jZXNzV2lkdGgiLCJwcm9jZXNzSGVpZ2h0IiwiY29udmVydFRvTW9kZWxQb3NpdGlvbiIsInN0YXJ0QmF0Y2giLCJnZXRNYXBUeXBlIiwic2V0TWFwVHlwZSIsInByb2Nlc3NOb2RlIiwieFBvc09mU291cmNlQW5kU2lua05vZGUiLCJ5UG9zT2ZTb3VyY2VBbmRTaW5rTm9kZSIsInNvdXJjZUFuZFNpbmtOb2RlIiwiY29uc3VtcHRpb25FZGdlIiwieFBvc09mbVJuYU5vZGUiLCJ5UG9zT2ZtUm5hTm9kZSIsIm1SbmFOb2RlIiwiaW5mb2JveE9iamVjdE9mR2VuZSIsIm5lY2Vzc2FyeVN0aW11bGF0aW9uRWRnZSIsInhQb3NPZlByb3RlaW5Ob2RlIiwieVBvc3RPZlByb3RlaW5Ob2RlIiwicHJvdGVpbk5vZGUiLCJwcm9kdWN0aW9uRWRnZSIsImVuZEJhdGNoIiwiZWxlbWVudHMiLCJyZW1vdmVEYXRhIiwidW5zZWxlY3QiLCJzZWxlY3QiLCJjcmVhdGVUcmFuc2NyaXB0aW9uUmVhY3Rpb24iLCJnZW5lTmFtZSIsIm51Y2xlaWNBY2lkRmVhdHVyZVdpZHRoIiwieFBvc09mR2VuZU5vZGUiLCJ5UG9zT2ZHZW5lTm9kZSIsImdlbmVOb2RlIiwieVBvc3RPZm1SbmFOb2RlIiwiaW5mb2JveE9iamVjdE9mbVJuYSIsInJvdGF0ZTkwIiwicG9pbnQiLCJjZW50ZXIiLCJyZWxhdGl2ZVgiLCJyZWxhdGl2ZVkiLCJyZWxhdGl2ZVJvdGF0ZWRYIiwicmVsYXRpdmVSb3RhdGVkWSIsInJlc3VsdFgiLCJyZXN1bHRZIiwiY3JlYXRlVHJhbnNsYXRpb24iLCJyZWd1bGF0b3JMYWJlbCIsIm91dHB1dExhYmVsIiwib3JpZW50YXRpb24iLCJkZWZhdWx0TWFjcm9tb2xlY3VsZVByb3BldGllcyIsInZlcnRpY2FsIiwicHJvY2Vzc1BvcnRzT3JkZXJpbmciLCJtaW5JbmZvYm94RGltZW5zaW9uIiwid2lkdGhQZXJDaGFyIiwicmVndWxhdG9ySW5mb2JveExhYmVsIiwieFBvc09mSW5wdXQiLCJ4UG9zT2ZPdXRwdXQiLCJ5UG9zT2ZJbnB1dCIsInlQb3NPZk91dHB1dCIsIm5vZGVQb3NpdGlvbiIsImlucHV0Tm9kZSIsImlucHV0RWRnZSIsIm91dHB1dE5vZGUiLCJvdXRwdXRFZGdlIiwieFBvc09mUmVndWxhdG9yIiwiZGltZW5zaW9uIiwieVBvc09mUmVndWxhdG9yIiwicmVndWxhdG9yTm9kZSIsImluZm9ib3hPYmplY3QiLCJtYXgiLCJyZWd1bGF0b3JFZGdlIiwiY3JlYXRlVHJhbnNjcmlwdGlvbiIsIm91dHB1dEluZm9ib3hMYWJlbCIsImNyZWF0ZURlZ3JhZGF0aW9uIiwibWFjcm9tb2xlY3VsZSIsIm1hY3JvbW9sZWN1bGVOYW1lIiwibmFtZSIsImNyZWF0ZUNvbXBsZXhQcm90ZWluRm9ybWF0aW9uIiwicHJvdGVpbkxhYmVscyIsImNvbXBsZXhMYWJlbCIsInJlZ3VsYXRvciIsInJldmVyc2UiLCJoYXNSZWd1bGF0b3IiLCJkZWZhdWx0UmVndWxhdG9yUHJvcGVydGllcyIsInR5cGUiLCJtYWNyb21vbGVjdWxlSGVpZ2h0IiwicmVndWxhdG9ySGVpZ2h0IiwidGlsaW5nUGFkZGluZ1ZlcnRpY2FsIiwidGlsaW5nUGFkZGluZ0hvcml6b250YWwiLCJtdWx0aW1lck9mZnNldCIsIm9mZnNldFgiLCJ4UG9zT2ZQcm90ZWluIiwicHJvdGVpbkNvdW50IiwibWFjcm9tb2xlY3VsZURpbWVuc2lvbiIsInN0ZXBPZmZzZXQiLCJvZmZzZXRZIiwiaG9yaXpvbnRhbE9mZnNldFgiLCJ5UG9zT2ZQcm90ZWluIiwiZWRnZUNsYXNzIiwiZWRnZSIsImNvbXBsZXhQb3MiLCJjb21wbGV4IiwiY29tcGxleEVkZ2UiLCJyZWd1bGF0b3JOYW1lIiwicmVndWxhdG9yVHlwZSIsInJlZ3VsYXRvckVkZ2VUeXBlIiwiZWRnZVR5cGUiLCJyZWd1bGF0b3JNdWx0aW1lciIsIm11bHRpbWVyIiwiZW5hYmxlZCIsInNldE11bHRpbWVyU3RhdHVzIiwiaW5mb2JveExhYmVsIiwiY3JlYXRlTXVsdGltZXJpemF0aW9uIiwibWFjcm9tb2xlY3VsZU11bHRpbWVyQ2FyZGluYWxpdHkiLCJjcmVhdGVDb252ZXJzaW9uIiwiaW5wdXRJbmZvYm94TGFiZWxzIiwib3V0cHV0SW5mb2JveExhYmVscyIsIm1hY3JvbW9sZWN1bGVJc011bHRpbWVyIiwiaW5wdXRJbmZvYm94V2lkdGgiLCJzdHlsZSIsIm91dHB1dEluZm9ib3hXaWR0aCIsImNhbGN1bGF0ZU1pbldpZHRoIiwicmVzaXplTm9kZXMiLCJuZXdJbnB1dFhQb3MiLCJuZXdPdXRwdXRYUG9zIiwibmV3SW5wdXRZUG9zIiwibmV3T3V0cHV0WVBvcyIsImNyZWF0ZU1ldGFib2xpY1JlYWN0aW9uIiwiaW5wdXRzIiwib3V0cHV0cyIsInJldmVyc2libGUiLCJkZWZhdWx0U2ltcGxlQ2hlbWljYWxQcm9wZXJ0aWVzIiwic2ltcGxlQ2hlbWljYWxIZWlnaHQiLCJzaW1wbGVDaGVtaWNhbFdpZHRoIiwicHJvY2Vzc0xlZnRTaWRlRWRnZVR5cGUiLCJwcm9jZXNzUmlnaHRTaWRlRWRnZVR5cGUiLCJudW1PZklucHV0Tm9kZXMiLCJudW1PZk91dHB1dE5vZGVzIiwibm9kZU5hbWUiLCJub2RlVHlwZSIsImNlaWwiLCJ0b0xvd2VyQ2FzZSIsImNyZWF0ZU1ldGFib2xpY0NhdGFseXRpY0FjdGl2aXR5IiwiaW5wdXROb2RlTGlzdCIsIm91dHB1dE5vZGVMaXN0IiwiY2F0YWx5c3ROYW1lIiwiY2F0YWx5c3RUeXBlIiwiZGVmYXVsdE1hY3JvbW9sZWN1bFByb3BlcnRpZXMiLCJkZWZhdWx0Q2F0YWx5c3RUeXBlUHJvcGVydGllcyIsImNhdGFseXN0SGVpZ2h0IiwieFBvc09mQ2F0YWx5c3QiLCJ5UG9zT2ZDYXRhbHlzdCIsImNhdGFseXN0Tm9kZSIsImNhdGFseXN0RWRnZSIsImNyZWF0ZUFjdGl2YXRpb25SZWFjdGlvbiIsInlQb3NpdGlvbiIsImlucHV0U2lkZUVkZ2UiLCJvdXRwdXRTaWRlRWRnZSIsImNyZWF0ZVRlbXBsYXRlUmVhY3Rpb24iLCJ0ZW1wbGF0ZVR5cGUiLCJub2RlTGlzdCIsImNvbXBsZXhOYW1lIiwibGF5b3V0UGFyYW0iLCJudW1PZk1vbGVjdWxlcyIsInhQb3NpdGlvbk9mRnJlZU1hY3JvbW9sZWN1bGVzIiwieFBvc2l0aW9uT2ZJbnB1dE1hY3JvbW9sZWN1bGVzIiwiZWRnZU9mQ29tcGxleCIsIm51bU9mSW5wdXRNYWNyb21vbGVjdWxlcyIsImxheW91dE5vZGVzIiwibm9kZXMiLCJsYXlvdXQiLCJyYW5kb21pemUiLCJmaXQiLCJhbmltYXRlIiwic3RvcCIsInN1cHBvc2VkWFBvc2l0aW9uIiwic3VwcG9zZWRZUG9zaXRpb24iLCJvdXRlcldpZHRoIiwicG9zaXRpb25EaWZmWCIsInBvc2l0aW9uRGlmZlkiLCJtb3ZlTm9kZXMiLCJydW4iLCJuZXdQYXJlbnQiLCJwb3NEaWZmWCIsInBvc0RpZmZZIiwibmV3UGFyZW50SWQiLCJtb3ZlZEVsZXMiLCJtb3ZlIiwibWFpbnRhaW5Qb2ludGVyIiwidXBkYXRlSW5mb2JveFN0eWxlIiwibmV3UHJvcHMiLCJpbmZvYm94T2JqIiwidXBkYXRlIiwidXBkYXRlSW5mb2JveE9iaiIsInVzZUFzcGVjdFJhdGlvIiwicHJlc2VydmVSZWxhdGl2ZVBvcyIsInJhdGlvIiwiZWxlTXVzdEJlU3F1YXJlIiwibXVzdEJlU3F1YXJlIiwib2xkV2lkdGgiLCJvbGRIZWlnaHQiLCJpc1BhcmVudCIsImZvbnRGYW1pbGl5IiwiZm9udFNpemUiLCJsYWJlbFRleHQiLCJsYWJlbFdpZHRoIiwiZ2V0V2lkdGhCeUNvbnRlbnQiLCJ1bml0R2FwIiwidG9wSWRlYWxXaWR0aCIsImJvdHRvbUlkZWFsV2lkdGgiLCJyaWdodE1heFdpZHRoIiwibGVmdE1heFdpZHRoIiwiYm94IiwibWlkZGxlV2lkdGgiLCJjb21wb3VuZFdpZHRoIiwiY2hpbGRyZW4iLCJib3VuZGluZ0JveCIsImNhbGN1bGF0ZU1pbkhlaWdodCIsIm1hcmdpbiIsImxlZnRJbmZvQm94ZXMiLCJmaWx0ZXIiLCJsZWZ0SGVpZ2h0IiwicmlnaHRJbmZvQm94ZXMiLCJyaWdodEhlaWdodCIsInNwbGl0IiwicGFyc2VGbG9hdCIsInN1YnN0cmluZyIsInRvdGFsSGVpZ2h0IiwiY29tcG91bmRIZWlnaHQiLCJpc1Jlc2l6ZWRUb0NvbnRlbnQiLCJpc05vZGUiLCJtaW5XIiwibWluSCIsInJlbG9jYXRlU3RhdGVBbmRJbmZvcyIsInN0YXRlQW5kSW5mb3MiLCJjaGFuZ2VTdGF0ZU9ySW5mb0JveCIsInZhbHVlIiwicmVzdWx0Iiwib2xkTGVuZ3RoIiwibmV3TGVuZ3RoIiwiY29udGVudCIsInN0YXRlIiwicmVzaWR1ZSIsInJlZ2lvbiIsIm1pbiIsImZvbnRGYW1pbHkiLCJib3JkZXJXaWR0aCIsIm9wdHMiLCJwcmV2aW91c1dpZHRoIiwidW5pdExheW91dCIsInVuaXRzIiwic2hpZnRBbW91bnQiLCJvYmoiLCJsb2NhdGlvbk9iaiIsImRlZmF1bHRQcm9wcyIsImluZm9ib3hQcm9wcyIsImdldERlZmF1bHRJbmZvYm94U3R5bGUiLCJVbml0T2ZJbmZvcm1hdGlvbiIsImNyZWF0ZSIsImxvY2F0aW9uIiwiU3RhdGVWYXJpYWJsZSIsInZhcmlhYmxlIiwiUmVzaWR1ZVZhcmlhYmxlIiwiQmluZGluZ1JlZ2lvbiIsInJlbW92ZVN0YXRlT3JJbmZvQm94IiwidW5pdCIsInVuaXRDbGFzcyIsImdldEF1eFVuaXRDbGFzcyIsInJlbW92ZSIsImZpdFVuaXRzIiwibG9jYXRpb25zIiwiY2hlY2tGaXQiLCJzdGF0dXMiLCJpc011bHRpbWVyIiwiZW5kc1dpdGgiLCJyZXBsYWNlIiwic2V0QWN0aXZlU3RhdHVzIiwiaXNBY3RpdmUiLCJzdGFydHNXaXRoIiwic2V0SHlwb3RoZXRpY2FsU3RhdHVzIiwiaXNIeXBvdGhldGljYWwiLCJpbmNsdWRlcyIsInRtcCIsImNoYW5nZUZvbnRQcm9wZXJ0aWVzIiwidmFsaWRhdGVBcnJvd0VuZHMiLCJpc1JlcGxhY2VtZW50IiwiZWRnZWNsYXNzIiwic291cmNlY2xhc3MiLCJ0YXJnZXRjbGFzcyIsIm1hcFR5cGUiLCJlZGdlQ29uc3RyYWludHMiLCJjb25uZWN0aXZpdHlDb25zdHJhaW50cyIsImhhc1Rvb01hbnlFZGdlcyIsInNvdXJjZU9yVGFyZ2V0Iiwibm9kZWNsYXNzIiwidG90YWxUb29NYW55IiwiZWRnZVRvb01hbnkiLCJzYW1lRWRnZUNvdW50T3V0Iiwib3V0Z29lcnMiLCJzaXplIiwidG90YWxFZGdlQ291bnRPdXQiLCJtYXhUb3RhbCIsImFzU291cmNlIiwibWF4RWRnZSIsImNvbXBhcmVTdHJpY3QiLCJ3aXRoaW5MaW1pdHMiLCJzYW1lRWRnZUNvdW50SW4iLCJpbmNvbWVycyIsInRvdGFsRWRnZUNvdW50SW4iLCJhc1RhcmdldCIsImlzSW5Db21wbGV4IiwicGFyZW50Q2xhc3MiLCJpc0FsbG93ZWQiLCJkZWxldGVBbmRQZXJmb3JtTGF5b3V0IiwibGF5b3V0cGFyYW0iLCJoaWRlQW5kUGVyZm9ybUxheW91dCIsInZpZXdVdGlsaXRpZXMiLCJoaWRlIiwic2hvd0FuZFBlcmZvcm1MYXlvdXQiLCJzaG93IiwiY2hhbmdlQ3NzIiwidmFsdWVNYXAiLCJjaGFuZ2VEYXRhIiwidXBkYXRlU2V0RmllbGQiLCJmaWVsZE5hbWUiLCJ0b0RlbGV0ZSIsInRvQWRkIiwiY2FsbGJhY2siLCJzZXQiLCJ1cGRhdGVzIiwiZGVsZXRlZCIsImFkZGVkIiwiZ2V0Tm9kZXNBdCIsInJlbmRlcmVkUG9zIiwicmVzdWx0Tm9kZXMiLCJyZW5kZXJlZEJib3giLCJyZW5kZXJlZEJvdW5kaW5nQm94IiwiaW5jbHVkZU5vZGVzIiwiaW5jbHVkZUVkZ2VzIiwiaW5jbHVkZUxhYmVscyIsImluY2x1ZGVTaGFkb3dzIiwieDEiLCJ4MiIsInkxIiwieTIiLCJkZW11bHRpbWVyaXplQ2xhc3MiLCJyZXNldE1hcFR5cGUiLCJlbWl0Iiwic2lkZSIsInBhcmVudE5vZGUiLCJhbnlIYXNCYWNrZ3JvdW5kSW1hZ2UiLCJnZXRCYWNrZ3JvdW5kSW1hZ2VPYmpzIiwia2V5IiwiaXNFbXB0eU9iamVjdCIsImhhc0JhY2tncm91bmRJbWFnZSIsImJnIiwiQXJyYXkiLCJpc0FycmF5IiwiY2xvbmVJbWciLCJvbmx5SGFzQ2xvbmVNYXJrZXJBc0JnSW1hZ2UiLCJpbmRleE9mIiwiZ2V0QmFja2dyb3VuZEltYWdlVVJMIiwiY29tbW9uVVJMIiwidXJsIiwicG9wIiwibGlzdCIsImdldEJnT2JqIiwiZ2V0QmFja2dyb3VuZEZpdE9wdGlvbnMiLCJjb21tb25GaXQiLCJnZXRGaXRPcHRpb24iLCJzZWFyY2hLZXkiLCJzdWJzdHIiLCJmIiwidXBkYXRlQmFja2dyb3VuZEltYWdlIiwiYmdPYmoiLCJpbWdzIiwieFBvcyIsInlQb3MiLCJ3aWR0aHMiLCJoZWlnaHRzIiwiZml0cyIsIm9wYWNpdGllcyIsImpvaW4iLCJjaGFuZ2VCYWNrZ3JvdW5kSW1hZ2UiLCJvbGRJbWciLCJuZXdJbWciLCJmaXJzdFRpbWUiLCJ1cGRhdGVJbmZvIiwicHJvbXB0SW52YWxpZEltYWdlIiwidmFsaWRhdGVVUkwiLCJyZW1vdmVCYWNrZ3JvdW5kSW1hZ2UiLCJhZGRCYWNrZ3JvdW5kSW1hZ2UiLCJsb2FkQmFja2dyb3VuZFRoZW5BcHBseSIsImFwcGx5QmFja2dyb3VuZCIsImNoZWNrR2l2ZW5VUkwiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwiaW1nRmlsZSIsInJlYWRBc0RhdGFVUkwiLCJvbmxvYWQiLCJlIiwiaW1nIiwiZXh0ZW5zaW9uIiwidmFsaWRFeHRlbnNpb25zIiwiYWpheCIsInN1Y2Nlc3MiLCJ4aHIiLCJlcnJvciIsImluZGV4VG9JbnNlcnQiLCJoYXNDbG9uZU1hcmtlciIsInNwbGljZSIsInJldmVyc2VFZGdlIiwib2xkU291cmNlIiwib2xkVGFyZ2V0Iiwib2xkUG9ydFNvdXJjZSIsIm9sZFBvcnRUYXJnZXQiLCJzZWdtZW50UG9pbnRzIiwiY29udHJvbFBvaW50cyIsImJlbmRQb2ludFBvc2l0aW9ucyIsImNvbnRyb2xQb2ludFBvc2l0aW9ucyIsImVkZ2VFZGl0aW5nIiwiaW5pdEFuY2hvclBvaW50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/utilities/element-utilities-extender-factory.js\n");

/***/ }),

/***/ "./src/utilities/lib-utilities.js":
/*!****************************************!*\
  !*** ./src/utilities/lib-utilities.js ***!
  \****************************************/
/***/ ((module) => {

eval("/* \r\n * Utility file to get and set the libraries to which sbgnviz is dependent from any file.\r\n */\n\nvar libUtilities = function libUtilities() {};\nlibUtilities.setLibs = function (libs) {\n  this.libs = libs;\n};\nlibUtilities.getLibs = function () {\n  return this.libs;\n};\nmodule.exports = libUtilities;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbGl0aWVzL2xpYi11dGlsaXRpZXMuanMiLCJuYW1lcyI6WyJsaWJVdGlsaXRpZXMiLCJzZXRMaWJzIiwibGlicyIsImdldExpYnMiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGlzZS8uL3NyYy91dGlsaXRpZXMvbGliLXV0aWxpdGllcy5qcz9iYWFmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIFxyXG4gKiBVdGlsaXR5IGZpbGUgdG8gZ2V0IGFuZCBzZXQgdGhlIGxpYnJhcmllcyB0byB3aGljaCBzYmdudml6IGlzIGRlcGVuZGVudCBmcm9tIGFueSBmaWxlLlxyXG4gKi9cclxuXHJcbnZhciBsaWJVdGlsaXRpZXMgPSBmdW5jdGlvbigpe1xyXG59O1xyXG5cclxubGliVXRpbGl0aWVzLnNldExpYnMgPSBmdW5jdGlvbihsaWJzKSB7XHJcbiAgdGhpcy5saWJzID0gbGlicztcclxufTtcclxuXHJcbmxpYlV0aWxpdGllcy5nZXRMaWJzID0gZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHRoaXMubGlicztcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbGliVXRpbGl0aWVzOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBLElBQUlBLFlBQVksR0FBRyxTQUFmQSxZQUFZQSxDQUFBLEVBQWEsQ0FDN0IsQ0FBQztBQUVEQSxZQUFZLENBQUNDLE9BQU8sR0FBRyxVQUFTQyxJQUFJLEVBQUU7RUFDcEMsSUFBSSxDQUFDQSxJQUFJLEdBQUdBLElBQUk7QUFDbEIsQ0FBQztBQUVERixZQUFZLENBQUNHLE9BQU8sR0FBRyxZQUFXO0VBQ2hDLE9BQU8sSUFBSSxDQUFDRCxJQUFJO0FBQ2xCLENBQUM7QUFFREUsTUFBTSxDQUFDQyxPQUFPLEdBQUdMLFlBQVkiLCJpZ25vcmVMaXN0IjpbXX0=\n//# sourceURL=webpack-internal:///./src/utilities/lib-utilities.js\n");

/***/ }),

/***/ "./src/utilities/main-utilities-factory.js":
/*!*************************************************!*\
  !*** ./src/utilities/main-utilities-factory.js ***!
  \*************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("function _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nvar libs = (__webpack_require__(/*! ./lib-utilities */ \"./src/utilities/lib-utilities.js\").getLibs)();\n\n/*\r\n * The main utilities to be exposed directly.\r\n */\nmodule.exports = function () {\n  var elementUtilities, options, cy, sbgnvizInstance;\n  function mainUtilities(param) {\n    elementUtilities = param.elementUtilities;\n    options = param.optionUtilities.getOptions();\n    cy = param.sbgnvizInstanceUtilities.getCy();\n    sbgnvizInstance = param.sbgnvizInstanceUtilities.getInstance();\n  }\n  ;\n\n  /*\r\n   * Adds a new node with the given class and at the given coordinates. Considers undoable option.\r\n   */\n  mainUtilities.addNode = function (x, y, nodeParams, id, parent, visibility) {\n    if (elementUtilities.isGraphTopologyLocked()) {\n      return;\n    }\n\n    // update map type\n    if (_typeof(nodeParams) == 'object') {\n      /* \r\n            if (!elementUtilities.getMapType())\r\n              elementUtilities.setMapType(nodeParams.language);\r\n            else if (elementUtilities.getMapType() != nodeParams.language)\r\n              elementUtilities.setMapType(\"Unknown\"); */\n    }\n    if (!options.undoable) {\n      return elementUtilities.addNode(x, y, nodeParams, id, parent, visibility);\n    } else {\n      var param = {\n        newNode: {\n          x: x,\n          y: y,\n          \"class\": nodeParams,\n          id: id,\n          parent: parent,\n          visibility: visibility\n        }\n      };\n      var result = cy.undoRedo()[\"do\"](\"addNode\", param);\n      return result.eles;\n    }\n  };\n\n  /*\r\n   * Adds a new edge with the given class and having the given source and target ids. Considers undoable option.\r\n   */\n  mainUtilities.addEdge = function (source, target, edgeParams, invalidEdgeCallback, id, visibility) {\n    if (elementUtilities.isGraphTopologyLocked()) {\n      return;\n    }\n\n    // update map type\n    if (_typeof(edgeParams) == 'object') {\n\n      /*  if (!elementUtilities.getMapType())\r\n         elementUtilities.setMapType(edgeParams.language);\r\n       else if (elementUtilities.getMapType() != edgeParams.language)\r\n         elementUtilities.setMapType(\"HybridAny\"); */\n    }\n    // Get the validation result\n    var edgeclass = edgeParams[\"class\"] ? edgeParams[\"class\"] : edgeParams;\n    var validation = elementUtilities.validateArrowEnds(edgeclass, cy.getElementById(source), cy.getElementById(target));\n\n    // If validation result is 'invalid' cancel the operation\n    if (validation === 'invalid') {\n      if (typeof invalidEdgeCallback === \"function\") {\n        invalidEdgeCallback();\n      }\n      return;\n    }\n\n    // If validation result is 'reverse' reverse the source-target pair before creating the edge\n    if (validation === 'reverse') {\n      var temp = source;\n      source = target;\n      target = temp;\n    }\n    if (!options.undoable) {\n      return elementUtilities.addEdge(source, target, edgeParams, id, visibility);\n    } else {\n      var param = {\n        newEdge: {\n          source: source,\n          target: target,\n          \"class\": edgeParams,\n          id: id,\n          visibility: visibility\n        }\n      };\n      var result = cy.undoRedo()[\"do\"](\"addEdge\", param);\n      return result.eles;\n    }\n  };\n\n  /*\r\n   * Adds a process with convenient edges. For more information please see 'https://github.com/iVis-at-Bilkent/newt/issues/9'.\r\n   * Considers undoable option.\r\n   */\n  mainUtilities.addProcessWithConvenientEdges = function (_source, _target, processType) {\n    if (elementUtilities.isGraphTopologyLocked()) {\n      return;\n    }\n\n    // If source and target IDs are given get the elements by IDs\n    var source = typeof _source === 'string' ? cy.getElementById(_source) : _source;\n    var target = typeof _target === 'string' ? cy.getElementById(_target) : _target;\n\n    // If source or target does not have an EPN class the operation is not valid\n    if (!elementUtilities.isEPNClass(source) || !elementUtilities.isEPNClass(target)) {\n      return;\n    }\n    if (!options.undoable) {\n      return elementUtilities.addProcessWithConvenientEdges(_source, _target, processType);\n    } else {\n      var param = {\n        source: _source,\n        target: _target,\n        processType: processType\n      };\n      cy.undoRedo()[\"do\"](\"addProcessWithConvenientEdges\", param);\n    }\n  };\n\n  // convert collapsed compound nodes to simple nodes\n  // and update port values of pasted nodes and edges\n  var cloneCollapsedNodesAndPorts = function cloneCollapsedNodesAndPorts(elesBefore) {\n    if (elementUtilities.isGraphTopologyLocked()) {\n      return;\n    }\n    cy.elements().unselect();\n    var elesAfter = cy.elements();\n    var elesDiff = elesAfter.diff(elesBefore).left;\n\n    // shallow copy collapsed nodes - collapsed compounds become simple nodes\n    // data related to collapsed nodes are removed from generated clones\n    // related issue: https://github.com/iVis-at-Bilkent/newt/issues/145\n    var collapsedNodes = elesDiff.filter('node.cy-expand-collapse-collapsed-node');\n    collapsedNodes.connectedEdges().remove();\n    collapsedNodes.removeClass('cy-expand-collapse-collapsed-node');\n    collapsedNodes.removeData('collapsedChildren');\n    collapsedNodes.removeData('position-before-collapse size-before-collapse');\n    collapsedNodes.removeData('expandcollapseRenderedCueSize expandcollapseRenderedStartX expandcollapseRenderedStartY');\n\n    // cloning ports\n    elesDiff.nodes().forEach(function (_node) {\n      if (_node.data(\"ports\").length == 2) {\n        var oldPortName0 = _node.data(\"ports\")[0].id;\n        var oldPortName1 = _node.data(\"ports\")[1].id;\n        _node.data(\"ports\")[0].id = _node.id() + \".1\";\n        _node.data(\"ports\")[1].id = _node.id() + \".2\";\n        _node.outgoers().edges().forEach(function (_edge) {\n          if (_edge.data(\"portsource\") == oldPortName0) {\n            _edge.data(\"portsource\", _node.data(\"ports\")[0].id);\n          } else if (_edge.data(\"portsource\") == oldPortName1) {\n            _edge.data(\"portsource\", _node.data(\"ports\")[1].id);\n          } else {\n            _edge.data(\"portsource\", _node.id());\n          }\n        });\n        _node.incomers().edges().forEach(function (_edge) {\n          if (_edge.data(\"porttarget\") == oldPortName0) {\n            _edge.data(\"porttarget\", _node.data(\"ports\")[0].id);\n          } else if (_edge.data(\"porttarget\") == oldPortName1) {\n            _edge.data(\"porttarget\", _node.data(\"ports\")[1].id);\n          } else {\n            _edge.data(\"porttarget\", _node.id());\n          }\n        });\n      } else {\n        _node.outgoers().edges().forEach(function (_edge) {\n          _edge.data(\"portsource\", _node.id());\n        });\n        _node.incomers().edges().forEach(function (_edge) {\n          _edge.data(\"porttarget\", _node.id());\n        });\n      }\n    });\n    elesDiff.select();\n  };\n\n  /*\r\n   * Clone given elements. Considers undoable option. Requires cytoscape-clipboard extension.\r\n   */\n  mainUtilities.cloneElements = function (eles, pasteAtMouseLoc) {\n    if (elementUtilities.isGraphTopologyLocked()) {\n      return;\n    }\n    if (eles.length === 0) {\n      return;\n    }\n    this.copyElements(eles);\n    this.pasteElements(pasteAtMouseLoc);\n  };\n\n  /*\r\n   * Copy given elements to clipboard. Requires cytoscape-clipboard extension.\r\n   */\n  mainUtilities.copyElements = function (eles) {\n    cy.clipboard().copy(eles);\n  };\n\n  /*\r\n   * Paste the elements copied to clipboard. Considers undoable option. Requires cytoscape-clipboard extension.\r\n   */\n  mainUtilities.pasteElements = function (pasteAtMouseLoc) {\n    if (elementUtilities.isGraphTopologyLocked()) {\n      return;\n    }\n    var elesBefore = cy.elements();\n    if (options.undoable) {\n      cy.undoRedo()[\"do\"](\"paste\", {\n        pasteAtMouseLoc: pasteAtMouseLoc\n      });\n    } else {\n      cy.clipboard().paste();\n    }\n    cloneCollapsedNodesAndPorts(elesBefore);\n    cy.nodes(\":selected\").emit('data');\n  };\n\n  /*\r\n   * Aligns given nodes in given horizontal and vertical order.\r\n   * Horizontal and vertical parameters may be 'none' or undefined.\r\n   * alignTo parameter indicates the leading node.\r\n   * Requrires cytoscape-grid-guide extension and considers undoable option.\r\n   */\n  mainUtilities.align = function (nodes, horizontal, vertical, alignTo) {\n    if (nodes.length === 0) {\n      return;\n    }\n    if (options.undoable) {\n      cy.undoRedo()[\"do\"](\"align\", {\n        nodes: nodes,\n        horizontal: horizontal,\n        vertical: vertical,\n        alignTo: alignTo\n      });\n    } else {\n      nodes.align(horizontal, vertical, alignTo);\n    }\n    if (cy.edges(\":selected\").length == 1) {\n      cy.edges().unselect();\n    }\n  };\n\n  /*\r\n   * Create compound for given nodes. compoundType may be 'complex' or 'compartment'.\r\n   * This method considers undoable option.\r\n   */\n  mainUtilities.createCompoundForGivenNodes = function (_nodes, compoundType) {\n    if (elementUtilities.isGraphTopologyLocked()) {\n      return;\n    }\n    var nodes = _nodes;\n    /*\r\n     * Eleminate the nodes which cannot have a parent with given compound type\r\n     */\n    nodes = _nodes.filter(function (element, i) {\n      if (typeof element === \"number\") {\n        element = i;\n      }\n      var sbgnclass = element.data(\"class\");\n      return elementUtilities.isValidParent(sbgnclass, compoundType, element);\n    });\n    nodes = elementUtilities.getTopMostNodes(nodes);\n\n    // All elements should have the same parent and the common parent should not be a 'complex'\n    // if compoundType is 'compartent'\n    // because the old common parent will be the parent of the new compartment after this operation and\n    // 'complexes' cannot include 'compartments'\n    if (nodes.length == 0 || !elementUtilities.allHaveTheSameParent(nodes) || (compoundType === 'compartment' || compoundType == 'submap') && nodes.parent().data('class') && nodes.parent().data('class').startsWith('complex')) {\n      return;\n    }\n    if (cy.undoRedo()) {\n      var param = {\n        compoundType: compoundType,\n        nodesToMakeCompound: nodes\n      };\n      cy.undoRedo()[\"do\"](\"createCompoundForGivenNodes\", param);\n    } else {\n      elementUtilities.createCompoundForGivenNodes(nodes, compoundType);\n    }\n  };\n\n  /*\r\n   * Move the nodes to a new parent and change their position if possDiff params are set.\r\n   * Considers undoable option and checks if the operation is valid.\r\n   */\n  mainUtilities.changeParent = function (nodes, _newParent, posDiffX, posDiffY) {\n    if (elementUtilities.isGraphTopologyLocked()) {\n      return;\n    }\n    var newParent = typeof _newParent === 'string' ? cy.getElementById(_newParent) : _newParent;\n    // New parent is supposed to be one of the root, a complex or a compartment\n    if (newParent && !newParent.data(\"class\").startsWith(\"complex\") && newParent.data(\"class\") != \"compartment\" && newParent.data(\"class\") != \"submap\") {\n      return;\n    }\n    /*\r\n     * Eleminate the nodes which cannot have the newParent as their parent\r\n     */\n    nodes = nodes.filter(function (element, i) {\n      if (typeof element === \"number\") {\n        element = i;\n      }\n      var sbgnclass = element.data(\"class\");\n      return elementUtilities.isValidParent(sbgnclass, newParent, element);\n    });\n\n    // Discard the nodes whose parent is already newParent.\n    // Discard the newParent itself if it is among the nodes\n    nodes = nodes.filter(function (ele, i) {\n      if (typeof ele === \"number\") {\n        ele = i;\n      }\n\n      // Discard the newParent if it is among the nodes\n      if (newParent && ele.id() === newParent.id()) {\n        return false;\n      }\n      // Discard the nodes whose parent is already newParent\n      if (!newParent) {\n        return ele.data('parent') != null;\n      }\n      return ele.data('parent') !== newParent.id();\n    });\n\n    // If some nodes are ancestor of new parent eleminate them\n    if (newParent) {\n      nodes = nodes.difference(newParent.ancestors());\n    }\n\n    // If all nodes are eleminated return directly\n    if (nodes.length === 0) {\n      return;\n    }\n\n    // Just move the top most nodes\n    nodes = elementUtilities.getTopMostNodes(nodes);\n    var parentId = newParent ? newParent.id() : null;\n    if (options.undoable) {\n      var param = {\n        firstTime: true,\n        parentData: parentId,\n        // It keeps the newParentId (Just an id for each nodes for the first time)\n        nodes: nodes,\n        posDiffX: posDiffX,\n        posDiffY: posDiffY,\n        // This is needed because the changeParent function called is not from elementUtilities\n        // but from the undoRedo extension directly, so maintaining pointer is not automatically done.\n        callback: elementUtilities.maintainPointer\n      };\n      cy.undoRedo()[\"do\"](\"changeParent\", param); // This action is registered by undoRedo extension\n    } else {\n      elementUtilities.changeParent(nodes, parentId, posDiffX, posDiffY);\n    }\n  };\n\n  /*\r\n   * Creates an activation reaction with given parameters. Requires cose-bilkent layout to tile the free macromolecules included\r\n   * in the complex. Considers undoable option. For more information see the same function in elementUtilities\r\n   */\n  mainUtilities.createTranslationReaction = function (mRnaName, proteinName, processPosition, edgeLength) {\n    if (elementUtilities.isGraphTopologyLocked()) {\n      return;\n    }\n    if (!options.undoable) {\n      elementUtilities.createTranslationReaction(mRnaName, proteinName, processPosition, edgeLength);\n    } else {\n      var param = {\n        mRnaName: mRnaName,\n        proteinName: proteinName,\n        processPosition: processPosition,\n        edgeLength: edgeLength\n      };\n      cy.undoRedo()[\"do\"](\"createTranslationReaction\", param);\n    }\n  };\n\n  /*\r\n   * Creates an activation reaction with given parameters. Requires cose-bilkent layout to tile the free macromolecules included\r\n   * in the complex. Considers undoable option. For more information see the same function in elementUtilities\r\n   */\n  mainUtilities.createTranscriptionReaction = function (geneName, mRnaName, processPosition, edgeLength) {\n    if (elementUtilities.isGraphTopologyLocked()) {\n      return;\n    }\n    if (!options.undoable) {\n      elementUtilities.createTranscriptionReaction(geneName, mRnaName, processPosition, edgeLength);\n    } else {\n      var param = {\n        geneName: geneName,\n        mRnaName: mRnaName,\n        processPosition: processPosition,\n        edgeLength: edgeLength\n      };\n      cy.undoRedo()[\"do\"](\"createTranscriptionReaction\", param);\n    }\n  };\n  mainUtilities.createTranslation = function (regulatorLabel, outputLabel, orientation) {\n    if (elementUtilities.isGraphTopologyLocked()) {\n      return;\n    }\n    if (!options.undoable) {\n      elementUtilities.createTranslation(regulatorLabel, outputLabel, orientation);\n    } else {\n      var param = {\n        regulatorLabel: regulatorLabel,\n        outputLabel: outputLabel,\n        orientation: orientation\n      };\n      cy.undoRedo()[\"do\"](\"createTranslation\", param);\n    }\n  };\n  mainUtilities.createTranscription = function (label, orientation) {\n    if (elementUtilities.isGraphTopologyLocked()) {\n      return;\n    }\n    if (!options.undoable) {\n      elementUtilities.createTranscription(label, orientation);\n    } else {\n      var param = {\n        label: label,\n        orientation: orientation\n      };\n      cy.undoRedo()[\"do\"](\"createTranscription\", param);\n    }\n  };\n  mainUtilities.createDegradation = function (macromolecule, orientation) {\n    if (elementUtilities.isGraphTopologyLocked()) {\n      return;\n    }\n    if (!options.undoable) {\n      elementUtilities.createDegradation(macromolecule, orientation);\n    } else {\n      var param = {\n        macromolecule: macromolecule,\n        orientation: orientation\n      };\n      cy.undoRedo()[\"do\"](\"createDegradation\", param);\n    }\n  };\n  mainUtilities.createComplexProteinFormation = function (proteinLabels, complexLabel, regulator, orientation, reverse) {\n    if (elementUtilities.isGraphTopologyLocked()) {\n      return;\n    }\n    if (!options.undoable) {\n      elementUtilities.createComplexProteinFormation(proteinLabels, complexLabel, regulator, orientation, reverse);\n    } else {\n      var param = {\n        proteinLabels: proteinLabels,\n        complexLabel: complexLabel,\n        regulator: regulator,\n        orientation: orientation,\n        reverse: reverse\n      };\n      cy.undoRedo()[\"do\"](\"createComplexProteinFormation\", param);\n    }\n  };\n  mainUtilities.createMultimerization = function (macromolecule, regulator, regulatorMultimer, orientation) {\n    if (elementUtilities.isGraphTopologyLocked()) {\n      return;\n    }\n    if (!options.undoable) {\n      elementUtilities.createMultimerization(macromolecule, regulator, regulatorMultimer, orientation);\n    } else {\n      var param = {\n        macromolecule: macromolecule,\n        regulator: regulator,\n        regulatorMultimer: regulatorMultimer,\n        orientation: orientation\n      };\n      cy.undoRedo()[\"do\"](\"createMultimerization\", param);\n    }\n  };\n  mainUtilities.createConversion = function (macromolecule, regulator, regulatorMultimer, orientation, inputInfoboxLabels, outputInfoboxLabels) {\n    if (elementUtilities.isGraphTopologyLocked()) {\n      return;\n    }\n    if (!options.undoable) {\n      elementUtilities.createConversion(macromolecule, regulator, regulatorMultimer, orientation, inputInfoboxLabels, outputInfoboxLabels);\n    } else {\n      var param = {\n        macromolecule: macromolecule,\n        regulator: regulator,\n        regulatorMultimer: regulatorMultimer,\n        orientation: orientation,\n        inputInfoboxLabels: inputInfoboxLabels,\n        outputInfoboxLabels: outputInfoboxLabels\n      };\n      cy.undoRedo()[\"do\"](\"createConversion\", param);\n    }\n  };\n  mainUtilities.createMetabolicReaction = function (inputs, outputs, reversible, regulator, regulatorMultimer, orientation) {\n    if (elementUtilities.isGraphTopologyLocked()) {\n      return;\n    }\n    if (!options.undoable) {\n      elementUtilities.createMetabolicReaction(inputs, outputs, reversible, regulator, regulatorMultimer, orientation);\n    } else {\n      var param = {\n        inputs: inputs,\n        outputs: outputs,\n        reversible: reversible,\n        regulator: regulator,\n        regulatorMultimer: regulatorMultimer,\n        orientation: orientation\n      };\n      cy.undoRedo()[\"do\"](\"createMetabolicReaction\", param);\n    }\n  };\n\n  /*\r\n   * Creates an activation reaction with given parameters. Requires cose-bilkent layout to tile the free macromolecules included\r\n   * in the complex. Considers undoable option. For more information see the same function in elementUtilities\r\n   */\n  mainUtilities.createMetabolicCatalyticActivity = function (inputNodeList, outputNodeList, catalystName, catalystType, processPosition, tilingPaddingVertical, tilingPaddingHorizontal, edgeLength) {\n    if (elementUtilities.isGraphTopologyLocked()) {\n      return;\n    }\n    if (!options.undoable) {\n      elementUtilities.createMetabolicCatalyticActivity(inputNodeList, outputNodeList, catalystName, catalystType, processPosition, tilingPaddingVertical, tilingPaddingHorizontal, edgeLength);\n    } else {\n      var param = {\n        inputNodeList: inputNodeList,\n        outputNodeList: outputNodeList,\n        catalystName: catalystName,\n        catalystType: catalystType,\n        processPosition: processPosition,\n        tilingPaddingVertical: tilingPaddingVertical,\n        tilingPaddingHorizontal: tilingPaddingHorizontal,\n        edgeLength: edgeLength\n      };\n      cy.undoRedo()[\"do\"](\"createMetabolicCatalyticActivity\", param);\n    }\n  };\n\n  /*\r\n   * Creates an activation reaction with given parameters. Requires cose-bilkent layout to tile the free macromolecules included\r\n   * in the complex. Considers undoable option. For more information see the same function in elementUtilities\r\n   */\n  mainUtilities.createActivationReaction = function (proteinName, processPosition, edgeLength, reverse) {\n    if (elementUtilities.isGraphTopologyLocked()) {\n      return;\n    }\n    if (!options.undoable) {\n      elementUtilities.createActivationReaction(proteinName, processPosition, edgeLength, reverse);\n    } else {\n      var param = {\n        proteinName: proteinName,\n        processPosition: processPosition,\n        edgeLength: edgeLength,\n        reverse: reverse\n      };\n      cy.undoRedo()[\"do\"](\"createActivationReaction\", param);\n    }\n  };\n\n  /*\r\n   * Creates a template reaction with given parameters. Requires cose-bilkent layout to tile the free macromolecules included\r\n   * in the complex. Considers undoable option. For more information see the same function in elementUtilities\r\n   */\n  mainUtilities.createTemplateReaction = function (templateType, macromoleculeList, complexName, processPosition, tilingPaddingVertical, tilingPaddingHorizontal, edgeLength, layoutParam) {\n    if (elementUtilities.isGraphTopologyLocked()) {\n      return;\n    }\n    if (!options.undoable) {\n      if (templateType === \"reversible\") {\n        elementUtilities.setMapType(\"HybridAny\");\n      }\n      elementUtilities.createTemplateReaction(templateType, macromoleculeList, complexName, processPosition, tilingPaddingVertical, tilingPaddingHorizontal, edgeLength, layoutParam);\n    } else {\n      var param = {\n        templateType: templateType,\n        macromoleculeList: macromoleculeList,\n        complexName: complexName,\n        processPosition: processPosition,\n        tilingPaddingVertical: tilingPaddingVertical,\n        tilingPaddingHorizontal: tilingPaddingHorizontal,\n        edgeLength: edgeLength,\n        layoutParam: layoutParam\n      };\n      if (templateType === \"reversible\") {\n        var actions = [];\n        actions.push({\n          name: \"changeMapType\",\n          param: {\n            mapType: \"HybridAny\",\n            callback: function callback() {}\n          }\n        });\n        actions.push({\n          name: \"createTemplateReaction\",\n          param: param\n        });\n        cy.undoRedo()[\"do\"](\"batch\", actions);\n      } else {\n        cy.undoRedo()[\"do\"](\"createTemplateReaction\", param);\n      }\n    }\n  };\n\n  /*\r\n   * Resize given nodes if useAspectRatio is truthy one of width or height should not be set.\r\n   * Considers undoable option.\r\n   */\n  mainUtilities.resizeNodes = function (nodes, width, height, useAspectRatio, preserveRelativePos) {\n    if (nodes.length === 0) {\n      return;\n    }\n    if (options.undoable) {\n      var param = {\n        nodes: nodes,\n        width: width,\n        height: height,\n        useAspectRatio: useAspectRatio,\n        performOperation: true,\n        preserveRelativePos: preserveRelativePos\n      };\n      cy.undoRedo()[\"do\"](\"resizeNodes\", param);\n    } else {\n      elementUtilities.resizeNodes(nodes, width, height, useAspectRatio);\n      cy.style().update();\n    }\n  };\n\n  /*\r\n   * Resize given nodes if useAspectRatio is truthy one of width or height should not be set.\r\n   * Considers undoable option.\r\n   */\n  mainUtilities.resizeNodesToContent = function (nodes, useAspectRatio) {\n    if (nodes.length === 0) {\n      return;\n    }\n    if (options.undoable) {\n      var actions = [];\n      nodes.forEach(function (node) {\n        var width = elementUtilities.calculateMinWidth(node);\n        var height = elementUtilities.calculateMinHeight(node);\n        actions.push({\n          name: \"resizeNodes\",\n          param: {\n            nodes: node,\n            width: width,\n            height: height,\n            useAspectRatio: useAspectRatio,\n            performOperation: true,\n            preserveRelativePos: true\n          }\n        });\n        var stateAndInfos = node.data('statesandinfos');\n        var length = stateAndInfos.length;\n        if (length != 0) {\n          var param = {\n            node: node,\n            locations: [\"top\", \"right\", \"bottom\", \"left\"]\n          };\n          actions.push({\n            name: \"fitUnits\",\n            param: param\n          });\n        }\n      });\n      cy.undoRedo()[\"do\"](\"batch\", actions);\n      cy.style().update();\n      return actions;\n    } else {\n      nodes.forEach(function (node) {\n        var width = elementUtilities.calculateMinWidth(node);\n        var height = elementUtilities.calculateMinHeight(node);\n        elementUtilities.resizeNodes(node, width, height, useAspectRatio, true);\n      });\n    }\n    cy.style().update();\n  };\n\n  /*\r\n   * Changes the label of the given nodes to the given label. Considers undoable option.\r\n   */\n  mainUtilities.changeNodeLabel = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(nodes, label) {\n      var param;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            if (!(nodes.length === 0)) {\n              _context.next = 2;\n              break;\n            }\n            return _context.abrupt(\"return\");\n          case 2:\n            if (!options.undoable) {\n              nodes.data('label', label);\n            } else {\n              param = {\n                nodes: nodes,\n                label: label,\n                firstTime: true\n              };\n              cy.undoRedo()[\"do\"](\"changeNodeLabel\", param);\n            }\n            cy.style().update();\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  /*\r\n   * Change font properties for given nodes use the given font data.\r\n   * Considers undoable option.\r\n   */\n  mainUtilities.changeFontProperties = function (eles, data) {\n    if (eles.length === 0) {\n      return;\n    }\n    if (options.undoable) {\n      var param = {\n        eles: eles,\n        data: data,\n        firstTime: true\n      };\n      cy.undoRedo()[\"do\"](\"changeFontProperties\", param);\n    } else {\n      elementUtilities.changeFontProperties(eles, data);\n    }\n    cy.style().update();\n  };\n\n  /*\r\n   * Change state value or unit of information box of given nodes with given index.\r\n   * Considers undoable option.\r\n   * For more information about the parameters see elementUtilities.changeStateOrInfoBox\r\n   */\n  mainUtilities.changeStateOrInfoBox = function (nodes, index, value, type) {\n    if (nodes.length === 0) {\n      return;\n    }\n    if (options.undoable) {\n      var param = {\n        index: index,\n        value: value,\n        type: type,\n        nodes: nodes\n      };\n      cy.undoRedo()[\"do\"](\"changeStateOrInfoBox\", param);\n    } else {\n      return elementUtilities.changeStateOrInfoBox(nodes, index, value, type);\n    }\n    cy.style().update();\n  };\n\n  // Add a new state or info box to given nodes.\n  // The box is represented by the parameter obj.\n  // Considers undoable option.\n  mainUtilities.addStateOrInfoBox = function (nodes, obj) {\n    if (nodes.length === 0) {\n      return;\n    }\n    if (!options.undoable) {\n      elementUtilities.addStateOrInfoBox(nodes, obj);\n    } else {\n      var param = {\n        obj: obj,\n        nodes: nodes\n      };\n      cy.undoRedo()[\"do\"](\"addStateOrInfoBox\", param);\n    }\n    cy.style().update();\n  };\n\n  // Remove the state or info boxes of the given nodes at given index.\n  // Considers undoable option.\n  mainUtilities.removeStateOrInfoBox = function (nodes, index) {\n    if (nodes.length === 0) {\n      return;\n    }\n    if (!options.undoable) {\n      elementUtilities.removeStateOrInfoBox(nodes, {\n        index: index\n      });\n    } else {\n      var param = {\n        locationObj: {\n          index: index\n        },\n        nodes: nodes\n      };\n      cy.undoRedo()[\"do\"](\"removeStateOrInfoBox\", param);\n    }\n    cy.style().update();\n  };\n\n  //Arrange information boxes\n  //If force check is true, it rearranges all information boxes\n  mainUtilities.fitUnits = function (node, locations) {\n    if (node.data('auxunitlayouts') === undefined || node.data('statesandinfos').length <= 0) {\n      return;\n    }\n    if (locations === undefined || locations.length <= 0) {\n      return;\n    }\n    if (!options.undoable) {\n      elementUtilities.fitUnits(node, locations);\n    } else {\n      var param = {\n        node: node,\n        locations: locations\n      };\n      cy.undoRedo()[\"do\"](\"fitUnits\", param);\n    }\n    cy.style().update();\n  };\n\n  /*\r\n   * Set multimer status of the given nodes to the given status.\r\n   * Considers undoable option.\r\n   */\n  mainUtilities.setMultimerStatus = function (nodes, status) {\n    if (nodes.length === 0) {\n      return;\n    }\n    if (options.undoable) {\n      var param = {\n        status: status,\n        nodes: nodes,\n        firstTime: true\n      };\n      cy.undoRedo()[\"do\"](\"setMultimerStatus\", param);\n    } else {\n      elementUtilities.setMultimerStatus(nodes, status);\n    }\n    cy.style().update();\n  };\n  mainUtilities.setActiveStatus = function (nodes, status) {\n    if (nodes.length === 0) {\n      return;\n    }\n    if (options.undoable) {\n      var param = {\n        status: status,\n        nodes: nodes,\n        firstTime: true\n      };\n      cy.undoRedo()[\"do\"](\"setActiveStatus\", param);\n    } else {\n      elementUtilities.setActiveStatus(nodes, status);\n    }\n    cy.style().update();\n  };\n  mainUtilities.setHypotheticalStatus = function (nodes, status) {\n    if (nodes.length === 0) {\n      return;\n    }\n    if (options.undoable) {\n      var param = {\n        status: status,\n        nodes: nodes,\n        firstTime: true\n      };\n      cy.undoRedo()[\"do\"](\"setHypotheticalStatus\", param);\n    } else {\n      elementUtilities.setHypotheticalStatus(nodes, status);\n    }\n    cy.style().update();\n  };\n\n  /**\r\n   * Redraw clone markers on given nodes without considering undo.\r\n   * See https://github.com/iVis-at-Bilkent/newt/issues/574 \r\n   */\n  mainUtilities.redrawCloneMarkers = function (nodes) {\n    elementUtilities.setCloneMarkerStatus(nodes, true);\n  };\n\n  /*\r\n   * Set clone marker status of given nodes to the given status.\r\n   * Considers undoable option.\r\n   */\n  mainUtilities.setCloneMarkerStatus = function (nodes, status) {\n    if (nodes.length === 0) {\n      return;\n    }\n    if (options.undoable) {\n      var param = {\n        status: status,\n        nodes: nodes,\n        firstTime: true\n      };\n      cy.undoRedo()[\"do\"](\"setCloneMarkerStatus\", param);\n    } else {\n      elementUtilities.setCloneMarkerStatus(nodes, status);\n    }\n    cy.style().update();\n  };\n\n  /*\r\n   * Change style/css of given eles by setting getting property name to the given given value/values (Note that valueMap parameter may be\r\n   * a single string or an id to value map). Considers undoable option.\r\n   */\n  mainUtilities.changeCss = function (eles, name, valueMap) {\n    if (eles.length === 0) {\n      return;\n    }\n    if (!options.undoable) {\n      elementUtilities.changeCss(eles, name, valueMap);\n    } else {\n      var param = {\n        eles: eles,\n        valueMap: valueMap,\n        name: name\n      };\n      cy.undoRedo()[\"do\"](\"changeCss\", param);\n    }\n    cy.style().update();\n  };\n\n  /*\r\n   * Change data of given eles by setting getting property name to the given given value/values (Note that valueMap parameter may be\r\n   * a single string or an id to value map). Considers undoable option.\r\n   */\n  mainUtilities.changeData = function (eles, name, valueMap) {\n    console.log('eqwr1');\n    if (eles.length === 0) {\n      return;\n    }\n    if (!options.undoable) {\n      elementUtilities.changeData(eles, name, valueMap);\n    } else {\n      var param = {\n        eles: eles,\n        valueMap: valueMap,\n        name: name\n      };\n      cy.undoRedo()[\"do\"](\"changeData\", param);\n    }\n    cy.style().update();\n  };\n  mainUtilities.updateSetField = function (ele, fieldName, toDelete, toAdd, callback) {\n    if (!options.undoable) {\n      elementUtilities.changeData(ele, fieldName, toDelete, toAdd, callback);\n    } else {\n      var param = {\n        ele: ele,\n        fieldName: fieldName,\n        toDelete: toDelete,\n        toAdd: toAdd,\n        callback: callback\n      };\n      cy.undoRedo()[\"do\"](\"updateSetField\", param);\n    }\n  };\n  mainUtilities.setDefaultProperty = function (_class, name, value) {\n    if (!options.undoable) {\n      var propMap = {};\n      propMap[name] = value;\n      elementUtilities.setDefaultProperties(_class, propMap);\n    } else {\n      var param = {\n        \"class\": _class,\n        name: name,\n        value: value\n      };\n      cy.undoRedo()[\"do\"](\"setDefaultProperty\", param);\n    }\n  };\n  mainUtilities.updateInfoboxStyle = function (node, index, newProps) {\n    if (!options.undoable) {\n      elementUtilities.updateInfoboxStyle(node, index, newProps);\n    } else {\n      var param = {\n        node: node,\n        index: index,\n        newProps: newProps\n      };\n      cy.undoRedo()[\"do\"](\"updateInfoboxStyle\", param);\n    }\n    cy.style().update();\n  };\n  mainUtilities.updateInfoboxObj = function (node, index, newProps) {\n    if (!options.undoable) {\n      elementUtilities.updateInfoboxObj(node, index, newProps);\n    } else {\n      var param = {\n        node: node,\n        index: index,\n        newProps: newProps\n      };\n      cy.undoRedo()[\"do\"](\"updateInfoboxObj\", param);\n    }\n    cy.style().update();\n  };\n  mainUtilities.deleteAndPerformLayout = function (eles, layoutparam) {\n    var nodes = eles.nodes(); // Ensure that nodes list just include nodes\n\n    var allNodes = cy.nodes(\":visible\");\n    var nodesToKeep = elementUtilities.extendRemainingNodes(nodes, allNodes);\n    var nodesToRemove = allNodes.not(nodesToKeep);\n    if (nodesToRemove.length === 0) {\n      return;\n    }\n    if (!options.undoable) {\n      elementUtilities.deleteAndPerformLayout(nodesToRemove, layoutparam);\n    } else {\n      var param = {\n        eles: nodesToRemove,\n        layoutparam: layoutparam,\n        firstTime: true\n      };\n      cy.undoRedo()[\"do\"](\"deleteAndPerformLayout\", param);\n    }\n  };\n\n  /*\r\n   * Hides given eles (the ones which are selected) and perform given layout afterward. Layout parameter may be layout options\r\n   * or a function to call. Requires viewUtilities extension and considers undoable option.\r\n   */\n  mainUtilities.hideAndPerformLayout = function (eles, layoutparam) {\n    var nodes = eles.nodes(); // Ensure that nodes list just include nodes\n\n    var allNodes = cy.nodes(\":visible\");\n    var nodesToShow = elementUtilities.extendRemainingNodes(nodes, allNodes);\n    var nodesToHide = allNodes.not(nodesToShow);\n    if (nodesToHide.length === 0) {\n      return;\n    }\n    if (!options.undoable) {\n      var nodesWithHiddenNeighbor = cy.edges(\":hidden\").connectedNodes(':visible');\n      sbgnvizInstance.thinBorder(nodesWithHiddenNeighbor);\n      elementUtilities.hideAndPerformLayout(nodesToHide, layoutparam);\n      var nodesWithHiddenNeighbor = cy.edges(\":hidden\").connectedNodes(':visible');\n      sbgnvizInstance.thickenBorder(nodesWithHiddenNeighbor);\n    } else {\n      var param = {\n        eles: nodesToHide,\n        layoutparam: layoutparam,\n        firstTime: true\n      };\n      var ur = cy.undoRedo();\n      ur.action(\"thickenBorder\", sbgnvizInstance.thickenBorder, sbgnvizInstance.thinBorder);\n      ur.action(\"thinBorder\", sbgnvizInstance.thinBorder, sbgnvizInstance.thickenBorder);\n      var actions = [];\n      var nodesWithHiddenNeighbor = cy.edges(\":hidden\").connectedNodes().intersection(nodesToHide);\n      actions.push({\n        name: \"thinBorder\",\n        param: nodesWithHiddenNeighbor\n      });\n      actions.push({\n        name: \"hideAndPerformLayout\",\n        param: param\n      });\n      nodesWithHiddenNeighbor = nodesToHide.neighborhood(\":visible\").nodes().difference(nodesToHide).difference(cy.nodes(\"[thickBorder]\"));\n      actions.push({\n        name: \"thickenBorder\",\n        param: nodesWithHiddenNeighbor\n      });\n      cy.undoRedo()[\"do\"](\"batch\", actions);\n    }\n  };\n\n  /*\r\n   * Shows all elements (the ones which are hidden if any) and perform given layout afterward. Layout parameter may be layout options\r\n   * or a function to call. Requires viewUtilities extension and considers undoable option.\r\n   */\n  mainUtilities.showAllAndPerformLayout = function (layoutparam) {\n    var hiddenEles = cy.elements(':hidden');\n    if (hiddenEles.length === 0) {\n      return;\n    }\n    if (!options.undoable) {\n      var nodesWithHiddenNeighbor = cy.edges(\":hidden\").connectedNodes(':visible');\n      sbgnvizInstance.thinBorder(nodesWithHiddenNeighbor);\n      elementUtilities.showAndPerformLayout(hiddenEles, layoutparam);\n    } else {\n      var param = {\n        eles: hiddenEles,\n        layoutparam: layoutparam,\n        firstTime: true\n      };\n      var ur = cy.undoRedo();\n      ur.action(\"thickenBorder\", sbgnvizInstance.thickenBorder, sbgnvizInstance.thinBorder);\n      ur.action(\"thinBorder\", sbgnvizInstance.thinBorder, sbgnvizInstance.thickenBorder);\n      var actions = [];\n      var nodesWithHiddenNeighbor = cy.nodes(\"[thickBorder]\");\n      actions.push({\n        name: \"thinBorder\",\n        param: nodesWithHiddenNeighbor\n      });\n      actions.push({\n        name: \"showAndPerformLayout\",\n        param: param\n      });\n      cy.undoRedo()[\"do\"](\"batch\", actions);\n    }\n  };\n\n  /*\r\n   * Unhide given eles (the ones which are hidden if any) and perform given layout afterward. Layout parameter may be layout options\r\n   * or a function to call. Requires viewUtilities extension and considers undoable option.\r\n   */\n  mainUtilities.showAndPerformLayout = function (mainEle, eles, layoutparam) {\n    var hiddenEles = eles.filter(':hidden');\n    if (hiddenEles.length === 0) {\n      return;\n    }\n    mainUtilities.closeUpElements(mainEle, hiddenEles.nodes());\n    if (!options.undoable) {\n      var nodesWithHiddenNeighbor = cy.edges(\":hidden\").connectedNodes(':visible');\n      sbgnvizInstance.thinBorder(nodesWithHiddenNeighbor);\n      elementUtilities.showAndPerformLayout(hiddenEles, layoutparam);\n      var nodesWithHiddenNeighbor = cy.edges(\":hidden\").connectedNodes(':visible');\n      sbgnvizInstance.thickenBorder(nodesWithHiddenNeighbor);\n    } else {\n      var param = {\n        eles: hiddenEles,\n        layoutparam: layoutparam,\n        firstTime: true\n      };\n      var ur = cy.undoRedo();\n      ur.action(\"thickenBorder\", sbgnvizInstance.thickenBorder, sbgnvizInstance.thinBorder);\n      ur.action(\"thinBorder\", sbgnvizInstance.thinBorder, sbgnvizInstance.thickenBorder);\n      var actions = [];\n      var nodesToThinBorder = hiddenEles.neighborhood(\":visible\").nodes(\"[thickBorder]\").difference(cy.edges(\":hidden\").difference(hiddenEles.edges().union(hiddenEles.nodes().connectedEdges())).connectedNodes());\n      actions.push({\n        name: \"thinBorder\",\n        param: nodesToThinBorder\n      });\n      actions.push({\n        name: \"showAndPerformLayout\",\n        param: param\n      });\n      var nodesToThickenBorder = hiddenEles.nodes().edgesWith(cy.nodes(\":hidden\").difference(hiddenEles.nodes())).connectedNodes().intersection(hiddenEles.nodes());\n      actions.push({\n        name: \"thickenBorder\",\n        param: nodesToThickenBorder\n      });\n      cy.undoRedo()[\"do\"](\"batch\", actions);\n    }\n  };\n\n  /*\r\n  * Takes the hidden elements close to the nodes whose neighbors will be shown\r\n  * */\n  mainUtilities.closeUpElements = function (mainEle, hiddenEles) {\n    var leftX = Number.MAX_VALUE;\n    var rightX = Number.MIN_VALUE;\n    var topY = Number.MAX_VALUE;\n    var bottomY = Number.MIN_VALUE;\n    // Check the x and y limits of all hidden elements and store them in the variables above\n    hiddenEles.forEach(function (ele) {\n      if (ele.data('class') != 'compartment' && ele.data('class') != 'complex') {\n        var halfWidth = ele.outerWidth() / 2;\n        var halfHeight = ele.outerHeight() / 2;\n        if (ele.position(\"x\") - halfWidth < leftX) leftX = ele.position(\"x\") - halfWidth;\n        if (ele.position(\"x\") + halfWidth > rightX) rightX = ele.position(\"x\") + halfWidth;\n        if (ele.position(\"y\") - halfHeight < topY) topY = ele.position(\"y\") - halfHeight;\n        if (ele.position(\"y\") + halfHeight > topY) bottomY = ele.position(\"y\") + halfHeight;\n      }\n    });\n\n    //The coordinates of the old center containing the hidden nodes\n    var oldCenterX = (leftX + rightX) / 2;\n    var oldCenterY = (topY + bottomY) / 2;\n\n    //Here we calculate two parameters which define the area in which the hidden elements are placed initially\n    var minHorizontalParam = mainEle.outerWidth() / 2 + (rightX - leftX) / 2;\n    var maxHorizontalParam = mainEle.outerWidth() + (rightX - leftX) / 2;\n    var minVerticalParam = mainEle.outerHeight() / 2 + (bottomY - topY) / 2;\n    var maxVerticalParam = mainEle.outerHeight() + (bottomY - topY) / 2;\n\n    //Quadrants is an object of the form {first:\"obtained\", second:\"free\", third:\"free\", fourth:\"obtained\"}\n    // which holds which quadrant are free (that's where hidden nodes will be brought)\n    var quadrants = mainUtilities.checkOccupiedQuadrants(mainEle, hiddenEles);\n    var freeQuadrants = [];\n    for (var property in quadrants) {\n      if (quadrants[property] === \"free\") freeQuadrants.push(property);\n    }\n\n    //Can take values 1 and -1 and are used to place the hidden nodes in the random quadrant\n    var horizontalMult;\n    var verticalMult;\n    if (freeQuadrants.length > 0) {\n      if (freeQuadrants.length === 3) {\n        if (freeQuadrants.includes('first') && freeQuadrants.includes('second') && freeQuadrants.includes('third')) {\n          horizontalMult = -1;\n          verticalMult = -1;\n        } else if (freeQuadrants.includes('first') && freeQuadrants.includes('second') && freeQuadrants.includes('fourth')) {\n          horizontalMult = 1;\n          verticalMult = -1;\n        } else if (freeQuadrants.includes('first') && freeQuadrants.includes('third') && freeQuadrants.includes('fourth')) {\n          horizontalMult = 1;\n          verticalMult = 1;\n        } else if (freeQuadrants.includes('second') && freeQuadrants.includes('third') && freeQuadrants.includes('fourth')) {\n          horizontalMult = -1;\n          verticalMult = 1;\n        }\n      } else {\n        //Randomly picks one quadrant from the free quadrants\n        var randomQuadrant = freeQuadrants[Math.floor(Math.random() * freeQuadrants.length)];\n        if (randomQuadrant === \"first\") {\n          horizontalMult = 1;\n          verticalMult = -1;\n        } else if (randomQuadrant === \"second\") {\n          horizontalMult = -1;\n          verticalMult = -1;\n        } else if (randomQuadrant === \"third\") {\n          horizontalMult = -1;\n          verticalMult = 1;\n        } else if (randomQuadrant === \"fourth\") {\n          horizontalMult = 1;\n          verticalMult = 1;\n        }\n      }\n    } else {\n      horizontalMult = 0;\n      verticalMult = 0;\n    }\n    // If the horizontalMult is 0 it means that no quadrant is free, so we randomly choose a quadrant\n    var horizontalParam = mainUtilities.generateRandom(minHorizontalParam, maxHorizontalParam, horizontalMult);\n    var verticalParam = mainUtilities.generateRandom(minVerticalParam, maxVerticalParam, verticalMult);\n\n    //The coordinates of the center where the hidden nodes will be transfered\n    var newCenterX = mainEle.position(\"x\") + horizontalParam;\n    var newCenterY = mainEle.position(\"y\") + verticalParam;\n    var xdiff = newCenterX - oldCenterX;\n    var ydiff = newCenterY - oldCenterY;\n\n    //Change the position of hidden elements\n    hiddenEles.forEach(function (ele) {\n      var newx = ele.position(\"x\") + xdiff;\n      var newy = ele.position(\"y\") + ydiff;\n      ele.position(\"x\", newx);\n      ele.position(\"y\", newy);\n    });\n  };\n\n  /*\r\n   * Generates a number between 2 nr and multimplies it with 1 or -1\r\n   * */\n  mainUtilities.generateRandom = function (min, max, mult) {\n    var val = [-1, 1];\n    if (mult === 0) mult = val[Math.floor(Math.random() * val.length)];\n    return (Math.floor(Math.random() * (max - min + 1)) + min) * mult;\n  };\n\n  /*\r\n   * This function makes sure that the random number lies in free quadrant\r\n   * */\n  mainUtilities.checkOccupiedQuadrants = function (mainEle, hiddenEles) {\n    if (elementUtilities.getMapType() == 'PD') {\n      var visibleNeighborEles = mainEle.neighborhood().difference(hiddenEles).nodes();\n      var visibleNeighborsOfNeighbors = visibleNeighborEles.neighborhood().difference(hiddenEles).difference(mainEle).nodes();\n      var visibleEles = visibleNeighborEles.union(visibleNeighborsOfNeighbors);\n    } else var visibleEles = mainEle.neighborhood().difference(hiddenEles).nodes();\n    var occupiedQuadrants = {\n      first: \"free\",\n      second: \"free\",\n      third: \"free\",\n      fourth: \"free\"\n    };\n    visibleEles.forEach(function (ele) {\n      if (ele.data('class') != 'compartment' && ele.data('class') != 'complex') {\n        if (ele.position(\"x\") < mainEle.position(\"x\") && ele.position(\"y\") < mainEle.position(\"y\")) occupiedQuadrants.second = \"occupied\";else if (ele.position(\"x\") > mainEle.position(\"x\") && ele.position(\"y\") < mainEle.position(\"y\")) occupiedQuadrants.first = \"occupied\";else if (ele.position(\"x\") < mainEle.position(\"x\") && ele.position(\"y\") > mainEle.position(\"y\")) occupiedQuadrants.third = \"occupied\";else if (ele.position(\"x\") > mainEle.position(\"x\") && ele.position(\"y\") > mainEle.position(\"y\")) occupiedQuadrants.fourth = \"occupied\";\n      }\n    });\n    return occupiedQuadrants;\n  };\n\n  // Overrides highlightProcesses from SBGNVIZ - do not highlight any nodes when the map type is AF\n  mainUtilities.highlightProcesses = function (_nodes) {\n    if (elementUtilities.getMapType() == \"AF\") return;\n    sbgnvizInstance.highlightProcesses(_nodes);\n  };\n\n  /**\r\n   * Resets map type to undefined\r\n   */\n  mainUtilities.resetMapType = function () {\n    elementUtilities.resetMapType();\n  };\n\n  /**\r\n   * return : map type\r\n   */\n  mainUtilities.getMapType = function () {\n    return elementUtilities.getMapType();\n  };\n  mainUtilities.addBackgroundImage = function (nodes, bgObj, updateInfo, promptInvalidImage, validateURL) {\n    if (nodes.length === 0 || !bgObj) {\n      return;\n    }\n    bgObj['firstTime'] = true;\n    if (options.undoable) {\n      var param = {\n        bgObj: bgObj,\n        nodes: nodes,\n        updateInfo: updateInfo,\n        promptInvalidImage: promptInvalidImage,\n        validateURL: validateURL\n      };\n      cy.undoRedo()[\"do\"](\"addBackgroundImage\", param);\n    } else {\n      elementUtilities.addBackgroundImage(nodes, bgObj, updateInfo, promptInvalidImage, validateURL);\n    }\n    cy.style().update();\n  };\n  mainUtilities.removeBackgroundImage = function (nodes, bgObj) {\n    if (nodes.length === 0 || !bgObj) {\n      return;\n    }\n    bgObj['firstTime'] = true;\n    if (options.undoable) {\n      var param = {\n        bgObj: bgObj,\n        nodes: nodes\n      };\n      cy.undoRedo()[\"do\"](\"removeBackgroundImage\", param);\n    } else {\n      elementUtilities.removeBackgroundImage(nodes, bgObj);\n    }\n    cy.style().update();\n  };\n  mainUtilities.updateBackgroundImage = function (nodes, bgObj) {\n    if (nodes.length === 0 || !bgObj) {\n      return;\n    }\n    if (options.undoable) {\n      var param = {\n        bgObj: bgObj,\n        nodes: nodes\n      };\n      cy.undoRedo()[\"do\"](\"updateBackgroundImage\", param);\n    } else {\n      elementUtilities.updateBackgroundImage(nodes, bgObj);\n    }\n    cy.style().update();\n  };\n  mainUtilities.changeBackgroundImage = function (nodes, oldImg, newImg, updateInfo, promptInvalidImage, validateURL) {\n    if (nodes.length === 0 || !oldImg || !newImg) {\n      return;\n    }\n    if (options.undoable) {\n      var param = {\n        oldImg: oldImg,\n        newImg: newImg,\n        nodes: nodes,\n        firstTime: true,\n        updateInfo: updateInfo,\n        promptInvalidImage: promptInvalidImage,\n        validateURL: validateURL\n      };\n      cy.undoRedo()[\"do\"](\"changeBackgroundImage\", param);\n    } else {\n      elementUtilities.changeBackgroundImage(nodes, oldImg, newImg, true, updateInfo, promptInvalidImage, validateURL);\n    }\n    cy.style().update();\n  };\n  return mainUtilities;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbGl0aWVzL21haW4tdXRpbGl0aWVzLWZhY3RvcnkuanMiLCJtYXBwaW5ncyI6IitDQUNBLHFKQUFBQSxtQkFBQSxZQUFBQSxvQkFBQSxXQUFBQyxDQUFBLFNBQUFDLENBQUEsRUFBQUQsQ0FBQSxPQUFBRSxDQUFBLEdBQUFDLE1BQUEsQ0FBQUMsU0FBQSxFQUFBQyxDQUFBLEdBQUFILENBQUEsQ0FBQUksY0FBQSxFQUFBQyxDQUFBLEdBQUFKLE1BQUEsQ0FBQUssY0FBQSxjQUFBUCxDQUFBLEVBQUFELENBQUEsRUFBQUUsQ0FBQSxJQUFBRCxDQUFBLENBQUFELENBQUEsSUFBQUUsQ0FBQSxDQUFBTyxLQUFBLEtBQUFDLENBQUEsd0JBQUFDLE1BQUEsR0FBQUEsTUFBQSxPQUFBQyxDQUFBLEdBQUFGLENBQUEsQ0FBQUcsUUFBQSxrQkFBQUMsQ0FBQSxHQUFBSixDQUFBLENBQUFLLGFBQUEsdUJBQUFDLENBQUEsR0FBQU4sQ0FBQSxDQUFBTyxXQUFBLDhCQUFBQyxPQUFBakIsQ0FBQSxFQUFBRCxDQUFBLEVBQUFFLENBQUEsV0FBQUMsTUFBQSxDQUFBSyxjQUFBLENBQUFQLENBQUEsRUFBQUQsQ0FBQSxJQUFBUyxLQUFBLEVBQUFQLENBQUEsRUFBQWlCLFVBQUEsTUFBQUMsWUFBQSxNQUFBQyxRQUFBLFNBQUFwQixDQUFBLENBQUFELENBQUEsV0FBQWtCLE1BQUEsbUJBQUFqQixDQUFBLElBQUFpQixNQUFBLFlBQUFBLE9BQUFqQixDQUFBLEVBQUFELENBQUEsRUFBQUUsQ0FBQSxXQUFBRCxDQUFBLENBQUFELENBQUEsSUFBQUUsQ0FBQSxnQkFBQW9CLEtBQUFyQixDQUFBLEVBQUFELENBQUEsRUFBQUUsQ0FBQSxFQUFBRyxDQUFBLFFBQUFLLENBQUEsR0FBQVYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFNBQUEsWUFBQW1CLFNBQUEsR0FBQXZCLENBQUEsR0FBQXVCLFNBQUEsRUFBQVgsQ0FBQSxHQUFBVCxNQUFBLENBQUFxQixNQUFBLENBQUFkLENB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QUFNO1FBQ2R0TyxLQUFLLEVBQUVBLEtBQUs7UUFDWnlDLFNBQVMsRUFBRSxJQUFJO1FBQ2ZzTCxVQUFVLEVBQUVBLFVBQVU7UUFDdEJDLGtCQUFrQixFQUFFQSxrQkFBa0I7UUFDdENDLFdBQVcsRUFBRUE7TUFDZixDQUFDO01BRURwUixFQUFFLENBQUNtQixRQUFRLENBQUMsQ0FBQyxNQUFHLENBQUMsdUJBQXVCLEVBQUVoQixLQUFLLENBQUM7SUFDbEQsQ0FBQyxNQUNJO01BQ0hMLGdCQUFnQixDQUFDeVIscUJBQXFCLENBQUNwTyxLQUFLLEVBQUVxTyxNQUFNLEVBQUVDLE1BQU0sRUFBRSxJQUFJLEVBQUVQLFVBQVUsRUFBRUMsa0JBQWtCLEVBQUVDLFdBQVcsQ0FBQztJQUNsSDtJQUVBcFIsRUFBRSxDQUFDa0osS0FBSyxDQUFDLENBQUMsQ0FBQ0MsTUFBTSxDQUFDLENBQUM7RUFDckIsQ0FBQztFQUVELE9BQU9qSixhQUFhO0FBQ3RCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGlzZS8uL3NyYy91dGlsaXRpZXMvbWFpbi11dGlsaXRpZXMtZmFjdG9yeS5qcz8wOGY4Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBsaWJzID0gcmVxdWlyZSgnLi9saWItdXRpbGl0aWVzJykuZ2V0TGlicygpO1xyXG5cclxuLypcclxuICogVGhlIG1haW4gdXRpbGl0aWVzIHRvIGJlIGV4cG9zZWQgZGlyZWN0bHkuXHJcbiAqL1xyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgdmFyIGVsZW1lbnRVdGlsaXRpZXMsIG9wdGlvbnMsIGN5LCBzYmdudml6SW5zdGFuY2U7XHJcblxyXG4gIGZ1bmN0aW9uIG1haW5VdGlsaXRpZXMgKHBhcmFtKSB7XHJcbiAgICBlbGVtZW50VXRpbGl0aWVzID0gcGFyYW0uZWxlbWVudFV0aWxpdGllcztcclxuICAgIG9wdGlvbnMgPSBwYXJhbS5vcHRpb25VdGlsaXRpZXMuZ2V0T3B0aW9ucygpO1xyXG4gICAgY3kgPSBwYXJhbS5zYmdudml6SW5zdGFuY2VVdGlsaXRpZXMuZ2V0Q3koKTtcclxuICAgIHNiZ252aXpJbnN0YW5jZSA9IHBhcmFtLnNiZ252aXpJbnN0YW5jZVV0aWxpdGllcy5nZXRJbnN0YW5jZSgpO1xyXG4gIH07XHJcblxyXG4gIC8qXHJcbiAgICogQWRkcyBhIG5ldyBub2RlIHdpdGggdGhlIGdpdmVuIGNsYXNzIGFuZCBhdCB0aGUgZ2l2ZW4gY29vcmRpbmF0ZXMuIENvbnNpZGVycyB1bmRvYWJsZSBvcHRpb24uXHJcbiAgICovXHJcbiAgbWFpblV0aWxpdGllcy5hZGROb2RlID0gZnVuY3Rpb24oeCwgeSAsIG5vZGVQYXJhbXMsIGlkLCBwYXJlbnQsIHZpc2liaWxpdHkpIHtcclxuICAgIGlmICggZWxlbWVudFV0aWxpdGllcy5pc0dyYXBoVG9wb2xvZ3lMb2NrZWQoKSApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0ZSBtYXAgdHlwZVxyXG4gICAgaWYgKHR5cGVvZiBub2RlUGFyYW1zID09ICdvYmplY3QnKXtcclxuLyogXHJcbiAgICAgIGlmICghZWxlbWVudFV0aWxpdGllcy5nZXRNYXBUeXBlKCkpXHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5zZXRNYXBUeXBlKG5vZGVQYXJhbXMubGFuZ3VhZ2UpO1xyXG4gICAgICBlbHNlIGlmIChlbGVtZW50VXRpbGl0aWVzLmdldE1hcFR5cGUoKSAhPSBub2RlUGFyYW1zLmxhbmd1YWdlKVxyXG4gICAgICAgIGVsZW1lbnRVdGlsaXRpZXMuc2V0TWFwVHlwZShcIlVua25vd25cIik7ICovXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFvcHRpb25zLnVuZG9hYmxlKSB7XHJcbiAgICAgIHJldHVybiBlbGVtZW50VXRpbGl0aWVzLmFkZE5vZGUoeCwgeSwgbm9kZVBhcmFtcywgaWQsIHBhcmVudCwgdmlzaWJpbGl0eSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdmFyIHBhcmFtID0ge1xyXG4gICAgICAgIG5ld05vZGUgOiB7XHJcbiAgICAgICAgICB4OiB4LFxyXG4gICAgICAgICAgeTogeSxcclxuICAgICAgICAgIGNsYXNzOiBub2RlUGFyYW1zLFxyXG4gICAgICAgICAgaWQ6IGlkLFxyXG4gICAgICAgICAgcGFyZW50OiBwYXJlbnQsXHJcbiAgICAgICAgICB2aXNpYmlsaXR5OiB2aXNpYmlsaXR5XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdmFyIHJlc3VsdCA9IGN5LnVuZG9SZWRvKCkuZG8oXCJhZGROb2RlXCIsIHBhcmFtKTtcclxuICAgICAgcmV0dXJuIHJlc3VsdC5lbGVzO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qXHJcbiAgICogQWRkcyBhIG5ldyBlZGdlIHdpdGggdGhlIGdpdmVuIGNsYXNzIGFuZCBoYXZpbmcgdGhlIGdpdmVuIHNvdXJjZSBhbmQgdGFyZ2V0IGlkcy4gQ29uc2lkZXJzIHVuZG9hYmxlIG9wdGlvbi5cclxuICAgKi9cclxuICBtYWluVXRpbGl0aWVzLmFkZEVkZ2UgPSBmdW5jdGlvbihzb3VyY2UsIHRhcmdldCwgZWRnZVBhcmFtcywgaW52YWxpZEVkZ2VDYWxsYmFjaywgaWQsIHZpc2liaWxpdHkpIHtcclxuICAgIGlmICggZWxlbWVudFV0aWxpdGllcy5pc0dyYXBoVG9wb2xvZ3lMb2NrZWQoKSApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0ZSBtYXAgdHlwZVxyXG4gICAgaWYgKHR5cGVvZiBlZGdlUGFyYW1zID09ICdvYmplY3QnKXtcclxuXHJcbiAgICAgLyogIGlmICghZWxlbWVudFV0aWxpdGllcy5nZXRNYXBUeXBlKCkpXHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5zZXRNYXBUeXBlKGVkZ2VQYXJhbXMubGFuZ3VhZ2UpO1xyXG4gICAgICBlbHNlIGlmIChlbGVtZW50VXRpbGl0aWVzLmdldE1hcFR5cGUoKSAhPSBlZGdlUGFyYW1zLmxhbmd1YWdlKVxyXG4gICAgICAgIGVsZW1lbnRVdGlsaXRpZXMuc2V0TWFwVHlwZShcIkh5YnJpZEFueVwiKTsgKi9cclxuICAgIH1cclxuICAgIC8vIEdldCB0aGUgdmFsaWRhdGlvbiByZXN1bHRcclxuICAgIHZhciBlZGdlY2xhc3MgPSBlZGdlUGFyYW1zLmNsYXNzID8gZWRnZVBhcmFtcy5jbGFzcyA6IGVkZ2VQYXJhbXM7XHJcbiAgICB2YXIgdmFsaWRhdGlvbiA9IGVsZW1lbnRVdGlsaXRpZXMudmFsaWRhdGVBcnJvd0VuZHMoZWRnZWNsYXNzLCBjeS5nZXRFbGVtZW50QnlJZChzb3VyY2UpLCBjeS5nZXRFbGVtZW50QnlJZCh0YXJnZXQpKTtcclxuXHJcbiAgICAvLyBJZiB2YWxpZGF0aW9uIHJlc3VsdCBpcyAnaW52YWxpZCcgY2FuY2VsIHRoZSBvcGVyYXRpb25cclxuICAgIGlmICh2YWxpZGF0aW9uID09PSAnaW52YWxpZCcpIHtcclxuICAgICAgaWYodHlwZW9mIGludmFsaWRFZGdlQ2FsbGJhY2sgPT09IFwiZnVuY3Rpb25cIil7XHJcbiAgICAgICAgaW52YWxpZEVkZ2VDYWxsYmFjaygpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiB2YWxpZGF0aW9uIHJlc3VsdCBpcyAncmV2ZXJzZScgcmV2ZXJzZSB0aGUgc291cmNlLXRhcmdldCBwYWlyIGJlZm9yZSBjcmVhdGluZyB0aGUgZWRnZVxyXG4gICAgaWYgKHZhbGlkYXRpb24gPT09ICdyZXZlcnNlJykge1xyXG4gICAgICB2YXIgdGVtcCA9IHNvdXJjZTtcclxuICAgICAgc291cmNlID0gdGFyZ2V0O1xyXG4gICAgICB0YXJnZXQgPSB0ZW1wO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghb3B0aW9ucy51bmRvYWJsZSkge1xyXG4gICAgICByZXR1cm4gZWxlbWVudFV0aWxpdGllcy5hZGRFZGdlKHNvdXJjZSwgdGFyZ2V0LCBlZGdlUGFyYW1zLCBpZCwgdmlzaWJpbGl0eSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdmFyIHBhcmFtID0ge1xyXG4gICAgICAgIG5ld0VkZ2UgOiB7XHJcbiAgICAgICAgICBzb3VyY2U6IHNvdXJjZSxcclxuICAgICAgICAgIHRhcmdldDogdGFyZ2V0LFxyXG4gICAgICAgICAgY2xhc3M6IGVkZ2VQYXJhbXMsXHJcbiAgICAgICAgICBpZDogaWQsXHJcbiAgICAgICAgICB2aXNpYmlsaXR5OiB2aXNpYmlsaXR5XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdmFyIHJlc3VsdCA9IGN5LnVuZG9SZWRvKCkuZG8oXCJhZGRFZGdlXCIsIHBhcmFtKTtcclxuICAgICAgcmV0dXJuIHJlc3VsdC5lbGVzO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qXHJcbiAgICogQWRkcyBhIHByb2Nlc3Mgd2l0aCBjb252ZW5pZW50IGVkZ2VzLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBwbGVhc2Ugc2VlICdodHRwczovL2dpdGh1Yi5jb20vaVZpcy1hdC1CaWxrZW50L25ld3QvaXNzdWVzLzknLlxyXG4gICAqIENvbnNpZGVycyB1bmRvYWJsZSBvcHRpb24uXHJcbiAgICovXHJcbiAgbWFpblV0aWxpdGllcy5hZGRQcm9jZXNzV2l0aENvbnZlbmllbnRFZGdlcyA9IGZ1bmN0aW9uKF9zb3VyY2UsIF90YXJnZXQsIHByb2Nlc3NUeXBlKSB7XHJcbiAgICBpZiAoIGVsZW1lbnRVdGlsaXRpZXMuaXNHcmFwaFRvcG9sb2d5TG9ja2VkKCkgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBzb3VyY2UgYW5kIHRhcmdldCBJRHMgYXJlIGdpdmVuIGdldCB0aGUgZWxlbWVudHMgYnkgSURzXHJcbiAgICB2YXIgc291cmNlID0gdHlwZW9mIF9zb3VyY2UgPT09ICdzdHJpbmcnID8gY3kuZ2V0RWxlbWVudEJ5SWQoX3NvdXJjZSkgOiBfc291cmNlO1xyXG4gICAgdmFyIHRhcmdldCA9IHR5cGVvZiBfdGFyZ2V0ID09PSAnc3RyaW5nJyA/IGN5LmdldEVsZW1lbnRCeUlkKF90YXJnZXQpIDogX3RhcmdldDtcclxuXHJcbiAgICAvLyBJZiBzb3VyY2Ugb3IgdGFyZ2V0IGRvZXMgbm90IGhhdmUgYW4gRVBOIGNsYXNzIHRoZSBvcGVyYXRpb24gaXMgbm90IHZhbGlkXHJcbiAgICBpZiAoIWVsZW1lbnRVdGlsaXRpZXMuaXNFUE5DbGFzcyhzb3VyY2UpIHx8ICFlbGVtZW50VXRpbGl0aWVzLmlzRVBOQ2xhc3ModGFyZ2V0KSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFvcHRpb25zLnVuZG9hYmxlKSB7XHJcbiAgICAgIHJldHVybiBlbGVtZW50VXRpbGl0aWVzLmFkZFByb2Nlc3NXaXRoQ29udmVuaWVudEVkZ2VzKF9zb3VyY2UsIF90YXJnZXQsIHByb2Nlc3NUeXBlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB2YXIgcGFyYW0gPSB7XHJcbiAgICAgICAgc291cmNlOiBfc291cmNlLFxyXG4gICAgICAgIHRhcmdldDogX3RhcmdldCxcclxuICAgICAgICBwcm9jZXNzVHlwZTogcHJvY2Vzc1R5cGVcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGN5LnVuZG9SZWRvKCkuZG8oXCJhZGRQcm9jZXNzV2l0aENvbnZlbmllbnRFZGdlc1wiLCBwYXJhbSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gY29udmVydCBjb2xsYXBzZWQgY29tcG91bmQgbm9kZXMgdG8gc2ltcGxlIG5vZGVzXHJcbiAgLy8gYW5kIHVwZGF0ZSBwb3J0IHZhbHVlcyBvZiBwYXN0ZWQgbm9kZXMgYW5kIGVkZ2VzXHJcbiAgdmFyIGNsb25lQ29sbGFwc2VkTm9kZXNBbmRQb3J0cyA9IGZ1bmN0aW9uIChlbGVzQmVmb3JlKXtcclxuICAgIGlmICggZWxlbWVudFV0aWxpdGllcy5pc0dyYXBoVG9wb2xvZ3lMb2NrZWQoKSApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGN5LmVsZW1lbnRzKCkudW5zZWxlY3QoKTtcclxuICAgIHZhciBlbGVzQWZ0ZXIgPSBjeS5lbGVtZW50cygpO1xyXG4gICAgdmFyIGVsZXNEaWZmID0gZWxlc0FmdGVyLmRpZmYoZWxlc0JlZm9yZSkubGVmdDtcclxuXHJcbiAgICAvLyBzaGFsbG93IGNvcHkgY29sbGFwc2VkIG5vZGVzIC0gY29sbGFwc2VkIGNvbXBvdW5kcyBiZWNvbWUgc2ltcGxlIG5vZGVzXHJcbiAgICAvLyBkYXRhIHJlbGF0ZWQgdG8gY29sbGFwc2VkIG5vZGVzIGFyZSByZW1vdmVkIGZyb20gZ2VuZXJhdGVkIGNsb25lc1xyXG4gICAgLy8gcmVsYXRlZCBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL2lWaXMtYXQtQmlsa2VudC9uZXd0L2lzc3Vlcy8xNDVcclxuICAgIHZhciBjb2xsYXBzZWROb2RlcyA9IGVsZXNEaWZmLmZpbHRlcignbm9kZS5jeS1leHBhbmQtY29sbGFwc2UtY29sbGFwc2VkLW5vZGUnKTtcclxuXHJcbiAgICBjb2xsYXBzZWROb2Rlcy5jb25uZWN0ZWRFZGdlcygpLnJlbW92ZSgpO1xyXG4gICAgY29sbGFwc2VkTm9kZXMucmVtb3ZlQ2xhc3MoJ2N5LWV4cGFuZC1jb2xsYXBzZS1jb2xsYXBzZWQtbm9kZScpO1xyXG4gICAgY29sbGFwc2VkTm9kZXMucmVtb3ZlRGF0YSgnY29sbGFwc2VkQ2hpbGRyZW4nKTtcclxuICAgIGNvbGxhcHNlZE5vZGVzLnJlbW92ZURhdGEoJ3Bvc2l0aW9uLWJlZm9yZS1jb2xsYXBzZSBzaXplLWJlZm9yZS1jb2xsYXBzZScpO1xyXG4gICAgY29sbGFwc2VkTm9kZXMucmVtb3ZlRGF0YSgnZXhwYW5kY29sbGFwc2VSZW5kZXJlZEN1ZVNpemUgZXhwYW5kY29sbGFwc2VSZW5kZXJlZFN0YXJ0WCBleHBhbmRjb2xsYXBzZVJlbmRlcmVkU3RhcnRZJyk7XHJcblxyXG4gICAgLy8gY2xvbmluZyBwb3J0c1xyXG4gICAgZWxlc0RpZmYubm9kZXMoKS5mb3JFYWNoKGZ1bmN0aW9uKF9ub2RlKXtcclxuICAgICAgaWYoX25vZGUuZGF0YShcInBvcnRzXCIpLmxlbmd0aCA9PSAyKXtcclxuICAgICAgICAgIHZhciBvbGRQb3J0TmFtZTAgPSBfbm9kZS5kYXRhKFwicG9ydHNcIilbMF0uaWQ7XHJcbiAgICAgICAgICB2YXIgb2xkUG9ydE5hbWUxID0gX25vZGUuZGF0YShcInBvcnRzXCIpWzFdLmlkO1xyXG4gICAgICAgICAgX25vZGUuZGF0YShcInBvcnRzXCIpWzBdLmlkID0gX25vZGUuaWQoKSArIFwiLjFcIjtcclxuICAgICAgICAgIF9ub2RlLmRhdGEoXCJwb3J0c1wiKVsxXS5pZCA9IF9ub2RlLmlkKCkgKyBcIi4yXCI7XHJcblxyXG4gICAgICAgICAgX25vZGUub3V0Z29lcnMoKS5lZGdlcygpLmZvckVhY2goZnVuY3Rpb24oX2VkZ2Upe1xyXG4gICAgICAgICAgICBpZihfZWRnZS5kYXRhKFwicG9ydHNvdXJjZVwiKSA9PSBvbGRQb3J0TmFtZTApe1xyXG4gICAgICAgICAgICAgIF9lZGdlLmRhdGEoXCJwb3J0c291cmNlXCIsIF9ub2RlLmRhdGEoXCJwb3J0c1wiKVswXS5pZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZihfZWRnZS5kYXRhKFwicG9ydHNvdXJjZVwiKSA9PSBvbGRQb3J0TmFtZTEpe1xyXG4gICAgICAgICAgICAgIF9lZGdlLmRhdGEoXCJwb3J0c291cmNlXCIsIF9ub2RlLmRhdGEoXCJwb3J0c1wiKVsxXS5pZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICBfZWRnZS5kYXRhKFwicG9ydHNvdXJjZVwiLCBfbm9kZS5pZCgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBfbm9kZS5pbmNvbWVycygpLmVkZ2VzKCkuZm9yRWFjaChmdW5jdGlvbihfZWRnZSl7XHJcbiAgICAgICAgICAgIGlmKF9lZGdlLmRhdGEoXCJwb3J0dGFyZ2V0XCIpID09IG9sZFBvcnROYW1lMCl7XHJcbiAgICAgICAgICAgICAgX2VkZ2UuZGF0YShcInBvcnR0YXJnZXRcIiwgX25vZGUuZGF0YShcInBvcnRzXCIpWzBdLmlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKF9lZGdlLmRhdGEoXCJwb3J0dGFyZ2V0XCIpID09IG9sZFBvcnROYW1lMSl7XHJcbiAgICAgICAgICAgICAgX2VkZ2UuZGF0YShcInBvcnR0YXJnZXRcIiwgX25vZGUuZGF0YShcInBvcnRzXCIpWzFdLmlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgIF9lZGdlLmRhdGEoXCJwb3J0dGFyZ2V0XCIsIF9ub2RlLmlkKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICBlbHNle1xyXG4gICAgICAgIF9ub2RlLm91dGdvZXJzKCkuZWRnZXMoKS5mb3JFYWNoKGZ1bmN0aW9uKF9lZGdlKXtcclxuICAgICAgICAgIF9lZGdlLmRhdGEoXCJwb3J0c291cmNlXCIsIF9ub2RlLmlkKCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIF9ub2RlLmluY29tZXJzKCkuZWRnZXMoKS5mb3JFYWNoKGZ1bmN0aW9uKF9lZGdlKXtcclxuICAgICAgICAgIF9lZGdlLmRhdGEoXCJwb3J0dGFyZ2V0XCIsIF9ub2RlLmlkKCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGVsZXNEaWZmLnNlbGVjdCgpO1xyXG4gIH1cclxuXHJcbiAgLypcclxuICAgKiBDbG9uZSBnaXZlbiBlbGVtZW50cy4gQ29uc2lkZXJzIHVuZG9hYmxlIG9wdGlvbi4gUmVxdWlyZXMgY3l0b3NjYXBlLWNsaXBib2FyZCBleHRlbnNpb24uXHJcbiAgICovXHJcbiAgbWFpblV0aWxpdGllcy5jbG9uZUVsZW1lbnRzID0gZnVuY3Rpb24gKGVsZXMsIHBhc3RlQXRNb3VzZUxvYykge1xyXG4gICAgaWYgKCBlbGVtZW50VXRpbGl0aWVzLmlzR3JhcGhUb3BvbG9neUxvY2tlZCgpICkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVsZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNvcHlFbGVtZW50cyhlbGVzKTtcclxuXHJcbiAgICB0aGlzLnBhc3RlRWxlbWVudHMocGFzdGVBdE1vdXNlTG9jKTtcclxuICB9O1xyXG5cclxuICAvKlxyXG4gICAqIENvcHkgZ2l2ZW4gZWxlbWVudHMgdG8gY2xpcGJvYXJkLiBSZXF1aXJlcyBjeXRvc2NhcGUtY2xpcGJvYXJkIGV4dGVuc2lvbi5cclxuICAgKi9cclxuICBtYWluVXRpbGl0aWVzLmNvcHlFbGVtZW50cyA9IGZ1bmN0aW9uIChlbGVzKSB7XHJcbiAgICBjeS5jbGlwYm9hcmQoKS5jb3B5KGVsZXMpO1xyXG4gIH07XHJcblxyXG4gIC8qXHJcbiAgICogUGFzdGUgdGhlIGVsZW1lbnRzIGNvcGllZCB0byBjbGlwYm9hcmQuIENvbnNpZGVycyB1bmRvYWJsZSBvcHRpb24uIFJlcXVpcmVzIGN5dG9zY2FwZS1jbGlwYm9hcmQgZXh0ZW5zaW9uLlxyXG4gICAqL1xyXG4gIG1haW5VdGlsaXRpZXMucGFzdGVFbGVtZW50cyA9IGZ1bmN0aW9uKHBhc3RlQXRNb3VzZUxvYykge1xyXG4gICAgaWYgKCBlbGVtZW50VXRpbGl0aWVzLmlzR3JhcGhUb3BvbG9neUxvY2tlZCgpICkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGVsZXNCZWZvcmUgPSBjeS5lbGVtZW50cygpO1xyXG5cclxuICAgIGlmIChvcHRpb25zLnVuZG9hYmxlKSB7XHJcbiAgICAgIGN5LnVuZG9SZWRvKCkuZG8oXCJwYXN0ZVwiLHtwYXN0ZUF0TW91c2VMb2M6IHBhc3RlQXRNb3VzZUxvY30pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGN5LmNsaXBib2FyZCgpLnBhc3RlKCk7XHJcbiAgICB9XHJcbiAgICBjbG9uZUNvbGxhcHNlZE5vZGVzQW5kUG9ydHMoZWxlc0JlZm9yZSk7XHJcbiAgICBjeS5ub2RlcyhcIjpzZWxlY3RlZFwiKS5lbWl0KCdkYXRhJyk7XHJcbiAgfTtcclxuXHJcbiAgLypcclxuICAgKiBBbGlnbnMgZ2l2ZW4gbm9kZXMgaW4gZ2l2ZW4gaG9yaXpvbnRhbCBhbmQgdmVydGljYWwgb3JkZXIuXHJcbiAgICogSG9yaXpvbnRhbCBhbmQgdmVydGljYWwgcGFyYW1ldGVycyBtYXkgYmUgJ25vbmUnIG9yIHVuZGVmaW5lZC5cclxuICAgKiBhbGlnblRvIHBhcmFtZXRlciBpbmRpY2F0ZXMgdGhlIGxlYWRpbmcgbm9kZS5cclxuICAgKiBSZXF1cmlyZXMgY3l0b3NjYXBlLWdyaWQtZ3VpZGUgZXh0ZW5zaW9uIGFuZCBjb25zaWRlcnMgdW5kb2FibGUgb3B0aW9uLlxyXG4gICAqL1xyXG4gIG1haW5VdGlsaXRpZXMuYWxpZ24gPSBmdW5jdGlvbiAobm9kZXMsIGhvcml6b250YWwsIHZlcnRpY2FsLCBhbGlnblRvKSB7XHJcbiAgICBpZiAobm9kZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAob3B0aW9ucy51bmRvYWJsZSkge1xyXG4gICAgICBjeS51bmRvUmVkbygpLmRvKFwiYWxpZ25cIiwge1xyXG4gICAgICAgIG5vZGVzOiBub2RlcyxcclxuICAgICAgICBob3Jpem9udGFsOiBob3Jpem9udGFsLFxyXG4gICAgICAgIHZlcnRpY2FsOiB2ZXJ0aWNhbCxcclxuICAgICAgICBhbGlnblRvOiBhbGlnblRvXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbm9kZXMuYWxpZ24oaG9yaXpvbnRhbCwgdmVydGljYWwsIGFsaWduVG8pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKGN5LmVkZ2VzKFwiOnNlbGVjdGVkXCIpLmxlbmd0aCA9PSAxICkge1xyXG4gICAgICBjeS5lZGdlcygpLnVuc2VsZWN0KCk7ICAgICAgXHJcbiAgICB9XHJcbiAgICBcclxuICB9O1xyXG5cclxuICAvKlxyXG4gICAqIENyZWF0ZSBjb21wb3VuZCBmb3IgZ2l2ZW4gbm9kZXMuIGNvbXBvdW5kVHlwZSBtYXkgYmUgJ2NvbXBsZXgnIG9yICdjb21wYXJ0bWVudCcuXHJcbiAgICogVGhpcyBtZXRob2QgY29uc2lkZXJzIHVuZG9hYmxlIG9wdGlvbi5cclxuICAgKi9cclxuICBtYWluVXRpbGl0aWVzLmNyZWF0ZUNvbXBvdW5kRm9yR2l2ZW5Ob2RlcyA9IGZ1bmN0aW9uIChfbm9kZXMsIGNvbXBvdW5kVHlwZSkge1xyXG4gICAgaWYgKCBlbGVtZW50VXRpbGl0aWVzLmlzR3JhcGhUb3BvbG9neUxvY2tlZCgpICkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIG5vZGVzID0gX25vZGVzO1xyXG4gICAgLypcclxuICAgICAqIEVsZW1pbmF0ZSB0aGUgbm9kZXMgd2hpY2ggY2Fubm90IGhhdmUgYSBwYXJlbnQgd2l0aCBnaXZlbiBjb21wb3VuZCB0eXBlXHJcbiAgICAgKi9cclxuICAgIG5vZGVzID0gX25vZGVzLmZpbHRlcihmdW5jdGlvbiAoZWxlbWVudCwgaSkge1xyXG4gICAgICBpZih0eXBlb2YgZWxlbWVudCA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgIGVsZW1lbnQgPSBpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgc2JnbmNsYXNzID0gZWxlbWVudC5kYXRhKFwiY2xhc3NcIik7XHJcbiAgICAgIHJldHVybiBlbGVtZW50VXRpbGl0aWVzLmlzVmFsaWRQYXJlbnQoc2JnbmNsYXNzLCBjb21wb3VuZFR5cGUsIGVsZW1lbnQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgbm9kZXMgPSBlbGVtZW50VXRpbGl0aWVzLmdldFRvcE1vc3ROb2Rlcyhub2Rlcyk7XHJcblxyXG4gICAgLy8gQWxsIGVsZW1lbnRzIHNob3VsZCBoYXZlIHRoZSBzYW1lIHBhcmVudCBhbmQgdGhlIGNvbW1vbiBwYXJlbnQgc2hvdWxkIG5vdCBiZSBhICdjb21wbGV4J1xyXG4gICAgLy8gaWYgY29tcG91bmRUeXBlIGlzICdjb21wYXJ0ZW50J1xyXG4gICAgLy8gYmVjYXVzZSB0aGUgb2xkIGNvbW1vbiBwYXJlbnQgd2lsbCBiZSB0aGUgcGFyZW50IG9mIHRoZSBuZXcgY29tcGFydG1lbnQgYWZ0ZXIgdGhpcyBvcGVyYXRpb24gYW5kXHJcbiAgICAvLyAnY29tcGxleGVzJyBjYW5ub3QgaW5jbHVkZSAnY29tcGFydG1lbnRzJ1xyXG4gICAgaWYgKG5vZGVzLmxlbmd0aCA9PSAwIHx8ICFlbGVtZW50VXRpbGl0aWVzLmFsbEhhdmVUaGVTYW1lUGFyZW50KG5vZGVzKVxyXG4gICAgICAgICAgICB8fCAoIChjb21wb3VuZFR5cGUgPT09ICdjb21wYXJ0bWVudCcgfHwgY29tcG91bmRUeXBlID09ICdzdWJtYXAnKSAmJiBub2Rlcy5wYXJlbnQoKS5kYXRhKCdjbGFzcycpXHJcbiAgICAgICAgICAgICYmIG5vZGVzLnBhcmVudCgpLmRhdGEoJ2NsYXNzJykuc3RhcnRzV2l0aCgnY29tcGxleCcpICkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjeS51bmRvUmVkbygpKSB7XHJcbiAgICAgIHZhciBwYXJhbSA9IHtcclxuICAgICAgICBjb21wb3VuZFR5cGU6IGNvbXBvdW5kVHlwZSxcclxuICAgICAgICBub2Rlc1RvTWFrZUNvbXBvdW5kOiBub2Rlc1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgY3kudW5kb1JlZG8oKS5kbyhcImNyZWF0ZUNvbXBvdW5kRm9yR2l2ZW5Ob2Rlc1wiLCBwYXJhbSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgZWxlbWVudFV0aWxpdGllcy5jcmVhdGVDb21wb3VuZEZvckdpdmVuTm9kZXMobm9kZXMsIGNvbXBvdW5kVHlwZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLypcclxuICAgKiBNb3ZlIHRoZSBub2RlcyB0byBhIG5ldyBwYXJlbnQgYW5kIGNoYW5nZSB0aGVpciBwb3NpdGlvbiBpZiBwb3NzRGlmZiBwYXJhbXMgYXJlIHNldC5cclxuICAgKiBDb25zaWRlcnMgdW5kb2FibGUgb3B0aW9uIGFuZCBjaGVja3MgaWYgdGhlIG9wZXJhdGlvbiBpcyB2YWxpZC5cclxuICAgKi9cclxuICBtYWluVXRpbGl0aWVzLmNoYW5nZVBhcmVudCA9IGZ1bmN0aW9uKG5vZGVzLCBfbmV3UGFyZW50LCBwb3NEaWZmWCwgcG9zRGlmZlkpIHtcclxuICAgIGlmICggZWxlbWVudFV0aWxpdGllcy5pc0dyYXBoVG9wb2xvZ3lMb2NrZWQoKSApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBuZXdQYXJlbnQgPSB0eXBlb2YgX25ld1BhcmVudCA9PT0gJ3N0cmluZycgPyBjeS5nZXRFbGVtZW50QnlJZChfbmV3UGFyZW50KSA6IF9uZXdQYXJlbnQ7XHJcbiAgICAvLyBOZXcgcGFyZW50IGlzIHN1cHBvc2VkIHRvIGJlIG9uZSBvZiB0aGUgcm9vdCwgYSBjb21wbGV4IG9yIGEgY29tcGFydG1lbnRcclxuICAgIGlmIChuZXdQYXJlbnQgJiYgIW5ld1BhcmVudC5kYXRhKFwiY2xhc3NcIikuc3RhcnRzV2l0aChcImNvbXBsZXhcIikgJiYgbmV3UGFyZW50LmRhdGEoXCJjbGFzc1wiKSAhPSBcImNvbXBhcnRtZW50XCJcclxuICAgICAgICAgICAgJiYgbmV3UGFyZW50LmRhdGEoXCJjbGFzc1wiKSAhPSBcInN1Ym1hcFwiKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIC8qXHJcbiAgICAgKiBFbGVtaW5hdGUgdGhlIG5vZGVzIHdoaWNoIGNhbm5vdCBoYXZlIHRoZSBuZXdQYXJlbnQgYXMgdGhlaXIgcGFyZW50XHJcbiAgICAgKi9cclxuICAgIG5vZGVzID0gbm9kZXMuZmlsdGVyKGZ1bmN0aW9uIChlbGVtZW50LCBpKSB7XHJcbiAgICAgIGlmKHR5cGVvZiBlbGVtZW50ID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgZWxlbWVudCA9IGk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBzYmduY2xhc3MgPSBlbGVtZW50LmRhdGEoXCJjbGFzc1wiKTtcclxuICAgICAgcmV0dXJuIGVsZW1lbnRVdGlsaXRpZXMuaXNWYWxpZFBhcmVudChzYmduY2xhc3MsIG5ld1BhcmVudCwgZWxlbWVudCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBEaXNjYXJkIHRoZSBub2RlcyB3aG9zZSBwYXJlbnQgaXMgYWxyZWFkeSBuZXdQYXJlbnQuXHJcbiAgICAvLyBEaXNjYXJkIHRoZSBuZXdQYXJlbnQgaXRzZWxmIGlmIGl0IGlzIGFtb25nIHRoZSBub2Rlc1xyXG4gICAgbm9kZXMgPSBub2Rlcy5maWx0ZXIoZnVuY3Rpb24gKGVsZSwgaSkge1xyXG4gICAgICBpZih0eXBlb2YgZWxlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgZWxlID0gaTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRGlzY2FyZCB0aGUgbmV3UGFyZW50IGlmIGl0IGlzIGFtb25nIHRoZSBub2Rlc1xyXG4gICAgICBpZiAobmV3UGFyZW50ICYmIGVsZS5pZCgpID09PSBuZXdQYXJlbnQuaWQoKSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICAvLyBEaXNjYXJkIHRoZSBub2RlcyB3aG9zZSBwYXJlbnQgaXMgYWxyZWFkeSBuZXdQYXJlbnRcclxuICAgICAgaWYgKCFuZXdQYXJlbnQpIHtcclxuICAgICAgICByZXR1cm4gZWxlLmRhdGEoJ3BhcmVudCcpICE9IG51bGw7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGVsZS5kYXRhKCdwYXJlbnQnKSAhPT0gbmV3UGFyZW50LmlkKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBJZiBzb21lIG5vZGVzIGFyZSBhbmNlc3RvciBvZiBuZXcgcGFyZW50IGVsZW1pbmF0ZSB0aGVtXHJcbiAgICBpZiAobmV3UGFyZW50KSB7XHJcbiAgICAgIG5vZGVzID0gbm9kZXMuZGlmZmVyZW5jZShuZXdQYXJlbnQuYW5jZXN0b3JzKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIGFsbCBub2RlcyBhcmUgZWxlbWluYXRlZCByZXR1cm4gZGlyZWN0bHlcclxuICAgIGlmIChub2Rlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEp1c3QgbW92ZSB0aGUgdG9wIG1vc3Qgbm9kZXNcclxuICAgIG5vZGVzID0gZWxlbWVudFV0aWxpdGllcy5nZXRUb3BNb3N0Tm9kZXMobm9kZXMpO1xyXG5cclxuICAgIHZhciBwYXJlbnRJZCA9IG5ld1BhcmVudCA/IG5ld1BhcmVudC5pZCgpIDogbnVsbDtcclxuXHJcbiAgICBpZiAob3B0aW9ucy51bmRvYWJsZSkge1xyXG4gICAgICB2YXIgcGFyYW0gPSB7XHJcbiAgICAgICAgZmlyc3RUaW1lOiB0cnVlLFxyXG4gICAgICAgIHBhcmVudERhdGE6IHBhcmVudElkLCAvLyBJdCBrZWVwcyB0aGUgbmV3UGFyZW50SWQgKEp1c3QgYW4gaWQgZm9yIGVhY2ggbm9kZXMgZm9yIHRoZSBmaXJzdCB0aW1lKVxyXG4gICAgICAgIG5vZGVzOiBub2RlcyxcclxuICAgICAgICBwb3NEaWZmWDogcG9zRGlmZlgsXHJcbiAgICAgICAgcG9zRGlmZlk6IHBvc0RpZmZZLFxyXG4gICAgICAgIC8vIFRoaXMgaXMgbmVlZGVkIGJlY2F1c2UgdGhlIGNoYW5nZVBhcmVudCBmdW5jdGlvbiBjYWxsZWQgaXMgbm90IGZyb20gZWxlbWVudFV0aWxpdGllc1xyXG4gICAgICAgIC8vIGJ1dCBmcm9tIHRoZSB1bmRvUmVkbyBleHRlbnNpb24gZGlyZWN0bHksIHNvIG1haW50YWluaW5nIHBvaW50ZXIgaXMgbm90IGF1dG9tYXRpY2FsbHkgZG9uZS5cclxuICAgICAgICBjYWxsYmFjazogZWxlbWVudFV0aWxpdGllcy5tYWludGFpblBvaW50ZXJcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGN5LnVuZG9SZWRvKCkuZG8oXCJjaGFuZ2VQYXJlbnRcIiwgcGFyYW0pOyAvLyBUaGlzIGFjdGlvbiBpcyByZWdpc3RlcmVkIGJ5IHVuZG9SZWRvIGV4dGVuc2lvblxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGVsZW1lbnRVdGlsaXRpZXMuY2hhbmdlUGFyZW50KG5vZGVzLCBwYXJlbnRJZCwgcG9zRGlmZlgsIHBvc0RpZmZZKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKlxyXG4gICAqIENyZWF0ZXMgYW4gYWN0aXZhdGlvbiByZWFjdGlvbiB3aXRoIGdpdmVuIHBhcmFtZXRlcnMuIFJlcXVpcmVzIGNvc2UtYmlsa2VudCBsYXlvdXQgdG8gdGlsZSB0aGUgZnJlZSBtYWNyb21vbGVjdWxlcyBpbmNsdWRlZFxyXG4gICAqIGluIHRoZSBjb21wbGV4LiBDb25zaWRlcnMgdW5kb2FibGUgb3B0aW9uLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBzZWUgdGhlIHNhbWUgZnVuY3Rpb24gaW4gZWxlbWVudFV0aWxpdGllc1xyXG4gICAqL1xyXG4gIG1haW5VdGlsaXRpZXMuY3JlYXRlVHJhbnNsYXRpb25SZWFjdGlvbiA9IGZ1bmN0aW9uIChtUm5hTmFtZSwgcHJvdGVpbk5hbWUsIHByb2Nlc3NQb3NpdGlvbiwgZWRnZUxlbmd0aCkge1xyXG4gICAgaWYgKCBlbGVtZW50VXRpbGl0aWVzLmlzR3JhcGhUb3BvbG9neUxvY2tlZCgpICkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFvcHRpb25zLnVuZG9hYmxlKSB7XHJcbiAgICAgIGVsZW1lbnRVdGlsaXRpZXMuY3JlYXRlVHJhbnNsYXRpb25SZWFjdGlvbihtUm5hTmFtZSwgcHJvdGVpbk5hbWUsIHByb2Nlc3NQb3NpdGlvbiwgZWRnZUxlbmd0aCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdmFyIHBhcmFtID0ge1xyXG4gICAgICAgIG1SbmFOYW1lOiBtUm5hTmFtZSxcclxuICAgICAgICBwcm90ZWluTmFtZTogcHJvdGVpbk5hbWUsXHJcbiAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uOiBwcm9jZXNzUG9zaXRpb24sXHJcbiAgICAgICAgZWRnZUxlbmd0aDogZWRnZUxlbmd0aFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY3kudW5kb1JlZG8oKS5kbyhcImNyZWF0ZVRyYW5zbGF0aW9uUmVhY3Rpb25cIiwgcGFyYW0pO1xyXG4gIH19O1xyXG5cclxuICAvKlxyXG4gICAqIENyZWF0ZXMgYW4gYWN0aXZhdGlvbiByZWFjdGlvbiB3aXRoIGdpdmVuIHBhcmFtZXRlcnMuIFJlcXVpcmVzIGNvc2UtYmlsa2VudCBsYXlvdXQgdG8gdGlsZSB0aGUgZnJlZSBtYWNyb21vbGVjdWxlcyBpbmNsdWRlZFxyXG4gICAqIGluIHRoZSBjb21wbGV4LiBDb25zaWRlcnMgdW5kb2FibGUgb3B0aW9uLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBzZWUgdGhlIHNhbWUgZnVuY3Rpb24gaW4gZWxlbWVudFV0aWxpdGllc1xyXG4gICAqL1xyXG4gIG1haW5VdGlsaXRpZXMuY3JlYXRlVHJhbnNjcmlwdGlvblJlYWN0aW9uID0gZnVuY3Rpb24gKGdlbmVOYW1lLCBtUm5hTmFtZSwgcHJvY2Vzc1Bvc2l0aW9uLCBlZGdlTGVuZ3RoKSB7XHJcbiAgICBpZiAoIGVsZW1lbnRVdGlsaXRpZXMuaXNHcmFwaFRvcG9sb2d5TG9ja2VkKCkgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIW9wdGlvbnMudW5kb2FibGUpIHtcclxuICAgICAgZWxlbWVudFV0aWxpdGllcy5jcmVhdGVUcmFuc2NyaXB0aW9uUmVhY3Rpb24oZ2VuZU5hbWUsIG1SbmFOYW1lLCBwcm9jZXNzUG9zaXRpb24sIGVkZ2VMZW5ndGgpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHZhciBwYXJhbSA9IHtcclxuICAgICAgICBnZW5lTmFtZTogZ2VuZU5hbWUsXHJcbiAgICAgICAgbVJuYU5hbWU6IG1SbmFOYW1lLFxyXG4gICAgICAgIHByb2Nlc3NQb3NpdGlvbjogcHJvY2Vzc1Bvc2l0aW9uLFxyXG4gICAgICAgIGVkZ2VMZW5ndGg6IGVkZ2VMZW5ndGhcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGN5LnVuZG9SZWRvKCkuZG8oXCJjcmVhdGVUcmFuc2NyaXB0aW9uUmVhY3Rpb25cIiwgcGFyYW0pO1xyXG4gIH19O1xyXG5cclxuICBtYWluVXRpbGl0aWVzLmNyZWF0ZVRyYW5zbGF0aW9uID0gZnVuY3Rpb24ocmVndWxhdG9yTGFiZWwsIG91dHB1dExhYmVsLCBvcmllbnRhdGlvbikge1xyXG4gICAgaWYgKCBlbGVtZW50VXRpbGl0aWVzLmlzR3JhcGhUb3BvbG9neUxvY2tlZCgpICkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFvcHRpb25zLnVuZG9hYmxlKSB7XHJcbiAgICAgIGVsZW1lbnRVdGlsaXRpZXMuY3JlYXRlVHJhbnNsYXRpb24ocmVndWxhdG9yTGFiZWwsIG91dHB1dExhYmVsLCBvcmllbnRhdGlvbik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgY29uc3QgcGFyYW0gPSB7XHJcbiAgICAgICAgcmVndWxhdG9yTGFiZWw6IHJlZ3VsYXRvckxhYmVsLFxyXG4gICAgICAgIG91dHB1dExhYmVsOiBvdXRwdXRMYWJlbCxcclxuICAgICAgICBvcmllbnRhdGlvbjogb3JpZW50YXRpb25cclxuICAgICAgfTtcclxuXHJcbiAgICAgIGN5LnVuZG9SZWRvKCkuZG8oXCJjcmVhdGVUcmFuc2xhdGlvblwiLCBwYXJhbSk7XHJcbiAgICB9ICBcclxuICB9O1xyXG5cclxuICBtYWluVXRpbGl0aWVzLmNyZWF0ZVRyYW5zY3JpcHRpb24gPSBmdW5jdGlvbihsYWJlbCwgb3JpZW50YXRpb24pIHtcclxuICAgIGlmICggZWxlbWVudFV0aWxpdGllcy5pc0dyYXBoVG9wb2xvZ3lMb2NrZWQoKSApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghb3B0aW9ucy51bmRvYWJsZSkge1xyXG4gICAgICBlbGVtZW50VXRpbGl0aWVzLmNyZWF0ZVRyYW5zY3JpcHRpb24obGFiZWwsIG9yaWVudGF0aW9uKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBjb25zdCBwYXJhbSA9IHtcclxuICAgICAgICBsYWJlbDogbGFiZWwsXHJcbiAgICAgICAgb3JpZW50YXRpb246IG9yaWVudGF0aW9uXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjeS51bmRvUmVkbygpLmRvKFwiY3JlYXRlVHJhbnNjcmlwdGlvblwiLCBwYXJhbSk7XHJcbiAgICB9ICBcclxuICB9O1xyXG5cclxuICBtYWluVXRpbGl0aWVzLmNyZWF0ZURlZ3JhZGF0aW9uID0gZnVuY3Rpb24obWFjcm9tb2xlY3VsZSwgb3JpZW50YXRpb24pIHtcclxuICAgIGlmICggZWxlbWVudFV0aWxpdGllcy5pc0dyYXBoVG9wb2xvZ3lMb2NrZWQoKSApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghb3B0aW9ucy51bmRvYWJsZSkge1xyXG4gICAgICBlbGVtZW50VXRpbGl0aWVzLmNyZWF0ZURlZ3JhZGF0aW9uKG1hY3JvbW9sZWN1bGUsIG9yaWVudGF0aW9uKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBjb25zdCBwYXJhbSA9IHtcclxuICAgICAgICBtYWNyb21vbGVjdWxlOiBtYWNyb21vbGVjdWxlLFxyXG4gICAgICAgIG9yaWVudGF0aW9uOiBvcmllbnRhdGlvblxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY3kudW5kb1JlZG8oKS5kbyhcImNyZWF0ZURlZ3JhZGF0aW9uXCIsIHBhcmFtKTtcclxuICAgIH0gIFxyXG4gIH07XHJcblxyXG4gIG1haW5VdGlsaXRpZXMuY3JlYXRlQ29tcGxleFByb3RlaW5Gb3JtYXRpb24gPSBmdW5jdGlvbihwcm90ZWluTGFiZWxzLCBjb21wbGV4TGFiZWwsIHJlZ3VsYXRvciwgb3JpZW50YXRpb24sIHJldmVyc2UpIHtcclxuICAgIGlmICggZWxlbWVudFV0aWxpdGllcy5pc0dyYXBoVG9wb2xvZ3lMb2NrZWQoKSApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghb3B0aW9ucy51bmRvYWJsZSkge1xyXG4gICAgICBlbGVtZW50VXRpbGl0aWVzLmNyZWF0ZUNvbXBsZXhQcm90ZWluRm9ybWF0aW9uKHByb3RlaW5MYWJlbHMsIGNvbXBsZXhMYWJlbCwgcmVndWxhdG9yLCBvcmllbnRhdGlvbiwgcmV2ZXJzZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgY29uc3QgcGFyYW0gPSB7XHJcbiAgICAgICAgcHJvdGVpbkxhYmVsczogcHJvdGVpbkxhYmVscyxcclxuICAgICAgICBjb21wbGV4TGFiZWw6IGNvbXBsZXhMYWJlbCxcclxuICAgICAgICByZWd1bGF0b3I6IHJlZ3VsYXRvcixcclxuICAgICAgICBvcmllbnRhdGlvbjogb3JpZW50YXRpb24sXHJcbiAgICAgICAgcmV2ZXJzZTogcmV2ZXJzZVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY3kudW5kb1JlZG8oKS5kbyhcImNyZWF0ZUNvbXBsZXhQcm90ZWluRm9ybWF0aW9uXCIsIHBhcmFtKTtcclxuICAgIH0gIFxyXG4gIH07XHJcblxyXG4gIG1haW5VdGlsaXRpZXMuY3JlYXRlTXVsdGltZXJpemF0aW9uID0gZnVuY3Rpb24obWFjcm9tb2xlY3VsZSwgcmVndWxhdG9yLCByZWd1bGF0b3JNdWx0aW1lciwgb3JpZW50YXRpb24pIHtcclxuICAgIGlmICggZWxlbWVudFV0aWxpdGllcy5pc0dyYXBoVG9wb2xvZ3lMb2NrZWQoKSApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghb3B0aW9ucy51bmRvYWJsZSkge1xyXG4gICAgICBlbGVtZW50VXRpbGl0aWVzLmNyZWF0ZU11bHRpbWVyaXphdGlvbihtYWNyb21vbGVjdWxlLCByZWd1bGF0b3IsIHJlZ3VsYXRvck11bHRpbWVyLCBvcmllbnRhdGlvbik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgY29uc3QgcGFyYW0gPSB7XHJcbiAgICAgICAgbWFjcm9tb2xlY3VsZTogbWFjcm9tb2xlY3VsZSxcclxuICAgICAgICByZWd1bGF0b3I6IHJlZ3VsYXRvcixcclxuICAgICAgICByZWd1bGF0b3JNdWx0aW1lcjogcmVndWxhdG9yTXVsdGltZXIsXHJcbiAgICAgICAgb3JpZW50YXRpb246IG9yaWVudGF0aW9uXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjeS51bmRvUmVkbygpLmRvKFwiY3JlYXRlTXVsdGltZXJpemF0aW9uXCIsIHBhcmFtKTtcclxuICAgIH0gIFxyXG4gIH07XHJcblxyXG4gIG1haW5VdGlsaXRpZXMuY3JlYXRlQ29udmVyc2lvbiA9IGZ1bmN0aW9uKG1hY3JvbW9sZWN1bGUsIHJlZ3VsYXRvciwgcmVndWxhdG9yTXVsdGltZXIsIG9yaWVudGF0aW9uLCBpbnB1dEluZm9ib3hMYWJlbHMsIG91dHB1dEluZm9ib3hMYWJlbHMpIHtcclxuICAgIGlmICggZWxlbWVudFV0aWxpdGllcy5pc0dyYXBoVG9wb2xvZ3lMb2NrZWQoKSApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghb3B0aW9ucy51bmRvYWJsZSkge1xyXG4gICAgICBlbGVtZW50VXRpbGl0aWVzLmNyZWF0ZUNvbnZlcnNpb24obWFjcm9tb2xlY3VsZSwgcmVndWxhdG9yLCByZWd1bGF0b3JNdWx0aW1lciwgb3JpZW50YXRpb24sIGlucHV0SW5mb2JveExhYmVscywgb3V0cHV0SW5mb2JveExhYmVscyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgY29uc3QgcGFyYW0gPSB7XHJcbiAgICAgICAgbWFjcm9tb2xlY3VsZTogbWFjcm9tb2xlY3VsZSxcclxuICAgICAgICByZWd1bGF0b3I6IHJlZ3VsYXRvcixcclxuICAgICAgICByZWd1bGF0b3JNdWx0aW1lcjogcmVndWxhdG9yTXVsdGltZXIsXHJcbiAgICAgICAgb3JpZW50YXRpb246IG9yaWVudGF0aW9uLFxyXG4gICAgICAgIGlucHV0SW5mb2JveExhYmVsczogaW5wdXRJbmZvYm94TGFiZWxzLFxyXG4gICAgICAgIG91dHB1dEluZm9ib3hMYWJlbHM6IG91dHB1dEluZm9ib3hMYWJlbHNcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGN5LnVuZG9SZWRvKCkuZG8oXCJjcmVhdGVDb252ZXJzaW9uXCIsIHBhcmFtKTtcclxuICAgIH0gIFxyXG4gIH07XHJcblxyXG4gIG1haW5VdGlsaXRpZXMuY3JlYXRlTWV0YWJvbGljUmVhY3Rpb24gPSBmdW5jdGlvbihpbnB1dHMsIG91dHB1dHMsIHJldmVyc2libGUsIHJlZ3VsYXRvciwgcmVndWxhdG9yTXVsdGltZXIsIG9yaWVudGF0aW9uKSB7XHJcbiAgICBpZiAoIGVsZW1lbnRVdGlsaXRpZXMuaXNHcmFwaFRvcG9sb2d5TG9ja2VkKCkgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIW9wdGlvbnMudW5kb2FibGUpIHtcclxuICAgICAgZWxlbWVudFV0aWxpdGllcy5jcmVhdGVNZXRhYm9saWNSZWFjdGlvbihpbnB1dHMsIG91dHB1dHMsIHJldmVyc2libGUsIHJlZ3VsYXRvciwgcmVndWxhdG9yTXVsdGltZXIsIG9yaWVudGF0aW9uKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBjb25zdCBwYXJhbSA9IHtcclxuICAgICAgICBpbnB1dHM6IGlucHV0cyxcclxuICAgICAgICBvdXRwdXRzOiBvdXRwdXRzLFxyXG4gICAgICAgIHJldmVyc2libGU6IHJldmVyc2libGUsXHJcbiAgICAgICAgcmVndWxhdG9yOiByZWd1bGF0b3IsXHJcbiAgICAgICAgcmVndWxhdG9yTXVsdGltZXI6IHJlZ3VsYXRvck11bHRpbWVyLFxyXG4gICAgICAgIG9yaWVudGF0aW9uOiBvcmllbnRhdGlvblxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY3kudW5kb1JlZG8oKS5kbyhcImNyZWF0ZU1ldGFib2xpY1JlYWN0aW9uXCIsIHBhcmFtKTtcclxuICAgIH0gIFxyXG4gIH07XHJcblxyXG4gIC8qXHJcbiAgICogQ3JlYXRlcyBhbiBhY3RpdmF0aW9uIHJlYWN0aW9uIHdpdGggZ2l2ZW4gcGFyYW1ldGVycy4gUmVxdWlyZXMgY29zZS1iaWxrZW50IGxheW91dCB0byB0aWxlIHRoZSBmcmVlIG1hY3JvbW9sZWN1bGVzIGluY2x1ZGVkXHJcbiAgICogaW4gdGhlIGNvbXBsZXguIENvbnNpZGVycyB1bmRvYWJsZSBvcHRpb24uIEZvciBtb3JlIGluZm9ybWF0aW9uIHNlZSB0aGUgc2FtZSBmdW5jdGlvbiBpbiBlbGVtZW50VXRpbGl0aWVzXHJcbiAgICovXHJcbiAgbWFpblV0aWxpdGllcy5jcmVhdGVNZXRhYm9saWNDYXRhbHl0aWNBY3Rpdml0eSA9IGZ1bmN0aW9uIChpbnB1dE5vZGVMaXN0LCBvdXRwdXROb2RlTGlzdCwgY2F0YWx5c3ROYW1lLCBjYXRhbHlzdFR5cGUsIHByb2Nlc3NQb3NpdGlvbiwgdGlsaW5nUGFkZGluZ1ZlcnRpY2FsLCB0aWxpbmdQYWRkaW5nSG9yaXpvbnRhbCwgZWRnZUxlbmd0aCkge1xyXG4gICAgaWYgKCBlbGVtZW50VXRpbGl0aWVzLmlzR3JhcGhUb3BvbG9neUxvY2tlZCgpICkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFvcHRpb25zLnVuZG9hYmxlKSB7XHJcbiAgICAgIGVsZW1lbnRVdGlsaXRpZXMuY3JlYXRlTWV0YWJvbGljQ2F0YWx5dGljQWN0aXZpdHkoaW5wdXROb2RlTGlzdCwgb3V0cHV0Tm9kZUxpc3QsIGNhdGFseXN0TmFtZSwgY2F0YWx5c3RUeXBlLCBwcm9jZXNzUG9zaXRpb24sIHRpbGluZ1BhZGRpbmdWZXJ0aWNhbCwgdGlsaW5nUGFkZGluZ0hvcml6b250YWwsIGVkZ2VMZW5ndGgpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHZhciBwYXJhbSA9IHtcclxuICAgICAgICBpbnB1dE5vZGVMaXN0OiBpbnB1dE5vZGVMaXN0LFxyXG4gICAgICAgIG91dHB1dE5vZGVMaXN0OiBvdXRwdXROb2RlTGlzdCxcclxuICAgICAgICBjYXRhbHlzdE5hbWU6IGNhdGFseXN0TmFtZSxcclxuICAgICAgICBjYXRhbHlzdFR5cGU6IGNhdGFseXN0VHlwZSxcclxuICAgICAgICBwcm9jZXNzUG9zaXRpb246IHByb2Nlc3NQb3NpdGlvbixcclxuICAgICAgICB0aWxpbmdQYWRkaW5nVmVydGljYWw6IHRpbGluZ1BhZGRpbmdWZXJ0aWNhbCxcclxuICAgICAgICB0aWxpbmdQYWRkaW5nSG9yaXpvbnRhbDogdGlsaW5nUGFkZGluZ0hvcml6b250YWwsXHJcbiAgICAgICAgZWRnZUxlbmd0aDogZWRnZUxlbmd0aCxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGN5LnVuZG9SZWRvKCkuZG8oXCJjcmVhdGVNZXRhYm9saWNDYXRhbHl0aWNBY3Rpdml0eVwiLCBwYXJhbSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLypcclxuICAgKiBDcmVhdGVzIGFuIGFjdGl2YXRpb24gcmVhY3Rpb24gd2l0aCBnaXZlbiBwYXJhbWV0ZXJzLiBSZXF1aXJlcyBjb3NlLWJpbGtlbnQgbGF5b3V0IHRvIHRpbGUgdGhlIGZyZWUgbWFjcm9tb2xlY3VsZXMgaW5jbHVkZWRcclxuICAgKiBpbiB0aGUgY29tcGxleC4gQ29uc2lkZXJzIHVuZG9hYmxlIG9wdGlvbi4gRm9yIG1vcmUgaW5mb3JtYXRpb24gc2VlIHRoZSBzYW1lIGZ1bmN0aW9uIGluIGVsZW1lbnRVdGlsaXRpZXNcclxuICAgKi9cclxuICBtYWluVXRpbGl0aWVzLmNyZWF0ZUFjdGl2YXRpb25SZWFjdGlvbiA9IGZ1bmN0aW9uIChwcm90ZWluTmFtZSwgcHJvY2Vzc1Bvc2l0aW9uLCBlZGdlTGVuZ3RoLCByZXZlcnNlKSB7XHJcbiAgICBpZiAoIGVsZW1lbnRVdGlsaXRpZXMuaXNHcmFwaFRvcG9sb2d5TG9ja2VkKCkgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIW9wdGlvbnMudW5kb2FibGUpIHtcclxuICAgICAgZWxlbWVudFV0aWxpdGllcy5jcmVhdGVBY3RpdmF0aW9uUmVhY3Rpb24ocHJvdGVpbk5hbWUsIHByb2Nlc3NQb3NpdGlvbiwgZWRnZUxlbmd0aCwgcmV2ZXJzZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdmFyIHBhcmFtID0ge1xyXG4gICAgICAgIHByb3RlaW5OYW1lOiBwcm90ZWluTmFtZSxcclxuICAgICAgICBwcm9jZXNzUG9zaXRpb246IHByb2Nlc3NQb3NpdGlvbixcclxuICAgICAgICBlZGdlTGVuZ3RoOiBlZGdlTGVuZ3RoLFxyXG4gICAgICAgIHJldmVyc2U6IHJldmVyc2VcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGN5LnVuZG9SZWRvKCkuZG8oXCJjcmVhdGVBY3RpdmF0aW9uUmVhY3Rpb25cIiwgcGFyYW0pO1xyXG4gIH19O1xyXG5cclxuICAvKlxyXG4gICAqIENyZWF0ZXMgYSB0ZW1wbGF0ZSByZWFjdGlvbiB3aXRoIGdpdmVuIHBhcmFtZXRlcnMuIFJlcXVpcmVzIGNvc2UtYmlsa2VudCBsYXlvdXQgdG8gdGlsZSB0aGUgZnJlZSBtYWNyb21vbGVjdWxlcyBpbmNsdWRlZFxyXG4gICAqIGluIHRoZSBjb21wbGV4LiBDb25zaWRlcnMgdW5kb2FibGUgb3B0aW9uLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBzZWUgdGhlIHNhbWUgZnVuY3Rpb24gaW4gZWxlbWVudFV0aWxpdGllc1xyXG4gICAqL1xyXG4gIG1haW5VdGlsaXRpZXMuY3JlYXRlVGVtcGxhdGVSZWFjdGlvbiA9IGZ1bmN0aW9uICh0ZW1wbGF0ZVR5cGUsIG1hY3JvbW9sZWN1bGVMaXN0LCBjb21wbGV4TmFtZSwgcHJvY2Vzc1Bvc2l0aW9uLCB0aWxpbmdQYWRkaW5nVmVydGljYWwsIHRpbGluZ1BhZGRpbmdIb3Jpem9udGFsLCBlZGdlTGVuZ3RoLCBsYXlvdXRQYXJhbSkge1xyXG4gICAgaWYgKCBlbGVtZW50VXRpbGl0aWVzLmlzR3JhcGhUb3BvbG9neUxvY2tlZCgpICkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFvcHRpb25zLnVuZG9hYmxlKSB7XHJcbiAgICAgIGlmICh0ZW1wbGF0ZVR5cGUgPT09IFwicmV2ZXJzaWJsZVwiKSB7XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5zZXRNYXBUeXBlKFwiSHlicmlkQW55XCIpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsZW1lbnRVdGlsaXRpZXMuY3JlYXRlVGVtcGxhdGVSZWFjdGlvbih0ZW1wbGF0ZVR5cGUsIG1hY3JvbW9sZWN1bGVMaXN0LCBjb21wbGV4TmFtZSwgcHJvY2Vzc1Bvc2l0aW9uLCB0aWxpbmdQYWRkaW5nVmVydGljYWwsIHRpbGluZ1BhZGRpbmdIb3Jpem9udGFsLCBlZGdlTGVuZ3RoLCBsYXlvdXRQYXJhbSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdmFyIHBhcmFtID0ge1xyXG4gICAgICAgIHRlbXBsYXRlVHlwZTogdGVtcGxhdGVUeXBlLFxyXG4gICAgICAgIG1hY3JvbW9sZWN1bGVMaXN0OiBtYWNyb21vbGVjdWxlTGlzdCxcclxuICAgICAgICBjb21wbGV4TmFtZTogY29tcGxleE5hbWUsXHJcbiAgICAgICAgcHJvY2Vzc1Bvc2l0aW9uOiBwcm9jZXNzUG9zaXRpb24sXHJcbiAgICAgICAgdGlsaW5nUGFkZGluZ1ZlcnRpY2FsOiB0aWxpbmdQYWRkaW5nVmVydGljYWwsXHJcbiAgICAgICAgdGlsaW5nUGFkZGluZ0hvcml6b250YWw6IHRpbGluZ1BhZGRpbmdIb3Jpem9udGFsLFxyXG4gICAgICAgIGVkZ2VMZW5ndGg6IGVkZ2VMZW5ndGgsXHJcbiAgICAgICAgbGF5b3V0UGFyYW06IGxheW91dFBhcmFtXHJcbiAgICAgIH07XHJcbiAgICAgIGlmICh0ZW1wbGF0ZVR5cGUgPT09IFwicmV2ZXJzaWJsZVwiKSB7XHJcbiAgICAgICAgdmFyIGFjdGlvbnMgPSBbXTtcclxuICAgICAgICBhY3Rpb25zLnB1c2goe25hbWU6XCJjaGFuZ2VNYXBUeXBlXCIsIHBhcmFtOiB7bWFwVHlwZTogXCJIeWJyaWRBbnlcIiwgY2FsbGJhY2s6IGZ1bmN0aW9uKCl7fSB9fSk7XHJcbiAgICAgICAgYWN0aW9ucy5wdXNoKHtuYW1lOlwiY3JlYXRlVGVtcGxhdGVSZWFjdGlvblwiLCBwYXJhbTogcGFyYW19KTtcclxuICAgICAgICBjeS51bmRvUmVkbygpLmRvKFwiYmF0Y2hcIiwgYWN0aW9ucyk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgY3kudW5kb1JlZG8oKS5kbyhcImNyZWF0ZVRlbXBsYXRlUmVhY3Rpb25cIiwgcGFyYW0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLypcclxuICAgKiBSZXNpemUgZ2l2ZW4gbm9kZXMgaWYgdXNlQXNwZWN0UmF0aW8gaXMgdHJ1dGh5IG9uZSBvZiB3aWR0aCBvciBoZWlnaHQgc2hvdWxkIG5vdCBiZSBzZXQuXHJcbiAgICogQ29uc2lkZXJzIHVuZG9hYmxlIG9wdGlvbi5cclxuICAgKi9cclxuICBtYWluVXRpbGl0aWVzLnJlc2l6ZU5vZGVzID0gZnVuY3Rpb24obm9kZXMsIHdpZHRoLCBoZWlnaHQsIHVzZUFzcGVjdFJhdGlvLCBwcmVzZXJ2ZVJlbGF0aXZlUG9zKSB7XHJcbiAgICBpZiAobm9kZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAob3B0aW9ucy51bmRvYWJsZSkge1xyXG4gICAgICB2YXIgcGFyYW0gPSB7XHJcbiAgICAgICAgbm9kZXM6IG5vZGVzLFxyXG4gICAgICAgIHdpZHRoOiB3aWR0aCxcclxuICAgICAgICBoZWlnaHQ6IGhlaWdodCxcclxuICAgICAgICB1c2VBc3BlY3RSYXRpbzogdXNlQXNwZWN0UmF0aW8sXHJcbiAgICAgICAgcGVyZm9ybU9wZXJhdGlvbjogdHJ1ZSxcclxuICAgICAgICBwcmVzZXJ2ZVJlbGF0aXZlUG9zOiBwcmVzZXJ2ZVJlbGF0aXZlUG9zXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjeS51bmRvUmVkbygpLmRvKFwicmVzaXplTm9kZXNcIiwgcGFyYW0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGVsZW1lbnRVdGlsaXRpZXMucmVzaXplTm9kZXMobm9kZXMsIHdpZHRoLCBoZWlnaHQsIHVzZUFzcGVjdFJhdGlvKTtcclxuICAgICAgY3kuc3R5bGUoKS51cGRhdGUoKTtcclxuICAgIH1cclxuXHJcblxyXG4gIH07XHJcblxyXG4gICAgLypcclxuICAgICAqIFJlc2l6ZSBnaXZlbiBub2RlcyBpZiB1c2VBc3BlY3RSYXRpbyBpcyB0cnV0aHkgb25lIG9mIHdpZHRoIG9yIGhlaWdodCBzaG91bGQgbm90IGJlIHNldC5cclxuICAgICAqIENvbnNpZGVycyB1bmRvYWJsZSBvcHRpb24uXHJcbiAgICAgKi9cclxuICAgIG1haW5VdGlsaXRpZXMucmVzaXplTm9kZXNUb0NvbnRlbnQgPSBmdW5jdGlvbihub2RlcywgdXNlQXNwZWN0UmF0aW8pIHtcclxuICAgICAgICBpZiAobm9kZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9IFxyXG4gICAgICAgIGlmIChvcHRpb25zLnVuZG9hYmxlKSB7XHJcbiAgICAgICAgICB2YXIgYWN0aW9ucyA9IFtdO1xyXG4gICAgICAgICAgbm9kZXMuZm9yRWFjaChmdW5jdGlvbihub2RlKXtcclxuICAgICAgICAgICAgdmFyIHdpZHRoID0gZWxlbWVudFV0aWxpdGllcy5jYWxjdWxhdGVNaW5XaWR0aChub2RlKTtcclxuICAgICAgICAgICAgdmFyIGhlaWdodCA9IGVsZW1lbnRVdGlsaXRpZXMuY2FsY3VsYXRlTWluSGVpZ2h0KG5vZGUpO1xyXG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goe25hbWU6IFwicmVzaXplTm9kZXNcIiwgcGFyYW06IHtcclxuICAgICAgICAgICAgICAgIG5vZGVzOiBub2RlLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXHJcbiAgICAgICAgICAgICAgICB1c2VBc3BlY3RSYXRpbzogdXNlQXNwZWN0UmF0aW8sXHJcbiAgICAgICAgICAgICAgICBwZXJmb3JtT3BlcmF0aW9uOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgcHJlc2VydmVSZWxhdGl2ZVBvczogdHJ1ZVxyXG4gICAgICAgICAgICB9fSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3RhdGVBbmRJbmZvcyA9IG5vZGUuZGF0YSgnc3RhdGVzYW5kaW5mb3MnKTtcclxuICAgICAgICAgICAgdmFyIGxlbmd0aCA9IHN0YXRlQW5kSW5mb3MubGVuZ3RoO1xyXG4gICAgICAgICAgICBpZiAobGVuZ3RoICE9IDApIHtcclxuICAgICAgICAgICAgICB2YXIgcGFyYW0gPSB7XHJcbiAgICAgICAgICAgICAgICBub2RlOiBub2RlLFxyXG4gICAgICAgICAgICAgICAgbG9jYXRpb25zOiBbXCJ0b3BcIixcInJpZ2h0XCIsXCJib3R0b21cIixcImxlZnRcIl1cclxuICAgICAgICAgICAgICB9OyAgICAgICAgICBcclxuICAgICAgICAgICAgICBhY3Rpb25zLnB1c2goe25hbWU6XCJmaXRVbml0c1wiLHBhcmFtIDogcGFyYW19KVxyXG4gICAgICAgICAgICAgfVxyXG4gIFxyXG5cclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBcclxuICAgICAgICAgXHJcbiAgICAgICAgICBjeS51bmRvUmVkbygpLmRvKFwiYmF0Y2hcIiwgYWN0aW9ucyk7XHJcbiAgICAgICAgICBjeS5zdHlsZSgpLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgcmV0dXJuIGFjdGlvbnM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uKG5vZGUpe1xyXG4gICAgICAgICAgICAgIHZhciB3aWR0aCA9IGVsZW1lbnRVdGlsaXRpZXMuY2FsY3VsYXRlTWluV2lkdGgobm9kZSk7XHJcbiAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IGVsZW1lbnRVdGlsaXRpZXMuY2FsY3VsYXRlTWluSGVpZ2h0KG5vZGUpO1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIGVsZW1lbnRVdGlsaXRpZXMucmVzaXplTm9kZXMobm9kZSwgd2lkdGgsIGhlaWdodCwgdXNlQXNwZWN0UmF0aW8sIHRydWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGN5LnN0eWxlKCkudXBkYXRlKCk7XHJcbiAgICB9O1xyXG5cclxuICAvKlxyXG4gICAqIENoYW5nZXMgdGhlIGxhYmVsIG9mIHRoZSBnaXZlbiBub2RlcyB0byB0aGUgZ2l2ZW4gbGFiZWwuIENvbnNpZGVycyB1bmRvYWJsZSBvcHRpb24uXHJcbiAgICovXHJcbiAgbWFpblV0aWxpdGllcy5jaGFuZ2VOb2RlTGFiZWwgPSBhc3luYyBmdW5jdGlvbihub2RlcywgbGFiZWwpIHtcclxuICAgIGlmIChub2Rlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghb3B0aW9ucy51bmRvYWJsZSkge1xyXG4gICAgICBub2Rlcy5kYXRhKCdsYWJlbCcsIGxhYmVsKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB2YXIgcGFyYW0gPSB7XHJcbiAgICAgICAgbm9kZXM6IG5vZGVzLFxyXG4gICAgICAgIGxhYmVsOiBsYWJlbCxcclxuICAgICAgICBmaXJzdFRpbWU6IHRydWVcclxuICAgICAgfTtcclxuICAgICAgY3kudW5kb1JlZG8oKS5kbyhcImNoYW5nZU5vZGVMYWJlbFwiLCBwYXJhbSk7ICAgICAgXHJcbiAgICB9XHJcbiAgICBjeS5zdHlsZSgpLnVwZGF0ZSgpO1xyXG4gIH07XHJcblxyXG4gIC8qXHJcbiAgICogQ2hhbmdlIGZvbnQgcHJvcGVydGllcyBmb3IgZ2l2ZW4gbm9kZXMgdXNlIHRoZSBnaXZlbiBmb250IGRhdGEuXHJcbiAgICogQ29uc2lkZXJzIHVuZG9hYmxlIG9wdGlvbi5cclxuICAgKi9cclxuICBtYWluVXRpbGl0aWVzLmNoYW5nZUZvbnRQcm9wZXJ0aWVzID0gZnVuY3Rpb24oZWxlcywgZGF0YSkge1xyXG4gICAgaWYgKGVsZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAob3B0aW9ucy51bmRvYWJsZSkge1xyXG4gICAgICB2YXIgcGFyYW0gPSB7XHJcbiAgICAgICAgZWxlczogZWxlcyxcclxuICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAgIGZpcnN0VGltZTogdHJ1ZVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY3kudW5kb1JlZG8oKS5kbyhcImNoYW5nZUZvbnRQcm9wZXJ0aWVzXCIsIHBhcmFtKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBlbGVtZW50VXRpbGl0aWVzLmNoYW5nZUZvbnRQcm9wZXJ0aWVzKGVsZXMsIGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIGN5LnN0eWxlKCkudXBkYXRlKCk7XHJcbiAgfTtcclxuXHJcbiAgLypcclxuICAgKiBDaGFuZ2Ugc3RhdGUgdmFsdWUgb3IgdW5pdCBvZiBpbmZvcm1hdGlvbiBib3ggb2YgZ2l2ZW4gbm9kZXMgd2l0aCBnaXZlbiBpbmRleC5cclxuICAgKiBDb25zaWRlcnMgdW5kb2FibGUgb3B0aW9uLlxyXG4gICAqIEZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZSBwYXJhbWV0ZXJzIHNlZSBlbGVtZW50VXRpbGl0aWVzLmNoYW5nZVN0YXRlT3JJbmZvQm94XHJcbiAgICovXHJcbiAgbWFpblV0aWxpdGllcy5jaGFuZ2VTdGF0ZU9ySW5mb0JveCA9IGZ1bmN0aW9uKG5vZGVzLCBpbmRleCwgdmFsdWUsIHR5cGUpIHtcclxuICAgIGlmIChub2Rlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbnMudW5kb2FibGUpIHtcclxuICAgICAgdmFyIHBhcmFtID0ge1xyXG4gICAgICAgIGluZGV4OiBpbmRleCxcclxuICAgICAgICB2YWx1ZTogdmFsdWUsXHJcbiAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICBub2Rlczogbm9kZXNcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGN5LnVuZG9SZWRvKCkuZG8oXCJjaGFuZ2VTdGF0ZU9ySW5mb0JveFwiLCBwYXJhbSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgcmV0dXJuIGVsZW1lbnRVdGlsaXRpZXMuY2hhbmdlU3RhdGVPckluZm9Cb3gobm9kZXMsIGluZGV4LCB2YWx1ZSwgdHlwZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3kuc3R5bGUoKS51cGRhdGUoKTtcclxuICB9O1xyXG5cclxuICAvLyBBZGQgYSBuZXcgc3RhdGUgb3IgaW5mbyBib3ggdG8gZ2l2ZW4gbm9kZXMuXHJcbiAgLy8gVGhlIGJveCBpcyByZXByZXNlbnRlZCBieSB0aGUgcGFyYW1ldGVyIG9iai5cclxuICAvLyBDb25zaWRlcnMgdW5kb2FibGUgb3B0aW9uLlxyXG4gIG1haW5VdGlsaXRpZXMuYWRkU3RhdGVPckluZm9Cb3ggPSBmdW5jdGlvbihub2Rlcywgb2JqKSB7XHJcbiAgICBpZiAobm9kZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICghb3B0aW9ucy51bmRvYWJsZSkge1xyXG4gICAgICBlbGVtZW50VXRpbGl0aWVzLmFkZFN0YXRlT3JJbmZvQm94KG5vZGVzLCBvYmopO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHZhciBwYXJhbSA9IHtcclxuICAgICAgICBvYmo6IG9iaixcclxuICAgICAgICBub2Rlczogbm9kZXNcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGN5LnVuZG9SZWRvKCkuZG8oXCJhZGRTdGF0ZU9ySW5mb0JveFwiLCBwYXJhbSk7XHJcbiAgICB9XHJcbiAgICBjeS5zdHlsZSgpLnVwZGF0ZSgpO1xyXG4gIH07XHJcblxyXG4gIC8vIFJlbW92ZSB0aGUgc3RhdGUgb3IgaW5mbyBib3hlcyBvZiB0aGUgZ2l2ZW4gbm9kZXMgYXQgZ2l2ZW4gaW5kZXguXHJcbiAgLy8gQ29uc2lkZXJzIHVuZG9hYmxlIG9wdGlvbi5cclxuICBtYWluVXRpbGl0aWVzLnJlbW92ZVN0YXRlT3JJbmZvQm94ID0gZnVuY3Rpb24obm9kZXMsIGluZGV4KSB7XHJcbiAgICBpZiAobm9kZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIW9wdGlvbnMudW5kb2FibGUpIHtcclxuICAgICAgZWxlbWVudFV0aWxpdGllcy5yZW1vdmVTdGF0ZU9ySW5mb0JveChub2Rlcywge2luZGV4OiBpbmRleH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHZhciBwYXJhbSA9IHtcclxuICAgICAgICBsb2NhdGlvbk9iajoge2luZGV4OiBpbmRleH0sXHJcbiAgICAgICAgbm9kZXM6IG5vZGVzXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjeS51bmRvUmVkbygpLmRvKFwicmVtb3ZlU3RhdGVPckluZm9Cb3hcIiwgcGFyYW0pO1xyXG4gICAgfVxyXG5cclxuICAgIGN5LnN0eWxlKCkudXBkYXRlKCk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8vQXJyYW5nZSBpbmZvcm1hdGlvbiBib3hlc1xyXG4gIC8vSWYgZm9yY2UgY2hlY2sgaXMgdHJ1ZSwgaXQgcmVhcnJhbmdlcyBhbGwgaW5mb3JtYXRpb24gYm94ZXNcclxuICBtYWluVXRpbGl0aWVzLmZpdFVuaXRzID0gZnVuY3Rpb24gKG5vZGUsIGxvY2F0aW9ucykge1xyXG4gICAgaWYgKG5vZGUuZGF0YSgnYXV4dW5pdGxheW91dHMnKSA9PT0gdW5kZWZpbmVkIHx8IG5vZGUuZGF0YSgnc3RhdGVzYW5kaW5mb3MnKS5sZW5ndGggPD0gMCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAobG9jYXRpb25zID09PSB1bmRlZmluZWQgfHwgbG9jYXRpb25zLmxlbmd0aCA8PSAwKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIW9wdGlvbnMudW5kb2FibGUpIHtcclxuICAgICAgZWxlbWVudFV0aWxpdGllcy5maXRVbml0cyhub2RlLCBsb2NhdGlvbnMpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHZhciBwYXJhbSA9IHtcclxuICAgICAgICBub2RlOiBub2RlLFxyXG4gICAgICAgIGxvY2F0aW9uczogbG9jYXRpb25zXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjeS51bmRvUmVkbygpLmRvKFwiZml0VW5pdHNcIiwgcGFyYW0pO1xyXG4gICAgfVxyXG5cclxuICAgIGN5LnN0eWxlKCkudXBkYXRlKCk7XHJcbiAgfTtcclxuXHJcbiAgLypcclxuICAgKiBTZXQgbXVsdGltZXIgc3RhdHVzIG9mIHRoZSBnaXZlbiBub2RlcyB0byB0aGUgZ2l2ZW4gc3RhdHVzLlxyXG4gICAqIENvbnNpZGVycyB1bmRvYWJsZSBvcHRpb24uXHJcbiAgICovXHJcbiAgbWFpblV0aWxpdGllcy5zZXRNdWx0aW1lclN0YXR1cyA9IGZ1bmN0aW9uKG5vZGVzLCBzdGF0dXMpIHtcclxuICAgIGlmIChub2Rlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChvcHRpb25zLnVuZG9hYmxlKSB7XHJcbiAgICAgIHZhciBwYXJhbSA9IHtcclxuICAgICAgICBzdGF0dXM6IHN0YXR1cyxcclxuICAgICAgICBub2Rlczogbm9kZXMsXHJcbiAgICAgICAgZmlyc3RUaW1lOiB0cnVlXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjeS51bmRvUmVkbygpLmRvKFwic2V0TXVsdGltZXJTdGF0dXNcIiwgcGFyYW0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGVsZW1lbnRVdGlsaXRpZXMuc2V0TXVsdGltZXJTdGF0dXMobm9kZXMsIHN0YXR1cyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3kuc3R5bGUoKS51cGRhdGUoKTtcclxuICB9O1xyXG5cclxuICBtYWluVXRpbGl0aWVzLnNldEFjdGl2ZVN0YXR1cyA9IGZ1bmN0aW9uKG5vZGVzLCBzdGF0dXMpIHtcclxuICAgIGlmIChub2Rlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChvcHRpb25zLnVuZG9hYmxlKSB7XHJcbiAgICAgIHZhciBwYXJhbSA9IHtcclxuICAgICAgICBzdGF0dXM6IHN0YXR1cyxcclxuICAgICAgICBub2Rlczogbm9kZXMsXHJcbiAgICAgICAgZmlyc3RUaW1lOiB0cnVlXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjeS51bmRvUmVkbygpLmRvKFwic2V0QWN0aXZlU3RhdHVzXCIsIHBhcmFtKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBlbGVtZW50VXRpbGl0aWVzLnNldEFjdGl2ZVN0YXR1cyhub2Rlcywgc3RhdHVzKTtcclxuICAgIH1cclxuXHJcbiAgICBjeS5zdHlsZSgpLnVwZGF0ZSgpO1xyXG4gIH07XHJcblxyXG4gIG1haW5VdGlsaXRpZXMuc2V0SHlwb3RoZXRpY2FsU3RhdHVzPSBmdW5jdGlvbihub2Rlcywgc3RhdHVzKSB7XHJcbiAgICBpZiAobm9kZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAob3B0aW9ucy51bmRvYWJsZSkge1xyXG4gICAgICB2YXIgcGFyYW0gPSB7XHJcbiAgICAgICAgc3RhdHVzOiBzdGF0dXMsXHJcbiAgICAgICAgbm9kZXM6IG5vZGVzLFxyXG4gICAgICAgIGZpcnN0VGltZTogdHJ1ZVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY3kudW5kb1JlZG8oKS5kbyhcInNldEh5cG90aGV0aWNhbFN0YXR1c1wiLCBwYXJhbSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgZWxlbWVudFV0aWxpdGllcy5zZXRIeXBvdGhldGljYWxTdGF0dXMobm9kZXMsIHN0YXR1cyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3kuc3R5bGUoKS51cGRhdGUoKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBSZWRyYXcgY2xvbmUgbWFya2VycyBvbiBnaXZlbiBub2RlcyB3aXRob3V0IGNvbnNpZGVyaW5nIHVuZG8uXHJcbiAgICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9pVmlzLWF0LUJpbGtlbnQvbmV3dC9pc3N1ZXMvNTc0IFxyXG4gICAqL1xyXG4gIG1haW5VdGlsaXRpZXMucmVkcmF3Q2xvbmVNYXJrZXJzID0gZnVuY3Rpb24obm9kZXMpIHtcclxuICAgIGVsZW1lbnRVdGlsaXRpZXMuc2V0Q2xvbmVNYXJrZXJTdGF0dXMobm9kZXMsIHRydWUpO1xyXG4gIH1cclxuXHJcbiAgLypcclxuICAgKiBTZXQgY2xvbmUgbWFya2VyIHN0YXR1cyBvZiBnaXZlbiBub2RlcyB0byB0aGUgZ2l2ZW4gc3RhdHVzLlxyXG4gICAqIENvbnNpZGVycyB1bmRvYWJsZSBvcHRpb24uXHJcbiAgICovXHJcbiAgbWFpblV0aWxpdGllcy5zZXRDbG9uZU1hcmtlclN0YXR1cyA9IGZ1bmN0aW9uKG5vZGVzLCBzdGF0dXMpIHtcclxuICAgIGlmIChub2Rlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChvcHRpb25zLnVuZG9hYmxlKSB7XHJcbiAgICAgIHZhciBwYXJhbSA9IHtcclxuICAgICAgICBzdGF0dXM6IHN0YXR1cyxcclxuICAgICAgICBub2Rlczogbm9kZXMsXHJcbiAgICAgICAgZmlyc3RUaW1lOiB0cnVlXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjeS51bmRvUmVkbygpLmRvKFwic2V0Q2xvbmVNYXJrZXJTdGF0dXNcIiwgcGFyYW0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGVsZW1lbnRVdGlsaXRpZXMuc2V0Q2xvbmVNYXJrZXJTdGF0dXMobm9kZXMsIHN0YXR1cyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3kuc3R5bGUoKS51cGRhdGUoKTtcclxuICB9O1xyXG5cclxuICAvKlxyXG4gICAqIENoYW5nZSBzdHlsZS9jc3Mgb2YgZ2l2ZW4gZWxlcyBieSBzZXR0aW5nIGdldHRpbmcgcHJvcGVydHkgbmFtZSB0byB0aGUgZ2l2ZW4gZ2l2ZW4gdmFsdWUvdmFsdWVzIChOb3RlIHRoYXQgdmFsdWVNYXAgcGFyYW1ldGVyIG1heSBiZVxyXG4gICAqIGEgc2luZ2xlIHN0cmluZyBvciBhbiBpZCB0byB2YWx1ZSBtYXApLiBDb25zaWRlcnMgdW5kb2FibGUgb3B0aW9uLlxyXG4gICAqL1xyXG4gIG1haW5VdGlsaXRpZXMuY2hhbmdlQ3NzID0gZnVuY3Rpb24oZWxlcywgbmFtZSwgdmFsdWVNYXApIHtcclxuICAgIGlmIChlbGVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFvcHRpb25zLnVuZG9hYmxlKSB7XHJcbiAgICAgIGVsZW1lbnRVdGlsaXRpZXMuY2hhbmdlQ3NzKGVsZXMsIG5hbWUsIHZhbHVlTWFwKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB2YXIgcGFyYW0gPSB7XHJcbiAgICAgICAgZWxlczogZWxlcyxcclxuICAgICAgICB2YWx1ZU1hcDogdmFsdWVNYXAsXHJcbiAgICAgICAgbmFtZTogbmFtZVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY3kudW5kb1JlZG8oKS5kbyhcImNoYW5nZUNzc1wiLCBwYXJhbSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3kuc3R5bGUoKS51cGRhdGUoKTtcclxuICB9O1xyXG5cclxuICAvKlxyXG4gICAqIENoYW5nZSBkYXRhIG9mIGdpdmVuIGVsZXMgYnkgc2V0dGluZyBnZXR0aW5nIHByb3BlcnR5IG5hbWUgdG8gdGhlIGdpdmVuIGdpdmVuIHZhbHVlL3ZhbHVlcyAoTm90ZSB0aGF0IHZhbHVlTWFwIHBhcmFtZXRlciBtYXkgYmVcclxuICAgKiBhIHNpbmdsZSBzdHJpbmcgb3IgYW4gaWQgdG8gdmFsdWUgbWFwKS4gQ29uc2lkZXJzIHVuZG9hYmxlIG9wdGlvbi5cclxuICAgKi9cclxuICBtYWluVXRpbGl0aWVzLmNoYW5nZURhdGEgPSBmdW5jdGlvbihlbGVzLCBuYW1lLCB2YWx1ZU1hcCkge1xyXG4gICAgY29uc29sZS5sb2coJ2Vxd3IxJyk7XHJcbiAgICBpZiAoZWxlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghb3B0aW9ucy51bmRvYWJsZSkge1xyXG4gICAgICBlbGVtZW50VXRpbGl0aWVzLmNoYW5nZURhdGEoZWxlcywgbmFtZSwgdmFsdWVNYXApO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHZhciBwYXJhbSA9IHtcclxuICAgICAgICBlbGVzOiBlbGVzLFxyXG4gICAgICAgIHZhbHVlTWFwOiB2YWx1ZU1hcCxcclxuICAgICAgICBuYW1lOiBuYW1lXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjeS51bmRvUmVkbygpLmRvKFwiY2hhbmdlRGF0YVwiLCBwYXJhbSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3kuc3R5bGUoKS51cGRhdGUoKTtcclxuICB9O1xyXG5cclxuICBtYWluVXRpbGl0aWVzLnVwZGF0ZVNldEZpZWxkID0gZnVuY3Rpb24oZWxlLCBmaWVsZE5hbWUsIHRvRGVsZXRlLCB0b0FkZCwgY2FsbGJhY2spIHtcclxuICAgIGlmICghb3B0aW9ucy51bmRvYWJsZSkge1xyXG4gICAgICBlbGVtZW50VXRpbGl0aWVzLmNoYW5nZURhdGEoZWxlLCBmaWVsZE5hbWUsIHRvRGVsZXRlLCB0b0FkZCwgY2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHZhciBwYXJhbSA9IHtcclxuICAgICAgICBlbGUsXHJcbiAgICAgICAgZmllbGROYW1lLFxyXG4gICAgICAgIHRvRGVsZXRlLFxyXG4gICAgICAgIHRvQWRkLFxyXG4gICAgICAgIGNhbGxiYWNrXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjeS51bmRvUmVkbygpLmRvKFwidXBkYXRlU2V0RmllbGRcIiwgcGFyYW0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIG1haW5VdGlsaXRpZXMuc2V0RGVmYXVsdFByb3BlcnR5ID0gZnVuY3Rpb24oIF9jbGFzcywgbmFtZSwgdmFsdWUgKSB7XHJcbiAgICBpZiAoIW9wdGlvbnMudW5kb2FibGUpIHtcclxuICAgICAgdmFyIHByb3BNYXAgPSB7fTtcclxuICAgICAgcHJvcE1hcFsgbmFtZSBdID0gdmFsdWU7XHJcblxyXG4gICAgICBlbGVtZW50VXRpbGl0aWVzLnNldERlZmF1bHRQcm9wZXJ0aWVzKF9jbGFzcywgcHJvcE1hcCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdmFyIHBhcmFtID0ge1xyXG4gICAgICAgIGNsYXNzOiBfY2xhc3MsXHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICB2YWx1ZVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY3kudW5kb1JlZG8oKS5kbyhcInNldERlZmF1bHRQcm9wZXJ0eVwiLCBwYXJhbSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgbWFpblV0aWxpdGllcy51cGRhdGVJbmZvYm94U3R5bGUgPSBmdW5jdGlvbiggbm9kZSwgaW5kZXgsIG5ld1Byb3BzICkge1xyXG4gICAgaWYgKCFvcHRpb25zLnVuZG9hYmxlKSB7XHJcbiAgICAgIGVsZW1lbnRVdGlsaXRpZXMudXBkYXRlSW5mb2JveFN0eWxlKCBub2RlLCBpbmRleCwgbmV3UHJvcHMgKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB2YXIgcGFyYW0gPSB7XHJcbiAgICAgICAgbm9kZTogbm9kZSxcclxuICAgICAgICBpbmRleDogaW5kZXgsXHJcbiAgICAgICAgbmV3UHJvcHM6IG5ld1Byb3BzXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjeS51bmRvUmVkbygpLmRvKFwidXBkYXRlSW5mb2JveFN0eWxlXCIsIHBhcmFtKTtcclxuICAgIH1cclxuXHJcbiAgICBjeS5zdHlsZSgpLnVwZGF0ZSgpO1xyXG4gIH07XHJcblxyXG4gIG1haW5VdGlsaXRpZXMudXBkYXRlSW5mb2JveE9iaiA9IGZ1bmN0aW9uKCBub2RlLCBpbmRleCwgbmV3UHJvcHMgKSB7XHJcbiAgICBpZiAoIW9wdGlvbnMudW5kb2FibGUpIHtcclxuICAgICAgZWxlbWVudFV0aWxpdGllcy51cGRhdGVJbmZvYm94T2JqKCBub2RlLCBpbmRleCwgbmV3UHJvcHMgKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB2YXIgcGFyYW0gPSB7XHJcbiAgICAgICAgbm9kZTogbm9kZSxcclxuICAgICAgICBpbmRleDogaW5kZXgsXHJcbiAgICAgICAgbmV3UHJvcHM6IG5ld1Byb3BzXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjeS51bmRvUmVkbygpLmRvKFwidXBkYXRlSW5mb2JveE9ialwiLCBwYXJhbSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3kuc3R5bGUoKS51cGRhdGUoKTtcclxuICB9O1xyXG5cclxuICBtYWluVXRpbGl0aWVzLmRlbGV0ZUFuZFBlcmZvcm1MYXlvdXQgPSBmdW5jdGlvbiAoZWxlcywgbGF5b3V0cGFyYW0pIHtcclxuICAgIHZhciBub2RlcyA9IGVsZXMubm9kZXMoKTsgLy8gRW5zdXJlIHRoYXQgbm9kZXMgbGlzdCBqdXN0IGluY2x1ZGUgbm9kZXNcclxuXHJcbiAgICB2YXIgYWxsTm9kZXMgPSBjeS5ub2RlcyhcIjp2aXNpYmxlXCIpO1xyXG4gICAgdmFyIG5vZGVzVG9LZWVwID0gZWxlbWVudFV0aWxpdGllcy5leHRlbmRSZW1haW5pbmdOb2Rlcyhub2RlcywgYWxsTm9kZXMpO1xyXG4gICAgdmFyIG5vZGVzVG9SZW1vdmUgPSBhbGxOb2Rlcy5ub3Qobm9kZXNUb0tlZXApO1xyXG5cclxuICAgIGlmIChub2Rlc1RvUmVtb3ZlLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIW9wdGlvbnMudW5kb2FibGUpIHtcclxuXHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5kZWxldGVBbmRQZXJmb3JtTGF5b3V0KG5vZGVzVG9SZW1vdmUsIGxheW91dHBhcmFtKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBwYXJhbSA9IHtcclxuICAgICAgICAgICAgZWxlczogbm9kZXNUb1JlbW92ZSxcclxuICAgICAgICAgICAgbGF5b3V0cGFyYW06IGxheW91dHBhcmFtLFxyXG4gICAgICAgICAgICBmaXJzdFRpbWU6IHRydWVcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjeS51bmRvUmVkbygpLmRvKFwiZGVsZXRlQW5kUGVyZm9ybUxheW91dFwiLCBwYXJhbSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLypcclxuICAgKiBIaWRlcyBnaXZlbiBlbGVzICh0aGUgb25lcyB3aGljaCBhcmUgc2VsZWN0ZWQpIGFuZCBwZXJmb3JtIGdpdmVuIGxheW91dCBhZnRlcndhcmQuIExheW91dCBwYXJhbWV0ZXIgbWF5IGJlIGxheW91dCBvcHRpb25zXHJcbiAgICogb3IgYSBmdW5jdGlvbiB0byBjYWxsLiBSZXF1aXJlcyB2aWV3VXRpbGl0aWVzIGV4dGVuc2lvbiBhbmQgY29uc2lkZXJzIHVuZG9hYmxlIG9wdGlvbi5cclxuICAgKi9cclxuICBtYWluVXRpbGl0aWVzLmhpZGVBbmRQZXJmb3JtTGF5b3V0ID0gZnVuY3Rpb24oZWxlcywgbGF5b3V0cGFyYW0pIHtcclxuICAgICAgdmFyIG5vZGVzID0gZWxlcy5ub2RlcygpOyAvLyBFbnN1cmUgdGhhdCBub2RlcyBsaXN0IGp1c3QgaW5jbHVkZSBub2Rlc1xyXG5cclxuICAgICAgdmFyIGFsbE5vZGVzID0gY3kubm9kZXMoXCI6dmlzaWJsZVwiKTtcclxuICAgICAgdmFyIG5vZGVzVG9TaG93ID0gZWxlbWVudFV0aWxpdGllcy5leHRlbmRSZW1haW5pbmdOb2Rlcyhub2RlcywgYWxsTm9kZXMpO1xyXG4gICAgICB2YXIgbm9kZXNUb0hpZGUgPSBhbGxOb2Rlcy5ub3Qobm9kZXNUb1Nob3cpO1xyXG5cclxuICAgICAgaWYgKG5vZGVzVG9IaWRlLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIW9wdGlvbnMudW5kb2FibGUpIHtcclxuXHJcbiAgICAgICAgICB2YXIgbm9kZXNXaXRoSGlkZGVuTmVpZ2hib3IgPSBjeS5lZGdlcyhcIjpoaWRkZW5cIikuY29ubmVjdGVkTm9kZXMoJzp2aXNpYmxlJyk7XHJcbiAgICAgICAgICBzYmdudml6SW5zdGFuY2UudGhpbkJvcmRlcihub2Rlc1dpdGhIaWRkZW5OZWlnaGJvcik7XHJcbiAgICAgICAgICBlbGVtZW50VXRpbGl0aWVzLmhpZGVBbmRQZXJmb3JtTGF5b3V0KG5vZGVzVG9IaWRlLCBsYXlvdXRwYXJhbSk7XHJcbiAgICAgICAgICB2YXIgbm9kZXNXaXRoSGlkZGVuTmVpZ2hib3IgPSBjeS5lZGdlcyhcIjpoaWRkZW5cIikuY29ubmVjdGVkTm9kZXMoJzp2aXNpYmxlJyk7XHJcbiAgICAgICAgICBzYmdudml6SW5zdGFuY2UudGhpY2tlbkJvcmRlcihub2Rlc1dpdGhIaWRkZW5OZWlnaGJvcik7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgICB2YXIgcGFyYW0gPSB7XHJcbiAgICAgICAgICAgICAgZWxlczogbm9kZXNUb0hpZGUsXHJcbiAgICAgICAgICAgICAgbGF5b3V0cGFyYW06IGxheW91dHBhcmFtLFxyXG4gICAgICAgICAgICAgIGZpcnN0VGltZTogdHJ1ZVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICB2YXIgdXIgPSBjeS51bmRvUmVkbygpO1xyXG4gICAgICAgICAgdXIuYWN0aW9uKFwidGhpY2tlbkJvcmRlclwiLCBzYmdudml6SW5zdGFuY2UudGhpY2tlbkJvcmRlciwgc2JnbnZpekluc3RhbmNlLnRoaW5Cb3JkZXIpO1xyXG4gICAgICAgICAgdXIuYWN0aW9uKFwidGhpbkJvcmRlclwiLCBzYmdudml6SW5zdGFuY2UudGhpbkJvcmRlciwgc2JnbnZpekluc3RhbmNlLnRoaWNrZW5Cb3JkZXIpO1xyXG5cclxuICAgICAgICAgIHZhciBhY3Rpb25zID0gW107XHJcbiAgICAgICAgICB2YXIgbm9kZXNXaXRoSGlkZGVuTmVpZ2hib3IgPSBjeS5lZGdlcyhcIjpoaWRkZW5cIikuY29ubmVjdGVkTm9kZXMoKS5pbnRlcnNlY3Rpb24obm9kZXNUb0hpZGUpO1xyXG4gICAgICAgICAgYWN0aW9ucy5wdXNoKHtuYW1lOiBcInRoaW5Cb3JkZXJcIiwgcGFyYW06IG5vZGVzV2l0aEhpZGRlbk5laWdoYm9yfSk7XHJcbiAgICAgICAgICBhY3Rpb25zLnB1c2goe25hbWU6IFwiaGlkZUFuZFBlcmZvcm1MYXlvdXRcIiwgcGFyYW06IHBhcmFtfSk7XHJcbiAgICAgICAgICBub2Rlc1dpdGhIaWRkZW5OZWlnaGJvciA9IG5vZGVzVG9IaWRlLm5laWdoYm9yaG9vZChcIjp2aXNpYmxlXCIpLm5vZGVzKCkuZGlmZmVyZW5jZShub2Rlc1RvSGlkZSkuZGlmZmVyZW5jZShjeS5ub2RlcyhcIlt0aGlja0JvcmRlcl1cIikpO1xyXG4gICAgICAgICAgYWN0aW9ucy5wdXNoKHtuYW1lOiBcInRoaWNrZW5Cb3JkZXJcIiwgcGFyYW06IG5vZGVzV2l0aEhpZGRlbk5laWdoYm9yfSk7XHJcbiAgICAgICAgICBjeS51bmRvUmVkbygpLmRvKFwiYmF0Y2hcIiwgYWN0aW9ucyk7XHJcbiAgICAgIH1cclxuICB9O1xyXG5cclxuICAvKlxyXG4gICAqIFNob3dzIGFsbCBlbGVtZW50cyAodGhlIG9uZXMgd2hpY2ggYXJlIGhpZGRlbiBpZiBhbnkpIGFuZCBwZXJmb3JtIGdpdmVuIGxheW91dCBhZnRlcndhcmQuIExheW91dCBwYXJhbWV0ZXIgbWF5IGJlIGxheW91dCBvcHRpb25zXHJcbiAgICogb3IgYSBmdW5jdGlvbiB0byBjYWxsLiBSZXF1aXJlcyB2aWV3VXRpbGl0aWVzIGV4dGVuc2lvbiBhbmQgY29uc2lkZXJzIHVuZG9hYmxlIG9wdGlvbi5cclxuICAgKi9cclxuICBtYWluVXRpbGl0aWVzLnNob3dBbGxBbmRQZXJmb3JtTGF5b3V0ID0gZnVuY3Rpb24obGF5b3V0cGFyYW0pIHtcclxuICAgIHZhciBoaWRkZW5FbGVzID0gY3kuZWxlbWVudHMoJzpoaWRkZW4nKTtcclxuICAgIGlmIChoaWRkZW5FbGVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoIW9wdGlvbnMudW5kb2FibGUpIHtcclxuICAgICAgdmFyIG5vZGVzV2l0aEhpZGRlbk5laWdoYm9yID0gY3kuZWRnZXMoXCI6aGlkZGVuXCIpLmNvbm5lY3RlZE5vZGVzKCc6dmlzaWJsZScpO1xyXG4gICAgICBzYmdudml6SW5zdGFuY2UudGhpbkJvcmRlcihub2Rlc1dpdGhIaWRkZW5OZWlnaGJvcik7XHJcbiAgICAgIGVsZW1lbnRVdGlsaXRpZXMuc2hvd0FuZFBlcmZvcm1MYXlvdXQoaGlkZGVuRWxlcywgbGF5b3V0cGFyYW0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHZhciBwYXJhbSA9IHtcclxuICAgICAgICBlbGVzOiBoaWRkZW5FbGVzLFxyXG4gICAgICAgIGxheW91dHBhcmFtOiBsYXlvdXRwYXJhbSxcclxuICAgICAgICBmaXJzdFRpbWU6IHRydWVcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHZhciB1ciA9IGN5LnVuZG9SZWRvKCk7XHJcbiAgICAgIHVyLmFjdGlvbihcInRoaWNrZW5Cb3JkZXJcIiwgc2JnbnZpekluc3RhbmNlLnRoaWNrZW5Cb3JkZXIsIHNiZ252aXpJbnN0YW5jZS50aGluQm9yZGVyKTtcclxuICAgICAgdXIuYWN0aW9uKFwidGhpbkJvcmRlclwiLCBzYmdudml6SW5zdGFuY2UudGhpbkJvcmRlciwgc2JnbnZpekluc3RhbmNlLnRoaWNrZW5Cb3JkZXIpO1xyXG5cclxuICAgICAgdmFyIGFjdGlvbnMgPSBbXTtcclxuICAgICAgdmFyIG5vZGVzV2l0aEhpZGRlbk5laWdoYm9yID0gY3kubm9kZXMoXCJbdGhpY2tCb3JkZXJdXCIpO1xyXG4gICAgICBhY3Rpb25zLnB1c2goe25hbWU6IFwidGhpbkJvcmRlclwiLCBwYXJhbTogbm9kZXNXaXRoSGlkZGVuTmVpZ2hib3J9KTtcclxuICAgICAgYWN0aW9ucy5wdXNoKHtuYW1lOiBcInNob3dBbmRQZXJmb3JtTGF5b3V0XCIsIHBhcmFtOiBwYXJhbX0pO1xyXG4gICAgICBjeS51bmRvUmVkbygpLmRvKFwiYmF0Y2hcIiwgYWN0aW9ucyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLypcclxuICAgKiBVbmhpZGUgZ2l2ZW4gZWxlcyAodGhlIG9uZXMgd2hpY2ggYXJlIGhpZGRlbiBpZiBhbnkpIGFuZCBwZXJmb3JtIGdpdmVuIGxheW91dCBhZnRlcndhcmQuIExheW91dCBwYXJhbWV0ZXIgbWF5IGJlIGxheW91dCBvcHRpb25zXHJcbiAgICogb3IgYSBmdW5jdGlvbiB0byBjYWxsLiBSZXF1aXJlcyB2aWV3VXRpbGl0aWVzIGV4dGVuc2lvbiBhbmQgY29uc2lkZXJzIHVuZG9hYmxlIG9wdGlvbi5cclxuICAgKi9cclxuICBtYWluVXRpbGl0aWVzLnNob3dBbmRQZXJmb3JtTGF5b3V0ID0gZnVuY3Rpb24obWFpbkVsZSwgZWxlcywgbGF5b3V0cGFyYW0pIHtcclxuICAgICAgdmFyIGhpZGRlbkVsZXMgPSBlbGVzLmZpbHRlcignOmhpZGRlbicpO1xyXG4gICAgICBpZiAoaGlkZGVuRWxlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBtYWluVXRpbGl0aWVzLmNsb3NlVXBFbGVtZW50cyhtYWluRWxlLCBoaWRkZW5FbGVzLm5vZGVzKCkpO1xyXG4gICAgICBpZiAoIW9wdGlvbnMudW5kb2FibGUpIHtcclxuICAgICAgICAgIHZhciBub2Rlc1dpdGhIaWRkZW5OZWlnaGJvciA9IGN5LmVkZ2VzKFwiOmhpZGRlblwiKS5jb25uZWN0ZWROb2RlcygnOnZpc2libGUnKTtcclxuICAgICAgICAgIHNiZ252aXpJbnN0YW5jZS50aGluQm9yZGVyKG5vZGVzV2l0aEhpZGRlbk5laWdoYm9yKTtcclxuICAgICAgICAgIGVsZW1lbnRVdGlsaXRpZXMuc2hvd0FuZFBlcmZvcm1MYXlvdXQoaGlkZGVuRWxlcywgbGF5b3V0cGFyYW0pO1xyXG4gICAgICAgICAgdmFyIG5vZGVzV2l0aEhpZGRlbk5laWdoYm9yID0gY3kuZWRnZXMoXCI6aGlkZGVuXCIpLmNvbm5lY3RlZE5vZGVzKCc6dmlzaWJsZScpO1xyXG4gICAgICAgICAgc2JnbnZpekluc3RhbmNlLnRoaWNrZW5Cb3JkZXIobm9kZXNXaXRoSGlkZGVuTmVpZ2hib3IpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgdmFyIHBhcmFtID0ge1xyXG4gICAgICAgICAgICAgIGVsZXM6IGhpZGRlbkVsZXMsXHJcbiAgICAgICAgICAgICAgbGF5b3V0cGFyYW06IGxheW91dHBhcmFtLFxyXG4gICAgICAgICAgICAgIGZpcnN0VGltZTogdHJ1ZVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICB2YXIgdXIgPSBjeS51bmRvUmVkbygpO1xyXG4gICAgICAgICAgdXIuYWN0aW9uKFwidGhpY2tlbkJvcmRlclwiLCBzYmdudml6SW5zdGFuY2UudGhpY2tlbkJvcmRlciwgc2JnbnZpekluc3RhbmNlLnRoaW5Cb3JkZXIpO1xyXG4gICAgICAgICAgdXIuYWN0aW9uKFwidGhpbkJvcmRlclwiLCBzYmdudml6SW5zdGFuY2UudGhpbkJvcmRlciwgc2JnbnZpekluc3RhbmNlLnRoaWNrZW5Cb3JkZXIpO1xyXG5cclxuICAgICAgICAgIHZhciBhY3Rpb25zID0gW107XHJcbiAgICAgICAgICB2YXIgbm9kZXNUb1RoaW5Cb3JkZXIgPSAoaGlkZGVuRWxlcy5uZWlnaGJvcmhvb2QoXCI6dmlzaWJsZVwiKS5ub2RlcyhcIlt0aGlja0JvcmRlcl1cIikpXHJcbiAgICAgICAgICAgICAgICAgIC5kaWZmZXJlbmNlKGN5LmVkZ2VzKFwiOmhpZGRlblwiKS5kaWZmZXJlbmNlKGhpZGRlbkVsZXMuZWRnZXMoKS51bmlvbihoaWRkZW5FbGVzLm5vZGVzKCkuY29ubmVjdGVkRWRnZXMoKSkpLmNvbm5lY3RlZE5vZGVzKCkpO1xyXG4gICAgICAgICAgYWN0aW9ucy5wdXNoKHtuYW1lOiBcInRoaW5Cb3JkZXJcIiwgcGFyYW06IG5vZGVzVG9UaGluQm9yZGVyfSk7XHJcbiAgICAgICAgICBhY3Rpb25zLnB1c2goe25hbWU6IFwic2hvd0FuZFBlcmZvcm1MYXlvdXRcIiwgcGFyYW06IHBhcmFtfSk7XHJcbiAgICAgICAgICB2YXIgbm9kZXNUb1RoaWNrZW5Cb3JkZXIgPSBoaWRkZW5FbGVzLm5vZGVzKCkuZWRnZXNXaXRoKGN5Lm5vZGVzKFwiOmhpZGRlblwiKS5kaWZmZXJlbmNlKGhpZGRlbkVsZXMubm9kZXMoKSkpXHJcbiAgXHQgICAgICAgICAgICAuY29ubmVjdGVkTm9kZXMoKS5pbnRlcnNlY3Rpb24oaGlkZGVuRWxlcy5ub2RlcygpKTtcclxuICAgICAgICAgIGFjdGlvbnMucHVzaCh7bmFtZTogXCJ0aGlja2VuQm9yZGVyXCIsIHBhcmFtOiBub2Rlc1RvVGhpY2tlbkJvcmRlcn0pO1xyXG4gICAgICAgICAgY3kudW5kb1JlZG8oKS5kbyhcImJhdGNoXCIsIGFjdGlvbnMpO1xyXG4gICAgICB9XHJcbiAgfTtcclxuXHJcbiAgLypcclxuICAqIFRha2VzIHRoZSBoaWRkZW4gZWxlbWVudHMgY2xvc2UgdG8gdGhlIG5vZGVzIHdob3NlIG5laWdoYm9ycyB3aWxsIGJlIHNob3duXHJcbiAgKiAqL1xyXG4gIG1haW5VdGlsaXRpZXMuY2xvc2VVcEVsZW1lbnRzID0gZnVuY3Rpb24obWFpbkVsZSwgaGlkZGVuRWxlcykge1xyXG4gICAgICB2YXIgbGVmdFggPSBOdW1iZXIuTUFYX1ZBTFVFO1xyXG4gICAgICB2YXIgcmlnaHRYID0gTnVtYmVyLk1JTl9WQUxVRTtcclxuICAgICAgdmFyIHRvcFkgPSBOdW1iZXIuTUFYX1ZBTFVFO1xyXG4gICAgICB2YXIgYm90dG9tWSA9IE51bWJlci5NSU5fVkFMVUU7XHJcbiAgICAgIC8vIENoZWNrIHRoZSB4IGFuZCB5IGxpbWl0cyBvZiBhbGwgaGlkZGVuIGVsZW1lbnRzIGFuZCBzdG9yZSB0aGVtIGluIHRoZSB2YXJpYWJsZXMgYWJvdmVcclxuICAgICAgaGlkZGVuRWxlcy5mb3JFYWNoKGZ1bmN0aW9uKCBlbGUgKXtcclxuICAgICAgICAgIGlmIChlbGUuZGF0YSgnY2xhc3MnKSAhPSAnY29tcGFydG1lbnQnICYmICBlbGUuZGF0YSgnY2xhc3MnKSAhPSAnY29tcGxleCcpXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdmFyIGhhbGZXaWR0aCA9IGVsZS5vdXRlcldpZHRoKCkvMjtcclxuICAgICAgICAgICAgICB2YXIgaGFsZkhlaWdodCA9IGVsZS5vdXRlckhlaWdodCgpLzI7XHJcbiAgICAgICAgICAgICAgaWYgKGVsZS5wb3NpdGlvbihcInhcIikgLSBoYWxmV2lkdGggPCBsZWZ0WClcclxuICAgICAgICAgICAgICAgICAgbGVmdFggPSBlbGUucG9zaXRpb24oXCJ4XCIpIC0gaGFsZldpZHRoO1xyXG4gICAgICAgICAgICAgIGlmIChlbGUucG9zaXRpb24oXCJ4XCIpICsgaGFsZldpZHRoID4gcmlnaHRYKVxyXG4gICAgICAgICAgICAgICAgICByaWdodFggPSBlbGUucG9zaXRpb24oXCJ4XCIpICsgaGFsZldpZHRoO1xyXG4gICAgICAgICAgICAgIGlmIChlbGUucG9zaXRpb24oXCJ5XCIpIC0gaGFsZkhlaWdodCA8IHRvcFkpXHJcbiAgICAgICAgICAgICAgICAgIHRvcFkgPSBlbGUucG9zaXRpb24oXCJ5XCIpIC0gaGFsZkhlaWdodDtcclxuICAgICAgICAgICAgICBpZiAoZWxlLnBvc2l0aW9uKFwieVwiKSArIGhhbGZIZWlnaHQgPiB0b3BZKVxyXG4gICAgICAgICAgICAgICAgICBib3R0b21ZID0gZWxlLnBvc2l0aW9uKFwieVwiKSArIGhhbGZIZWlnaHQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy9UaGUgY29vcmRpbmF0ZXMgb2YgdGhlIG9sZCBjZW50ZXIgY29udGFpbmluZyB0aGUgaGlkZGVuIG5vZGVzXHJcbiAgICAgIHZhciBvbGRDZW50ZXJYID0gKGxlZnRYICsgcmlnaHRYKS8yO1xyXG4gICAgICB2YXIgb2xkQ2VudGVyWSA9ICh0b3BZICsgYm90dG9tWSkvMjtcclxuXHJcbiAgICAgIC8vSGVyZSB3ZSBjYWxjdWxhdGUgdHdvIHBhcmFtZXRlcnMgd2hpY2ggZGVmaW5lIHRoZSBhcmVhIGluIHdoaWNoIHRoZSBoaWRkZW4gZWxlbWVudHMgYXJlIHBsYWNlZCBpbml0aWFsbHlcclxuICAgICAgdmFyIG1pbkhvcml6b250YWxQYXJhbSA9IG1haW5FbGUub3V0ZXJXaWR0aCgpLzIgKyAocmlnaHRYIC0gbGVmdFgpLzI7XHJcbiAgICAgIHZhciBtYXhIb3Jpem9udGFsUGFyYW0gPSBtYWluRWxlLm91dGVyV2lkdGgoKSArIChyaWdodFggLSBsZWZ0WCkvMjtcclxuICAgICAgdmFyIG1pblZlcnRpY2FsUGFyYW0gPSBtYWluRWxlLm91dGVySGVpZ2h0KCkvMiArIChib3R0b21ZIC0gdG9wWSkvMjtcclxuICAgICAgdmFyIG1heFZlcnRpY2FsUGFyYW0gPSBtYWluRWxlLm91dGVySGVpZ2h0KCkgKyAoYm90dG9tWSAtIHRvcFkpLzI7XHJcblxyXG4gICAgICAvL1F1YWRyYW50cyBpcyBhbiBvYmplY3Qgb2YgdGhlIGZvcm0ge2ZpcnN0Olwib2J0YWluZWRcIiwgc2Vjb25kOlwiZnJlZVwiLCB0aGlyZDpcImZyZWVcIiwgZm91cnRoOlwib2J0YWluZWRcIn1cclxuICAgICAgLy8gd2hpY2ggaG9sZHMgd2hpY2ggcXVhZHJhbnQgYXJlIGZyZWUgKHRoYXQncyB3aGVyZSBoaWRkZW4gbm9kZXMgd2lsbCBiZSBicm91Z2h0KVxyXG4gICAgICB2YXIgcXVhZHJhbnRzID0gbWFpblV0aWxpdGllcy5jaGVja09jY3VwaWVkUXVhZHJhbnRzKG1haW5FbGUsIGhpZGRlbkVsZXMpO1xyXG4gICAgICB2YXIgZnJlZVF1YWRyYW50cyA9IFtdO1xyXG4gICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBxdWFkcmFudHMpIHtcclxuICAgICAgICAgIGlmIChxdWFkcmFudHNbcHJvcGVydHldID09PSBcImZyZWVcIilcclxuICAgICAgICAgICAgICBmcmVlUXVhZHJhbnRzLnB1c2gocHJvcGVydHkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvL0NhbiB0YWtlIHZhbHVlcyAxIGFuZCAtMSBhbmQgYXJlIHVzZWQgdG8gcGxhY2UgdGhlIGhpZGRlbiBub2RlcyBpbiB0aGUgcmFuZG9tIHF1YWRyYW50XHJcbiAgICAgIHZhciBob3Jpem9udGFsTXVsdDtcclxuICAgICAgdmFyIHZlcnRpY2FsTXVsdDtcclxuICAgICAgaWYgKGZyZWVRdWFkcmFudHMubGVuZ3RoID4gMClcclxuICAgICAge1xyXG4gICAgICAgIGlmIChmcmVlUXVhZHJhbnRzLmxlbmd0aCA9PT0gMylcclxuICAgICAgICB7XHJcbiAgICAgICAgICBpZiAoZnJlZVF1YWRyYW50cy5pbmNsdWRlcygnZmlyc3QnKSAmJiBmcmVlUXVhZHJhbnRzLmluY2x1ZGVzKCdzZWNvbmQnKSAmJiBmcmVlUXVhZHJhbnRzLmluY2x1ZGVzKCd0aGlyZCcpKVxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBob3Jpem9udGFsTXVsdCA9IC0xO1xyXG4gICAgICAgICAgICB2ZXJ0aWNhbE11bHQgPSAtMTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2UgaWYgKGZyZWVRdWFkcmFudHMuaW5jbHVkZXMoJ2ZpcnN0JykgJiYgZnJlZVF1YWRyYW50cy5pbmNsdWRlcygnc2Vjb25kJykgJiYgZnJlZVF1YWRyYW50cy5pbmNsdWRlcygnZm91cnRoJykpXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGhvcml6b250YWxNdWx0ID0gMTtcclxuICAgICAgICAgICAgdmVydGljYWxNdWx0ID0gLTE7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlIGlmIChmcmVlUXVhZHJhbnRzLmluY2x1ZGVzKCdmaXJzdCcpICYmIGZyZWVRdWFkcmFudHMuaW5jbHVkZXMoJ3RoaXJkJykgJiYgZnJlZVF1YWRyYW50cy5pbmNsdWRlcygnZm91cnRoJykpXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGhvcml6b250YWxNdWx0ID0gMTtcclxuICAgICAgICAgICAgdmVydGljYWxNdWx0ID0gMTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2UgaWYgKGZyZWVRdWFkcmFudHMuaW5jbHVkZXMoJ3NlY29uZCcpICYmIGZyZWVRdWFkcmFudHMuaW5jbHVkZXMoJ3RoaXJkJykgJiYgZnJlZVF1YWRyYW50cy5pbmNsdWRlcygnZm91cnRoJykpXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGhvcml6b250YWxNdWx0ID0gLTE7XHJcbiAgICAgICAgICAgIHZlcnRpY2FsTXVsdCA9IDE7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAvL1JhbmRvbWx5IHBpY2tzIG9uZSBxdWFkcmFudCBmcm9tIHRoZSBmcmVlIHF1YWRyYW50c1xyXG4gICAgICAgICAgdmFyIHJhbmRvbVF1YWRyYW50ID0gZnJlZVF1YWRyYW50c1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqZnJlZVF1YWRyYW50cy5sZW5ndGgpXTtcclxuXHJcbiAgICAgICAgICBpZiAocmFuZG9tUXVhZHJhbnQgPT09IFwiZmlyc3RcIikge1xyXG4gICAgICAgICAgICAgIGhvcml6b250YWxNdWx0ID0gMTtcclxuICAgICAgICAgICAgICB2ZXJ0aWNhbE11bHQgPSAtMTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2UgaWYgKHJhbmRvbVF1YWRyYW50ID09PSBcInNlY29uZFwiKSB7XHJcbiAgICAgICAgICAgICAgaG9yaXpvbnRhbE11bHQgPSAtMTtcclxuICAgICAgICAgICAgICB2ZXJ0aWNhbE11bHQgPSAtMTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2UgaWYgKHJhbmRvbVF1YWRyYW50ID09PSBcInRoaXJkXCIpIHtcclxuICAgICAgICAgICAgICBob3Jpem9udGFsTXVsdCA9IC0xO1xyXG4gICAgICAgICAgICAgIHZlcnRpY2FsTXVsdCA9IDE7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlIGlmIChyYW5kb21RdWFkcmFudCA9PT0gXCJmb3VydGhcIikge1xyXG4gICAgICAgICAgICAgIGhvcml6b250YWxNdWx0ID0gMTtcclxuICAgICAgICAgICAgICB2ZXJ0aWNhbE11bHQgPSAxO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBlbHNlXHJcbiAgICAgIHtcclxuICAgICAgICAgIGhvcml6b250YWxNdWx0ID0gMDtcclxuICAgICAgICAgIHZlcnRpY2FsTXVsdCA9IDA7XHJcbiAgICAgIH1cclxuICAgICAgLy8gSWYgdGhlIGhvcml6b250YWxNdWx0IGlzIDAgaXQgbWVhbnMgdGhhdCBubyBxdWFkcmFudCBpcyBmcmVlLCBzbyB3ZSByYW5kb21seSBjaG9vc2UgYSBxdWFkcmFudFxyXG4gICAgICB2YXIgaG9yaXpvbnRhbFBhcmFtID0gbWFpblV0aWxpdGllcy5nZW5lcmF0ZVJhbmRvbShtaW5Ib3Jpem9udGFsUGFyYW0sbWF4SG9yaXpvbnRhbFBhcmFtLGhvcml6b250YWxNdWx0KTtcclxuICAgICAgdmFyIHZlcnRpY2FsUGFyYW0gPSBtYWluVXRpbGl0aWVzLmdlbmVyYXRlUmFuZG9tKG1pblZlcnRpY2FsUGFyYW0sbWF4VmVydGljYWxQYXJhbSx2ZXJ0aWNhbE11bHQpO1xyXG5cclxuICAgICAgLy9UaGUgY29vcmRpbmF0ZXMgb2YgdGhlIGNlbnRlciB3aGVyZSB0aGUgaGlkZGVuIG5vZGVzIHdpbGwgYmUgdHJhbnNmZXJlZFxyXG4gICAgICB2YXIgbmV3Q2VudGVyWCA9IG1haW5FbGUucG9zaXRpb24oXCJ4XCIpICsgaG9yaXpvbnRhbFBhcmFtO1xyXG4gICAgICB2YXIgbmV3Q2VudGVyWSA9IG1haW5FbGUucG9zaXRpb24oXCJ5XCIpICsgdmVydGljYWxQYXJhbTtcclxuXHJcbiAgICAgIHZhciB4ZGlmZiA9IG5ld0NlbnRlclggLSBvbGRDZW50ZXJYO1xyXG4gICAgICB2YXIgeWRpZmYgPSBuZXdDZW50ZXJZIC0gb2xkQ2VudGVyWTtcclxuXHJcbiAgICAgIC8vQ2hhbmdlIHRoZSBwb3NpdGlvbiBvZiBoaWRkZW4gZWxlbWVudHNcclxuICAgICAgaGlkZGVuRWxlcy5mb3JFYWNoKGZ1bmN0aW9uKCBlbGUgKXtcclxuICAgICAgICAgIHZhciBuZXd4ID0gZWxlLnBvc2l0aW9uKFwieFwiKSArIHhkaWZmO1xyXG4gICAgICAgICAgdmFyIG5ld3kgPSBlbGUucG9zaXRpb24oXCJ5XCIpICsgeWRpZmY7XHJcbiAgICAgICAgICBlbGUucG9zaXRpb24oXCJ4XCIsIG5ld3gpO1xyXG4gICAgICAgICAgZWxlLnBvc2l0aW9uKFwieVwiLG5ld3kpO1xyXG4gICAgICB9KTtcclxuICB9O1xyXG5cclxuICAvKlxyXG4gICAqIEdlbmVyYXRlcyBhIG51bWJlciBiZXR3ZWVuIDIgbnIgYW5kIG11bHRpbXBsaWVzIGl0IHdpdGggMSBvciAtMVxyXG4gICAqICovXHJcbiAgbWFpblV0aWxpdGllcy5nZW5lcmF0ZVJhbmRvbSA9IGZ1bmN0aW9uKG1pbiwgbWF4LCBtdWx0KSB7XHJcbiAgICAgIHZhciB2YWwgPSBbLTEsMV07XHJcbiAgICAgIGlmIChtdWx0ID09PSAwKVxyXG4gICAgICAgICAgbXVsdCA9IHZhbFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqdmFsLmxlbmd0aCldO1xyXG4gICAgICByZXR1cm4gKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW4pICogbXVsdDtcclxuICB9O1xyXG5cclxuICAvKlxyXG4gICAqIFRoaXMgZnVuY3Rpb24gbWFrZXMgc3VyZSB0aGF0IHRoZSByYW5kb20gbnVtYmVyIGxpZXMgaW4gZnJlZSBxdWFkcmFudFxyXG4gICAqICovXHJcbiAgbWFpblV0aWxpdGllcy5jaGVja09jY3VwaWVkUXVhZHJhbnRzID0gZnVuY3Rpb24obWFpbkVsZSwgaGlkZGVuRWxlcykge1xyXG4gICAgICBpZiAoZWxlbWVudFV0aWxpdGllcy5nZXRNYXBUeXBlKCkgPT0gJ1BEJylcclxuICAgICAge1xyXG4gICAgICAgIHZhciB2aXNpYmxlTmVpZ2hib3JFbGVzID0gbWFpbkVsZS5uZWlnaGJvcmhvb2QoKS5kaWZmZXJlbmNlKGhpZGRlbkVsZXMpLm5vZGVzKCk7XHJcbiAgICAgICAgdmFyIHZpc2libGVOZWlnaGJvcnNPZk5laWdoYm9ycyA9IHZpc2libGVOZWlnaGJvckVsZXMubmVpZ2hib3Job29kKCkuZGlmZmVyZW5jZShoaWRkZW5FbGVzKS5kaWZmZXJlbmNlKG1haW5FbGUpLm5vZGVzKCk7XHJcbiAgICAgICAgdmFyIHZpc2libGVFbGVzID0gdmlzaWJsZU5laWdoYm9yRWxlcy51bmlvbih2aXNpYmxlTmVpZ2hib3JzT2ZOZWlnaGJvcnMpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2VcclxuICAgICAgICB2YXIgdmlzaWJsZUVsZXMgPSBtYWluRWxlLm5laWdoYm9yaG9vZCgpLmRpZmZlcmVuY2UoaGlkZGVuRWxlcykubm9kZXMoKTtcclxuICAgICAgdmFyIG9jY3VwaWVkUXVhZHJhbnRzID0ge2ZpcnN0OlwiZnJlZVwiLCBzZWNvbmQ6XCJmcmVlXCIsIHRoaXJkOlwiZnJlZVwiLCBmb3VydGg6XCJmcmVlXCJ9O1xyXG5cclxuICAgICAgdmlzaWJsZUVsZXMuZm9yRWFjaChmdW5jdGlvbiggZWxlICl7XHJcbiAgICAgICAgICBpZiAoZWxlLmRhdGEoJ2NsYXNzJykgIT0gJ2NvbXBhcnRtZW50JyAmJiAgZWxlLmRhdGEoJ2NsYXNzJykgIT0gJ2NvbXBsZXgnKVxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlmIChlbGUucG9zaXRpb24oXCJ4XCIpIDwgbWFpbkVsZS5wb3NpdGlvbihcInhcIikgJiYgZWxlLnBvc2l0aW9uKFwieVwiKSA8IG1haW5FbGUucG9zaXRpb24oXCJ5XCIpKVxyXG4gICAgICAgICAgICAgICAgICBvY2N1cGllZFF1YWRyYW50cy5zZWNvbmQgPSBcIm9jY3VwaWVkXCI7XHJcbiAgICAgICAgICAgICAgZWxzZSBpZiAoZWxlLnBvc2l0aW9uKFwieFwiKSA+IG1haW5FbGUucG9zaXRpb24oXCJ4XCIpICYmIGVsZS5wb3NpdGlvbihcInlcIikgPCBtYWluRWxlLnBvc2l0aW9uKFwieVwiKSlcclxuICAgICAgICAgICAgICAgICAgb2NjdXBpZWRRdWFkcmFudHMuZmlyc3QgPSBcIm9jY3VwaWVkXCI7XHJcbiAgICAgICAgICAgICAgZWxzZSBpZiAoZWxlLnBvc2l0aW9uKFwieFwiKSA8IG1haW5FbGUucG9zaXRpb24oXCJ4XCIpICYmIGVsZS5wb3NpdGlvbihcInlcIikgPiBtYWluRWxlLnBvc2l0aW9uKFwieVwiKSlcclxuICAgICAgICAgICAgICAgICAgb2NjdXBpZWRRdWFkcmFudHMudGhpcmQgPSBcIm9jY3VwaWVkXCI7XHJcbiAgICAgICAgICAgICAgZWxzZSBpZiAoZWxlLnBvc2l0aW9uKFwieFwiKSA+IG1haW5FbGUucG9zaXRpb24oXCJ4XCIpICYmIGVsZS5wb3NpdGlvbihcInlcIikgPiBtYWluRWxlLnBvc2l0aW9uKFwieVwiKSlcclxuICAgICAgICAgICAgICAgICAgb2NjdXBpZWRRdWFkcmFudHMuZm91cnRoID0gXCJvY2N1cGllZFwiO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgcmV0dXJuIG9jY3VwaWVkUXVhZHJhbnRzO1xyXG4gIH07XHJcblxyXG4gIC8vIE92ZXJyaWRlcyBoaWdobGlnaHRQcm9jZXNzZXMgZnJvbSBTQkdOVklaIC0gZG8gbm90IGhpZ2hsaWdodCBhbnkgbm9kZXMgd2hlbiB0aGUgbWFwIHR5cGUgaXMgQUZcclxuICBtYWluVXRpbGl0aWVzLmhpZ2hsaWdodFByb2Nlc3NlcyA9IGZ1bmN0aW9uKF9ub2Rlcykge1xyXG4gICAgaWYgKGVsZW1lbnRVdGlsaXRpZXMuZ2V0TWFwVHlwZSgpID09IFwiQUZcIilcclxuICAgICAgcmV0dXJuO1xyXG4gICAgc2JnbnZpekluc3RhbmNlLmhpZ2hsaWdodFByb2Nlc3Nlcyhfbm9kZXMpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlc2V0cyBtYXAgdHlwZSB0byB1bmRlZmluZWRcclxuICAgKi9cclxuICBtYWluVXRpbGl0aWVzLnJlc2V0TWFwVHlwZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICBlbGVtZW50VXRpbGl0aWVzLnJlc2V0TWFwVHlwZSgpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIHJldHVybiA6IG1hcCB0eXBlXHJcbiAgICovXHJcbiAgbWFpblV0aWxpdGllcy5nZXRNYXBUeXBlID0gZnVuY3Rpb24oKXtcclxuICAgIHJldHVybiBlbGVtZW50VXRpbGl0aWVzLmdldE1hcFR5cGUoKTtcclxuICB9O1xyXG5cclxuICBtYWluVXRpbGl0aWVzLmFkZEJhY2tncm91bmRJbWFnZSA9IGZ1bmN0aW9uKG5vZGVzLCBiZ09iaiwgdXBkYXRlSW5mbywgcHJvbXB0SW52YWxpZEltYWdlLCB2YWxpZGF0ZVVSTCl7XHJcbiAgICBpZiAobm9kZXMubGVuZ3RoID09PSAwIHx8ICFiZ09iaikge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgYmdPYmpbJ2ZpcnN0VGltZSddID0gdHJ1ZTtcclxuICAgIGlmIChvcHRpb25zLnVuZG9hYmxlKSB7XHJcbiAgICAgIHZhciBwYXJhbSA9IHtcclxuICAgICAgICBiZ09iajogYmdPYmosXHJcbiAgICAgICAgbm9kZXM6IG5vZGVzLFxyXG4gICAgICAgIHVwZGF0ZUluZm86IHVwZGF0ZUluZm8sXHJcbiAgICAgICAgcHJvbXB0SW52YWxpZEltYWdlOiBwcm9tcHRJbnZhbGlkSW1hZ2UsXHJcbiAgICAgICAgdmFsaWRhdGVVUkw6IHZhbGlkYXRlVVJMLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY3kudW5kb1JlZG8oKS5kbyhcImFkZEJhY2tncm91bmRJbWFnZVwiLCBwYXJhbSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgZWxlbWVudFV0aWxpdGllcy5hZGRCYWNrZ3JvdW5kSW1hZ2Uobm9kZXMsIGJnT2JqLCB1cGRhdGVJbmZvLCBwcm9tcHRJbnZhbGlkSW1hZ2UsIHZhbGlkYXRlVVJMKTtcclxuICAgIH1cclxuXHJcbiAgICBjeS5zdHlsZSgpLnVwZGF0ZSgpO1xyXG4gIH1cclxuXHJcbiAgbWFpblV0aWxpdGllcy5yZW1vdmVCYWNrZ3JvdW5kSW1hZ2UgPSBmdW5jdGlvbihub2RlcywgYmdPYmope1xyXG4gICAgaWYgKG5vZGVzLmxlbmd0aCA9PT0gMCB8fCAhYmdPYmopIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGJnT2JqWydmaXJzdFRpbWUnXSA9IHRydWU7XHJcbiAgICBpZiAob3B0aW9ucy51bmRvYWJsZSkge1xyXG4gICAgICB2YXIgcGFyYW0gPSB7XHJcbiAgICAgICAgYmdPYmo6IGJnT2JqLFxyXG4gICAgICAgIG5vZGVzOiBub2Rlc1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgY3kudW5kb1JlZG8oKS5kbyhcInJlbW92ZUJhY2tncm91bmRJbWFnZVwiLCBwYXJhbSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgZWxlbWVudFV0aWxpdGllcy5yZW1vdmVCYWNrZ3JvdW5kSW1hZ2Uobm9kZXMsIGJnT2JqKTtcclxuICAgIH1cclxuXHJcbiAgICBjeS5zdHlsZSgpLnVwZGF0ZSgpO1xyXG4gIH1cclxuXHJcbiAgbWFpblV0aWxpdGllcy51cGRhdGVCYWNrZ3JvdW5kSW1hZ2UgPSBmdW5jdGlvbihub2RlcywgYmdPYmope1xyXG4gICAgaWYgKG5vZGVzLmxlbmd0aCA9PT0gMCB8fCAhYmdPYmopIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChvcHRpb25zLnVuZG9hYmxlKSB7XHJcbiAgICAgIHZhciBwYXJhbSA9IHtcclxuICAgICAgICBiZ09iajogYmdPYmosXHJcbiAgICAgICAgbm9kZXM6IG5vZGVzXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjeS51bmRvUmVkbygpLmRvKFwidXBkYXRlQmFja2dyb3VuZEltYWdlXCIsIHBhcmFtKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBlbGVtZW50VXRpbGl0aWVzLnVwZGF0ZUJhY2tncm91bmRJbWFnZShub2RlcywgYmdPYmopO1xyXG4gICAgfVxyXG5cclxuICAgIGN5LnN0eWxlKCkudXBkYXRlKCk7XHJcbiAgfVxyXG5cclxuICBtYWluVXRpbGl0aWVzLmNoYW5nZUJhY2tncm91bmRJbWFnZSA9IGZ1bmN0aW9uKG5vZGVzLCBvbGRJbWcsIG5ld0ltZywgdXBkYXRlSW5mbywgcHJvbXB0SW52YWxpZEltYWdlLCB2YWxpZGF0ZVVSTCl7XHJcbiAgICBpZiAobm9kZXMubGVuZ3RoID09PSAwIHx8ICFvbGRJbWcgfHwgIW5ld0ltZykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG9wdGlvbnMudW5kb2FibGUpIHtcclxuICAgICAgdmFyIHBhcmFtID0ge1xyXG4gICAgICAgIG9sZEltZzogb2xkSW1nLFxyXG4gICAgICAgIG5ld0ltZzogbmV3SW1nLFxyXG4gICAgICAgIG5vZGVzOiBub2RlcyxcclxuICAgICAgICBmaXJzdFRpbWU6IHRydWUsXHJcbiAgICAgICAgdXBkYXRlSW5mbzogdXBkYXRlSW5mbyxcclxuICAgICAgICBwcm9tcHRJbnZhbGlkSW1hZ2U6IHByb21wdEludmFsaWRJbWFnZSxcclxuICAgICAgICB2YWxpZGF0ZVVSTDogdmFsaWRhdGVVUkxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGN5LnVuZG9SZWRvKCkuZG8oXCJjaGFuZ2VCYWNrZ3JvdW5kSW1hZ2VcIiwgcGFyYW0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGVsZW1lbnRVdGlsaXRpZXMuY2hhbmdlQmFja2dyb3VuZEltYWdlKG5vZGVzLCBvbGRJbWcsIG5ld0ltZywgdHJ1ZSwgdXBkYXRlSW5mbywgcHJvbXB0SW52YWxpZEltYWdlLCB2YWxpZGF0ZVVSTCk7XHJcbiAgICB9XHJcblxyXG4gICAgY3kuc3R5bGUoKS51cGRhdGUoKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBtYWluVXRpbGl0aWVzO1xyXG59O1xyXG4iXSwibmFtZXMiOlsiX3JlZ2VuZXJhdG9yUnVudGltZSIsImUiLCJ0IiwiciIsIk9iamVjdCIsInByb3RvdHlwZSIsIm4iLCJoYXNPd25Qcm9wZXJ0eSIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiaSIsIlN5bWJvbCIsImEiLCJpdGVyYXRvciIsImMiLCJhc3luY0l0ZXJhdG9yIiwidSIsInRvU3RyaW5nVGFnIiwiZGVmaW5lIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwid3JhcCIsIkdlbmVyYXRvciIsImNyZWF0ZSIsIkNvbnRleHQiLCJtYWtlSW52b2tlTWV0aG9kIiwidHJ5Q2F0Y2giLCJ0eXBlIiwiYXJnIiwiY2FsbCIsImgiLCJsIiwiZiIsInMiLCJ5IiwiR2VuZXJhdG9yRnVuY3Rpb24iLCJHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSIsInAiLCJkIiwiZ2V0UHJvdG90eXBlT2YiLCJ2IiwidmFsdWVzIiwiZyIsImRlZmluZUl0ZXJhdG9yTWV0aG9kcyIsImZvckVhY2giLCJfaW52b2tlIiwiQXN5bmNJdGVyYXRvciIsImludm9rZSIsIl90eXBlb2YiLCJyZXNvbHZlIiwiX19hd2FpdCIsInRoZW4iLCJjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyIsIkVycm9yIiwiZG9uZSIsIm1ldGhvZCIsImRlbGVnYXRlIiwibWF5YmVJbnZva2VEZWxlZ2F0ZSIsInNlbnQiLCJfc2VudCIsImRpc3BhdGNoRXhjZXB0aW9uIiwiYWJydXB0IiwiVHlwZUVycm9yIiwicmVzdWx0TmFtZSIsIm5leHQiLCJuZXh0TG9jIiwicHVzaFRyeUVudHJ5IiwidHJ5TG9jIiwiY2F0Y2hMb2MiLCJmaW5hbGx5TG9jIiwiYWZ0ZXJMb2MiLCJ0cnlFbnRyaWVzIiwicHVzaCIsInJlc2V0VHJ5RW50cnkiLCJjb21wbGV0aW9uIiwicmVzZXQiLCJpc05hTiIsImxlbmd0aCIsImRpc3BsYXlOYW1lIiwiaXNHZW5lcmF0b3JGdW5jdGlvbiIsImNvbnN0cnVjdG9yIiwibmFtZSIsIm1hcmsiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImF3cmFwIiwiYXN5bmMiLCJQcm9taXNlIiwia2V5cyIsInJldmVyc2UiLCJwb3AiLCJwcmV2IiwiY2hhckF0Iiwic2xpY2UiLCJzdG9wIiwicnZhbCIsImhhbmRsZSIsImNvbXBsZXRlIiwiZmluaXNoIiwiX2NhdGNoIiwiZGVsZWdhdGVZaWVsZCIsImFzeW5jR2VuZXJhdG9yU3RlcCIsIl9hc3luY1RvR2VuZXJhdG9yIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJfbmV4dCIsIl90aHJvdyIsImxpYnMiLCJyZXF1aXJlIiwiZ2V0TGlicyIsIm1vZHVsZSIsImV4cG9ydHMiLCJlbGVtZW50VXRpbGl0aWVzIiwib3B0aW9ucyIsImN5Iiwic2JnbnZpekluc3RhbmNlIiwibWFpblV0aWxpdGllcyIsInBhcmFtIiwib3B0aW9uVXRpbGl0aWVzIiwiZ2V0T3B0aW9ucyIsInNiZ252aXpJbnN0YW5jZVV0aWxpdGllcyIsImdldEN5IiwiZ2V0SW5zdGFuY2UiLCJhZGROb2RlIiwieCIsIm5vZGVQYXJhbXMiLCJpZCIsInBhcmVudCIsInZpc2liaWxpdHkiLCJpc0dyYXBoVG9wb2xvZ3lMb2NrZWQiLCJ1bmRvYWJsZSIsIm5ld05vZGUiLCJyZXN1bHQiLCJ1bmRvUmVkbyIsImVsZXMiLCJhZGRFZGdlIiwic291cmNlIiwidGFyZ2V0IiwiZWRnZVBhcmFtcyIsImludmFsaWRFZGdlQ2FsbGJhY2siLCJlZGdlY2xhc3MiLCJ2YWxpZGF0aW9uIiwidmFsaWRhdGVBcnJvd0VuZHMiLCJnZXRFbGVtZW50QnlJZCIsInRlbXAiLCJuZXdFZGdlIiwiYWRkUHJvY2Vzc1dpdGhDb252ZW5pZW50RWRnZXMiLCJfc291cmNlIiwiX3RhcmdldCIsInByb2Nlc3NUeXBlIiwiaXNFUE5DbGFzcyIsImNsb25lQ29sbGFwc2VkTm9kZXNBbmRQb3J0cyIsImVsZXNCZWZvcmUiLCJlbGVtZW50cyIsInVuc2VsZWN0IiwiZWxlc0FmdGVyIiwiZWxlc0RpZmYiLCJkaWZmIiwibGVmdCIsImNvbGxhcHNlZE5vZGVzIiwiZmlsdGVyIiwiY29ubmVjdGVkRWRnZXMiLCJyZW1vdmUiLCJyZW1vdmVDbGFzcyIsInJlbW92ZURhdGEiLCJub2RlcyIsIl9ub2RlIiwiZGF0YSIsIm9sZFBvcnROYW1lMCIsIm9sZFBvcnROYW1lMSIsIm91dGdvZXJzIiwiZWRnZXMiLCJfZWRnZSIsImluY29tZXJzIiwic2VsZWN0IiwiY2xvbmVFbGVtZW50cyIsInBhc3RlQXRNb3VzZUxvYyIsImNvcHlFbGVtZW50cyIsInBhc3RlRWxlbWVudHMiLCJjbGlwYm9hcmQiLCJjb3B5IiwicGFzdGUiLCJlbWl0IiwiYWxpZ24iLCJob3Jpem9udGFsIiwidmVydGljYWwiLCJhbGlnblRvIiwiY3JlYXRlQ29tcG91bmRGb3JHaXZlbk5vZGVzIiwiX25vZGVzIiwiY29tcG91bmRUeXBlIiwiZWxlbWVudCIsInNiZ25jbGFzcyIsImlzVmFsaWRQYXJlbnQiLCJnZXRUb3BNb3N0Tm9kZXMiLCJhbGxIYXZlVGhlU2FtZVBhcmVudCIsInN0YXJ0c1dpdGgiLCJub2Rlc1RvTWFrZUNvbXBvdW5kIiwiY2hhbmdlUGFyZW50IiwiX25ld1BhcmVudCIsInBvc0RpZmZYIiwicG9zRGlmZlkiLCJuZXdQYXJlbnQiLCJlbGUiLCJkaWZmZXJlbmNlIiwiYW5jZXN0b3JzIiwicGFyZW50SWQiLCJmaXJzdFRpbWUiLCJwYXJlbnREYXRhIiwiY2FsbGJhY2siLCJtYWludGFpblBvaW50ZXIiLCJjcmVhdGVUcmFuc2xhdGlvblJlYWN0aW9uIiwibVJuYU5hbWUiLCJwcm90ZWluTmFtZSIsInByb2Nlc3NQb3NpdGlvbiIsImVkZ2VMZW5ndGgiLCJjcmVhdGVUcmFuc2NyaXB0aW9uUmVhY3Rpb24iLCJnZW5lTmFtZSIsImNyZWF0ZVRyYW5zbGF0aW9uIiwicmVndWxhdG9yTGFiZWwiLCJvdXRwdXRMYWJlbCIsIm9yaWVudGF0aW9uIiwiY3JlYXRlVHJhbnNjcmlwdGlvbiIsImxhYmVsIiwiY3JlYXRlRGVncmFkYXRpb24iLCJtYWNyb21vbGVjdWxlIiwiY3JlYXRlQ29tcGxleFByb3RlaW5Gb3JtYXRpb24iLCJwcm90ZWluTGFiZWxzIiwiY29tcGxleExhYmVsIiwicmVndWxhdG9yIiwiY3JlYXRlTXVsdGltZXJpemF0aW9uIiwicmVndWxhdG9yTXVsdGltZXIiLCJjcmVhdGVDb252ZXJzaW9uIiwiaW5wdXRJbmZvYm94TGFiZWxzIiwib3V0cHV0SW5mb2JveExhYmVscyIsImNyZWF0ZU1ldGFib2xpY1JlYWN0aW9uIiwiaW5wdXRzIiwib3V0cHV0cyIsInJldmVyc2libGUiLCJjcmVhdGVNZXRhYm9saWNDYXRhbHl0aWNBY3Rpdml0eSIsImlucHV0Tm9kZUxpc3QiLCJvdXRwdXROb2RlTGlzdCIsImNhdGFseXN0TmFtZSIsImNhdGFseXN0VHlwZSIsInRpbGluZ1BhZGRpbmdWZXJ0aWNhbCIsInRpbGluZ1BhZGRpbmdIb3Jpem9udGFsIiwiY3JlYXRlQWN0aXZhdGlvblJlYWN0aW9uIiwiY3JlYXRlVGVtcGxhdGVSZWFjdGlvbiIsInRlbXBsYXRlVHlwZSIsIm1hY3JvbW9sZWN1bGVMaXN0IiwiY29tcGxleE5hbWUiLCJsYXlvdXRQYXJhbSIsInNldE1hcFR5cGUiLCJhY3Rpb25zIiwibWFwVHlwZSIsInJlc2l6ZU5vZGVzIiwid2lkdGgiLCJoZWlnaHQiLCJ1c2VBc3BlY3RSYXRpbyIsInByZXNlcnZlUmVsYXRpdmVQb3MiLCJwZXJmb3JtT3BlcmF0aW9uIiwic3R5bGUiLCJ1cGRhdGUiLCJyZXNpemVOb2Rlc1RvQ29udGVudCIsIm5vZGUiLCJjYWxjdWxhdGVNaW5XaWR0aCIsImNhbGN1bGF0ZU1pbkhlaWdodCIsInN0YXRlQW5kSW5mb3MiLCJsb2NhdGlvbnMiLCJjaGFuZ2VOb2RlTGFiZWwiLCJfcmVmIiwiX2NhbGxlZSIsIl9jYWxsZWUkIiwiX2NvbnRleHQiLCJfeCIsIl94MiIsImNoYW5nZUZvbnRQcm9wZXJ0aWVzIiwiY2hhbmdlU3RhdGVPckluZm9Cb3giLCJpbmRleCIsImFkZFN0YXRlT3JJbmZvQm94Iiwib2JqIiwicmVtb3ZlU3RhdGVPckluZm9Cb3giLCJsb2NhdGlvbk9iaiIsImZpdFVuaXRzIiwidW5kZWZpbmVkIiwic2V0TXVsdGltZXJTdGF0dXMiLCJzdGF0dXMiLCJzZXRBY3RpdmVTdGF0dXMiLCJzZXRIeXBvdGhldGljYWxTdGF0dXMiLCJyZWRyYXdDbG9uZU1hcmtlcnMiLCJzZXRDbG9uZU1hcmtlclN0YXR1cyIsImNoYW5nZUNzcyIsInZhbHVlTWFwIiwiY2hhbmdlRGF0YSIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGVTZXRGaWVsZCIsImZpZWxkTmFtZSIsInRvRGVsZXRlIiwidG9BZGQiLCJzZXREZWZhdWx0UHJvcGVydHkiLCJfY2xhc3MiLCJwcm9wTWFwIiwic2V0RGVmYXVsdFByb3BlcnRpZXMiLCJ1cGRhdGVJbmZvYm94U3R5bGUiLCJuZXdQcm9wcyIsInVwZGF0ZUluZm9ib3hPYmoiLCJkZWxldGVBbmRQZXJmb3JtTGF5b3V0IiwibGF5b3V0cGFyYW0iLCJhbGxOb2RlcyIsIm5vZGVzVG9LZWVwIiwiZXh0ZW5kUmVtYWluaW5nTm9kZXMiLCJub2Rlc1RvUmVtb3ZlIiwibm90IiwiaGlkZUFuZFBlcmZvcm1MYXlvdXQiLCJub2Rlc1RvU2hvdyIsIm5vZGVzVG9IaWRlIiwibm9kZXNXaXRoSGlkZGVuTmVpZ2hib3IiLCJjb25uZWN0ZWROb2RlcyIsInRoaW5Cb3JkZXIiLCJ0aGlja2VuQm9yZGVyIiwidXIiLCJhY3Rpb24iLCJpbnRlcnNlY3Rpb24iLCJuZWlnaGJvcmhvb2QiLCJzaG93QWxsQW5kUGVyZm9ybUxheW91dCIsImhpZGRlbkVsZXMiLCJzaG93QW5kUGVyZm9ybUxheW91dCIsIm1haW5FbGUiLCJjbG9zZVVwRWxlbWVudHMiLCJub2Rlc1RvVGhpbkJvcmRlciIsInVuaW9uIiwibm9kZXNUb1RoaWNrZW5Cb3JkZXIiLCJlZGdlc1dpdGgiLCJsZWZ0WCIsIk51bWJlciIsIk1BWF9WQUxVRSIsInJpZ2h0WCIsIk1JTl9WQUxVRSIsInRvcFkiLCJib3R0b21ZIiwiaGFsZldpZHRoIiwib3V0ZXJXaWR0aCIsImhhbGZIZWlnaHQiLCJvdXRlckhlaWdodCIsInBvc2l0aW9uIiwib2xkQ2VudGVyWCIsIm9sZENlbnRlclkiLCJtaW5Ib3Jpem9udGFsUGFyYW0iLCJtYXhIb3Jpem9udGFsUGFyYW0iLCJtaW5WZXJ0aWNhbFBhcmFtIiwibWF4VmVydGljYWxQYXJhbSIsInF1YWRyYW50cyIsImNoZWNrT2NjdXBpZWRRdWFkcmFudHMiLCJmcmVlUXVhZHJhbnRzIiwicHJvcGVydHkiLCJob3Jpem9udGFsTXVsdCIsInZlcnRpY2FsTXVsdCIsImluY2x1ZGVzIiwicmFuZG9tUXVhZHJhbnQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJob3Jpem9udGFsUGFyYW0iLCJnZW5lcmF0ZVJhbmRvbSIsInZlcnRpY2FsUGFyYW0iLCJuZXdDZW50ZXJYIiwibmV3Q2VudGVyWSIsInhkaWZmIiwieWRpZmYiLCJuZXd4IiwibmV3eSIsIm1pbiIsIm1heCIsIm11bHQiLCJ2YWwiLCJnZXRNYXBUeXBlIiwidmlzaWJsZU5laWdoYm9yRWxlcyIsInZpc2libGVOZWlnaGJvcnNPZk5laWdoYm9ycyIsInZpc2libGVFbGVzIiwib2NjdXBpZWRRdWFkcmFudHMiLCJmaXJzdCIsInNlY29uZCIsInRoaXJkIiwiZm91cnRoIiwiaGlnaGxpZ2h0UHJvY2Vzc2VzIiwicmVzZXRNYXBUeXBlIiwiYWRkQmFja2dyb3VuZEltYWdlIiwiYmdPYmoiLCJ1cGRhdGVJbmZvIiwicHJvbXB0SW52YWxpZEltYWdlIiwidmFsaWRhdGVVUkwiLCJyZW1vdmVCYWNrZ3JvdW5kSW1hZ2UiLCJ1cGRhdGVCYWNrZ3JvdW5kSW1hZ2UiLCJjaGFuZ2VCYWNrZ3JvdW5kSW1hZ2UiLCJvbGRJbWciLCJuZXdJbWciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/utilities/main-utilities-factory.js\n");

/***/ }),

/***/ "./src/utilities/option-utilities-factory.js":
/*!***************************************************!*\
  !*** ./src/utilities/option-utilities-factory.js ***!
  \***************************************************/
/***/ ((module) => {

eval("/*\r\n *  Extend default options and get current options by using this file\r\n */\n\nmodule.exports = function () {\n  // default options\n  var defaults = {\n    // The path of core library images when sbgnviz is required from npm and the index html\n    // file and node_modules are under the same folder then using the default value is fine\n    imgPath: 'node_modules/sbgnviz/src/img',\n    // Whether to fit labels to nodes\n    fitLabelsToNodes: function fitLabelsToNodes() {\n      return false;\n    },\n    fitLabelsToInfoboxes: function fitLabelsToInfoboxes() {\n      return false;\n    },\n    // dynamic label size it may be 'small', 'regular', 'large'\n    dynamicLabelSize: function dynamicLabelSize() {\n      return 'regular';\n    },\n    // Whether to infer nesting on load \n    inferNestingOnLoad: function inferNestingOnLoad() {\n      return false;\n    },\n    // percentage used to calculate compound paddings\n    compoundPadding: function compoundPadding() {\n      return 10;\n    },\n    // The selector of the component containing the sbgn network\n    networkContainerSelector: '#sbgn-network-container',\n    // Whether the actions are undoable, requires cytoscape-undo-redo extension\n    undoable: true,\n    // Whether to have undoable drag feature in undo/redo extension. This options will be passed to undo/redo extension\n    undoableDrag: true\n  };\n  var optionUtilities = function optionUtilities() {};\n\n  // Extend the defaults options with the user options\n  optionUtilities.extendOptions = function (options) {\n    var result = {};\n    for (var prop in defaults) {\n      result[prop] = defaults[prop];\n    }\n    for (var prop in options) {\n      result[prop] = options[prop];\n    }\n    optionUtilities.options = result;\n    return options;\n  };\n  optionUtilities.getOptions = function () {\n    return optionUtilities.options;\n  };\n  return optionUtilities;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbGl0aWVzL29wdGlvbi11dGlsaXRpZXMtZmFjdG9yeS5qcyIsIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJkZWZhdWx0cyIsImltZ1BhdGgiLCJmaXRMYWJlbHNUb05vZGVzIiwiZml0TGFiZWxzVG9JbmZvYm94ZXMiLCJkeW5hbWljTGFiZWxTaXplIiwiaW5mZXJOZXN0aW5nT25Mb2FkIiwiY29tcG91bmRQYWRkaW5nIiwibmV0d29ya0NvbnRhaW5lclNlbGVjdG9yIiwidW5kb2FibGUiLCJ1bmRvYWJsZURyYWciLCJvcHRpb25VdGlsaXRpZXMiLCJleHRlbmRPcHRpb25zIiwib3B0aW9ucyIsInJlc3VsdCIsInByb3AiLCJnZXRPcHRpb25zIl0sInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGlzZS8uL3NyYy91dGlsaXRpZXMvb3B0aW9uLXV0aWxpdGllcy1mYWN0b3J5LmpzPzllNDciXSwic291cmNlc0NvbnRlbnQiOlsiLypcclxuICogIEV4dGVuZCBkZWZhdWx0IG9wdGlvbnMgYW5kIGdldCBjdXJyZW50IG9wdGlvbnMgYnkgdXNpbmcgdGhpcyBmaWxlXHJcbiAqL1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gIC8vIGRlZmF1bHQgb3B0aW9uc1xyXG4gIHZhciBkZWZhdWx0cyA9IHtcclxuICAgIC8vIFRoZSBwYXRoIG9mIGNvcmUgbGlicmFyeSBpbWFnZXMgd2hlbiBzYmdudml6IGlzIHJlcXVpcmVkIGZyb20gbnBtIGFuZCB0aGUgaW5kZXggaHRtbFxyXG4gICAgLy8gZmlsZSBhbmQgbm9kZV9tb2R1bGVzIGFyZSB1bmRlciB0aGUgc2FtZSBmb2xkZXIgdGhlbiB1c2luZyB0aGUgZGVmYXVsdCB2YWx1ZSBpcyBmaW5lXHJcbiAgICBpbWdQYXRoOiAnbm9kZV9tb2R1bGVzL3NiZ252aXovc3JjL2ltZycsXHJcbiAgICAvLyBXaGV0aGVyIHRvIGZpdCBsYWJlbHMgdG8gbm9kZXNcclxuICAgIGZpdExhYmVsc1RvTm9kZXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSxcclxuICAgIGZpdExhYmVsc1RvSW5mb2JveGVzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0sXHJcbiAgICAvLyBkeW5hbWljIGxhYmVsIHNpemUgaXQgbWF5IGJlICdzbWFsbCcsICdyZWd1bGFyJywgJ2xhcmdlJ1xyXG4gICAgZHluYW1pY0xhYmVsU2l6ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4gJ3JlZ3VsYXInO1xyXG4gICAgfSxcclxuICAgIC8vIFdoZXRoZXIgdG8gaW5mZXIgbmVzdGluZyBvbiBsb2FkIFxyXG4gICAgaW5mZXJOZXN0aW5nT25Mb2FkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0sXHJcbiAgICAvLyBwZXJjZW50YWdlIHVzZWQgdG8gY2FsY3VsYXRlIGNvbXBvdW5kIHBhZGRpbmdzXHJcbiAgICBjb21wb3VuZFBhZGRpbmc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIDEwO1xyXG4gICAgfSxcclxuICAgIC8vIFRoZSBzZWxlY3RvciBvZiB0aGUgY29tcG9uZW50IGNvbnRhaW5pbmcgdGhlIHNiZ24gbmV0d29ya1xyXG4gICAgbmV0d29ya0NvbnRhaW5lclNlbGVjdG9yOiAnI3NiZ24tbmV0d29yay1jb250YWluZXInLFxyXG4gICAgLy8gV2hldGhlciB0aGUgYWN0aW9ucyBhcmUgdW5kb2FibGUsIHJlcXVpcmVzIGN5dG9zY2FwZS11bmRvLXJlZG8gZXh0ZW5zaW9uXHJcbiAgICB1bmRvYWJsZTogdHJ1ZSxcclxuICAgIC8vIFdoZXRoZXIgdG8gaGF2ZSB1bmRvYWJsZSBkcmFnIGZlYXR1cmUgaW4gdW5kby9yZWRvIGV4dGVuc2lvbi4gVGhpcyBvcHRpb25zIHdpbGwgYmUgcGFzc2VkIHRvIHVuZG8vcmVkbyBleHRlbnNpb25cclxuICAgIHVuZG9hYmxlRHJhZzogdHJ1ZVxyXG4gIH07XHJcblxyXG4gIHZhciBvcHRpb25VdGlsaXRpZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgfTtcclxuXHJcbiAgLy8gRXh0ZW5kIHRoZSBkZWZhdWx0cyBvcHRpb25zIHdpdGggdGhlIHVzZXIgb3B0aW9uc1xyXG4gIG9wdGlvblV0aWxpdGllcy5leHRlbmRPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuXHJcbiAgICBmb3IgKHZhciBwcm9wIGluIGRlZmF1bHRzKSB7XHJcbiAgICAgIHJlc3VsdFtwcm9wXSA9IGRlZmF1bHRzW3Byb3BdO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIHByb3AgaW4gb3B0aW9ucykge1xyXG4gICAgICByZXN1bHRbcHJvcF0gPSBvcHRpb25zW3Byb3BdO1xyXG4gICAgfVxyXG5cclxuICAgIG9wdGlvblV0aWxpdGllcy5vcHRpb25zID0gcmVzdWx0O1xyXG5cclxuICAgIHJldHVybiBvcHRpb25zO1xyXG4gIH07XHJcblxyXG4gIG9wdGlvblV0aWxpdGllcy5nZXRPcHRpb25zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIG9wdGlvblV0aWxpdGllcy5vcHRpb25zO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiBvcHRpb25VdGlsaXRpZXM7XHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBQSxNQUFNLENBQUNDLE9BQU8sR0FBRyxZQUFZO0VBRTNCO0VBQ0EsSUFBSUMsUUFBUSxHQUFHO0lBQ2I7SUFDQTtJQUNBQyxPQUFPLEVBQUUsOEJBQThCO0lBQ3ZDO0lBQ0FDLGdCQUFnQixFQUFFLFNBQWxCQSxnQkFBZ0JBLENBQUEsRUFBYztNQUM1QixPQUFPLEtBQUs7SUFDZCxDQUFDO0lBQ0RDLG9CQUFvQixFQUFFLFNBQXRCQSxvQkFBb0JBLENBQUEsRUFBYztNQUNoQyxPQUFPLEtBQUs7SUFDZCxDQUFDO0lBQ0Q7SUFDQUMsZ0JBQWdCLEVBQUUsU0FBbEJBLGdCQUFnQkEsQ0FBQSxFQUFjO01BQzVCLE9BQU8sU0FBUztJQUNsQixDQUFDO0lBQ0Q7SUFDQUMsa0JBQWtCLEVBQUUsU0FBcEJBLGtCQUFrQkEsQ0FBQSxFQUFjO01BQzlCLE9BQU8sS0FBSztJQUNkLENBQUM7SUFDRDtJQUNBQyxlQUFlLEVBQUUsU0FBakJBLGVBQWVBLENBQUEsRUFBYztNQUMzQixPQUFPLEVBQUU7SUFDWCxDQUFDO0lBQ0Q7SUFDQUMsd0JBQXdCLEVBQUUseUJBQXlCO0lBQ25EO0lBQ0FDLFFBQVEsRUFBRSxJQUFJO0lBQ2Q7SUFDQUMsWUFBWSxFQUFFO0VBQ2hCLENBQUM7RUFFRCxJQUFJQyxlQUFlLEdBQUcsU0FBbEJBLGVBQWVBLENBQUEsRUFBZSxDQUNsQyxDQUFDOztFQUVEO0VBQ0FBLGVBQWUsQ0FBQ0MsYUFBYSxHQUFHLFVBQVVDLE9BQU8sRUFBRTtJQUNqRCxJQUFJQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0lBRWYsS0FBSyxJQUFJQyxJQUFJLElBQUlkLFFBQVEsRUFBRTtNQUN6QmEsTUFBTSxDQUFDQyxJQUFJLENBQUMsR0FBR2QsUUFBUSxDQUFDYyxJQUFJLENBQUM7SUFDL0I7SUFFQSxLQUFLLElBQUlBLElBQUksSUFBSUYsT0FBTyxFQUFFO01BQ3hCQyxNQUFNLENBQUNDLElBQUksQ0FBQyxHQUFHRixPQUFPLENBQUNFLElBQUksQ0FBQztJQUM5QjtJQUVBSixlQUFlLENBQUNFLE9BQU8sR0FBR0MsTUFBTTtJQUVoQyxPQUFPRCxPQUFPO0VBQ2hCLENBQUM7RUFFREYsZUFBZSxDQUFDSyxVQUFVLEdBQUcsWUFBWTtJQUN2QyxPQUFPTCxlQUFlLENBQUNFLE9BQU87RUFDaEMsQ0FBQztFQUVELE9BQU9GLGVBQWU7QUFDeEIsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==\n//# sourceURL=webpack-internal:///./src/utilities/option-utilities-factory.js\n");

/***/ }),

/***/ "./src/utilities/register-undo-redo-actions-factory.js":
/*!*************************************************************!*\
  !*** ./src/utilities/register-undo-redo-actions-factory.js ***!
  \*************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var libs = (__webpack_require__(/*! ./lib-utilities */ \"./src/utilities/lib-utilities.js\").getLibs)();\nvar $ = libs.jQuery;\nmodule.exports = function () {\n  var undoRedoActionFunctions, options, cy;\n  var registerUndoRedoActions = function registerUndoRedoActions(param) {\n    undoRedoActionFunctions = param.undoRedoActionFunctions;\n    options = param.optionUtilities.getOptions();\n    cy = param.sbgnvizInstanceUtilities.getCy();\n    if (!options.undoable) {\n      return;\n    }\n\n    // create undo-redo instance\n    var ur = cy.undoRedo({\n      undoableDrag: options.undoableDrag\n    });\n\n    // register add remove actions\n    ur.action(\"addNode\", undoRedoActionFunctions.addNode, undoRedoActionFunctions.deleteElesSimple);\n    ur.action(\"deleteElesSimple\", undoRedoActionFunctions.deleteElesSimple, undoRedoActionFunctions.restoreEles);\n    ur.action(\"addEdge\", undoRedoActionFunctions.addEdge, undoRedoActionFunctions.deleteElesSimple);\n    ur.action(\"addProcessWithConvenientEdges\", undoRedoActionFunctions.addProcessWithConvenientEdges, undoRedoActionFunctions.deleteElesSimple);\n    ur.action(\"deleteElesSmart\", undoRedoActionFunctions.deleteElesSmart, undoRedoActionFunctions.restoreEles);\n    ur.action(\"createCompoundForGivenNodes\", undoRedoActionFunctions.createCompoundForGivenNodes, undoRedoActionFunctions.createCompoundForGivenNodes);\n\n    // register general actions\n    ur.action(\"resizeNodes\", undoRedoActionFunctions.resizeNodes, undoRedoActionFunctions.resizeNodes);\n    ur.action(\"changeNodeLabel\", undoRedoActionFunctions.changeNodeLabel, undoRedoActionFunctions.changeNodeLabel);\n    ur.action(\"regenerateId\", undoRedoActionFunctions.regenerateId, undoRedoActionFunctions.regenerateId);\n    ur.action(\"changeData\", undoRedoActionFunctions.changeData, undoRedoActionFunctions.changeData);\n    ur.action(\"updateSetField\", undoRedoActionFunctions.updateSetField, undoRedoActionFunctions.updateSetField);\n    ur.action(\"changeCss\", undoRedoActionFunctions.changeCss, undoRedoActionFunctions.changeCss);\n    ur.action(\"changeBendPoints\", undoRedoActionFunctions.changeBendPoints, undoRedoActionFunctions.changeBendPoints);\n    ur.action(\"changeFontProperties\", undoRedoActionFunctions.changeFontProperties, undoRedoActionFunctions.changeFontProperties);\n    ur.action(\"showAndPerformLayout\", undoRedoActionFunctions.showAndPerformLayout, undoRedoActionFunctions.undoShowAndPerformLayout);\n    ur.action(\"hideAndPerformLayout\", undoRedoActionFunctions.hideAndPerformLayout, undoRedoActionFunctions.undoHideAndPerformLayout);\n    ur.action(\"deleteAndPerformLayout\", undoRedoActionFunctions.deleteAndPerformLayout, undoRedoActionFunctions.undoDeleteAndPerformLayout);\n    ur.action(\"applySIFTopologyGrouping\", undoRedoActionFunctions.applySIFTopologyGrouping, undoRedoActionFunctions.applySIFTopologyGrouping);\n\n    // register SBGN actions\n    ur.action(\"addStateOrInfoBox\", undoRedoActionFunctions.addStateOrInfoBox, undoRedoActionFunctions.removeStateOrInfoBox);\n    ur.action(\"changeStateOrInfoBox\", undoRedoActionFunctions.changeStateOrInfoBox, undoRedoActionFunctions.changeStateOrInfoBox);\n    ur.action(\"setMultimerStatus\", undoRedoActionFunctions.setMultimerStatus, undoRedoActionFunctions.setMultimerStatus);\n    ur.action(\"setActiveStatus\", undoRedoActionFunctions.setActiveStatus, undoRedoActionFunctions.setActiveStatus);\n    ur.action(\"setHypotheticalStatus\", undoRedoActionFunctions.setHypotheticalStatus, undoRedoActionFunctions.setHypotheticalStatus);\n    ur.action(\"setCloneMarkerStatus\", undoRedoActionFunctions.setCloneMarkerStatus, undoRedoActionFunctions.setCloneMarkerStatus);\n    ur.action(\"removeStateOrInfoBox\", undoRedoActionFunctions.removeStateOrInfoBox, undoRedoActionFunctions.addStateOrInfoBox);\n    ur.action(\"fitUnits\", undoRedoActionFunctions.fitUnits, undoRedoActionFunctions.restoreUnits);\n    ur.action(\"addBackgroundImage\", undoRedoActionFunctions.addBackgroundImage, undoRedoActionFunctions.removeBackgroundImage);\n    ur.action(\"removeBackgroundImage\", undoRedoActionFunctions.removeBackgroundImage, undoRedoActionFunctions.addBackgroundImage);\n    ur.action(\"updateBackgroundImage\", undoRedoActionFunctions.updateBackgroundImage, undoRedoActionFunctions.updateBackgroundImage);\n    ur.action(\"changeBackgroundImage\", undoRedoActionFunctions.changeBackgroundImage, undoRedoActionFunctions.changeBackgroundImage);\n    ur.action(\"updateInfoboxStyle\", undoRedoActionFunctions.updateInfoboxStyle, undoRedoActionFunctions.updateInfoboxStyle);\n    ur.action(\"updateInfoboxObj\", undoRedoActionFunctions.updateInfoboxObj, undoRedoActionFunctions.updateInfoboxObj);\n\n    // register easy creation actions\n    ur.action(\"createTemplateReaction\", undoRedoActionFunctions.createTemplateReaction, undoRedoActionFunctions.deleteElesSimple);\n    ur.action(\"createActivationReaction\", undoRedoActionFunctions.createActivationReaction, undoRedoActionFunctions.deleteElesSimple);\n    ur.action(\"createMetabolicCatalyticActivity\", undoRedoActionFunctions.createMetabolicCatalyticActivity, undoRedoActionFunctions.deleteElesSimple);\n    ur.action(\"createMetabolicReaction\", undoRedoActionFunctions.createMetabolicReaction, undoRedoActionFunctions.deleteElesSimple);\n    ur.action(\"createConversion\", undoRedoActionFunctions.createConversion, undoRedoActionFunctions.deleteElesSimple);\n    ur.action(\"createMultimerization\", undoRedoActionFunctions.createMultimerization, undoRedoActionFunctions.deleteElesSimple);\n    ur.action(\"createComplexProteinFormation\", undoRedoActionFunctions.createComplexProteinFormation, undoRedoActionFunctions.deleteElesSimple);\n    ur.action(\"createDegradation\", undoRedoActionFunctions.createDegradation, undoRedoActionFunctions.deleteElesSimple);\n    ur.action(\"createTranscription\", undoRedoActionFunctions.createTranscription, undoRedoActionFunctions.deleteElesSimple);\n    ur.action(\"createTranslation\", undoRedoActionFunctions.createTranslation, undoRedoActionFunctions.deleteElesSimple);\n    ur.action(\"createTranscriptionReaction\", undoRedoActionFunctions.createTranscriptionReaction, undoRedoActionFunctions.deleteElesSimple);\n    ur.action(\"createTranslationReaction\", undoRedoActionFunctions.createTranslationReaction, undoRedoActionFunctions.deleteElesSimple);\n    ur.action(\"setDefaultProperty\", undoRedoActionFunctions.setDefaultProperty, undoRedoActionFunctions.setDefaultProperty);\n    ur.action(\"convertIntoReversibleReaction\", undoRedoActionFunctions.convertIntoReversibleReaction, undoRedoActionFunctions.convertIntoReversibleReaction);\n    ur.action(\"moveEdge\", undoRedoActionFunctions.moveEdge, undoRedoActionFunctions.moveEdge);\n    ur.action(\"fixError\", undoRedoActionFunctions.fixError, undoRedoActionFunctions.unfixError);\n    ur.action(\"cloneHighDegreeNode\", undoRedoActionFunctions.cloneHighDegreeNode, undoRedoActionFunctions.unCloneHighDegreeNode);\n    ur.action(\"changeMapType\", undoRedoActionFunctions.changeMapType, undoRedoActionFunctions.changeMapType);\n    ur.action(\"setCompoundPadding\", undoRedoActionFunctions.setCompoundPadding, undoRedoActionFunctions.setCompoundPadding);\n  };\n  return registerUndoRedoActions;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbGl0aWVzL3JlZ2lzdGVyLXVuZG8tcmVkby1hY3Rpb25zLWZhY3RvcnkuanMiLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsSUFBSSxHQUFHQyx3RkFBa0MsQ0FBQyxDQUFDO0FBQy9DLElBQUlFLENBQUMsR0FBR0gsSUFBSSxDQUFDSSxNQUFNO0FBRW5CQyxNQUFNLENBQUNDLE9BQU8sR0FBRyxZQUFZO0VBRTNCLElBQUlDLHVCQUF1QixFQUFFQyxPQUFPLEVBQUVDLEVBQUU7RUFFeEMsSUFBSUMsdUJBQXVCLEdBQUcsU0FBMUJBLHVCQUF1QkEsQ0FBYUMsS0FBSyxFQUFFO0lBRTdDSix1QkFBdUIsR0FBR0ksS0FBSyxDQUFDSix1QkFBdUI7SUFDdkRDLE9BQU8sR0FBR0csS0FBSyxDQUFDQyxlQUFlLENBQUNDLFVBQVUsQ0FBQyxDQUFDO0lBQzVDSixFQUFFLEdBQUdFLEtBQUssQ0FBQ0csd0JBQXdCLENBQUNDLEtBQUssQ0FBQyxDQUFDO0lBRTNDLElBQUksQ0FBQ1AsT0FBTyxDQUFDUSxRQUFRLEVBQUU7TUFDckI7SUFDRjs7SUFFQTtJQUNBLElBQUlDLEVBQUUsR0FBR1IsRUFBRSxDQUFDUyxRQUFRLENBQUM7TUFDbkJDLFlBQVksRUFBRVgsT0FBTyxDQUFDVztJQUN4QixDQUFDLENBQUM7O0lBRUY7SUFDQUYsRUFBRSxDQUFDRyxNQUFNLENBQUMsU0FBUyxFQUFFYix1QkFBdUIsQ0FBQ2MsT0FBTyxFQUFFZCx1QkFBdUIsQ0FBQ2UsZ0JBQWdCLENBQUM7SUFDL0ZMLEVBQUUsQ0FBQ0csTUFBTSxDQUFDLGtCQUFrQixFQUFFYix1QkFBdUIsQ0FBQ2UsZ0JBQWdCLEVBQUVmLHVCQUF1QixDQUFDZ0IsV0FBVyxDQUFDO0lBQzVHTixFQUFFLENBQUNHLE1BQU0sQ0FBQyxTQUFTLEVBQUViLHVCQUF1QixDQUFDaUIsT0FBTyxFQUFFakIsdUJBQXVCLENBQUNlLGdCQUFnQixDQUFDO0lBQy9GTCxFQUFFLENBQUNHLE1BQU0sQ0FBQywrQkFBK0IsRUFB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O0VBRUQsT0FBT3BFLHVCQUF1QjtBQUNoQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hpc2UvLi9zcmMvdXRpbGl0aWVzL3JlZ2lzdGVyLXVuZG8tcmVkby1hY3Rpb25zLWZhY3RvcnkuanM/NWEzYSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbGlicyA9IHJlcXVpcmUoJy4vbGliLXV0aWxpdGllcycpLmdldExpYnMoKTtcclxudmFyICQgPSBsaWJzLmpRdWVyeTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICB2YXIgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMsIG9wdGlvbnMsIGN5O1xyXG5cclxuICB2YXIgcmVnaXN0ZXJVbmRvUmVkb0FjdGlvbnMgPSBmdW5jdGlvbiAocGFyYW0pIHtcclxuXHJcbiAgICB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucyA9IHBhcmFtLnVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zO1xyXG4gICAgb3B0aW9ucyA9IHBhcmFtLm9wdGlvblV0aWxpdGllcy5nZXRPcHRpb25zKCk7XHJcbiAgICBjeSA9IHBhcmFtLnNiZ252aXpJbnN0YW5jZVV0aWxpdGllcy5nZXRDeSgpO1xyXG5cclxuICAgIGlmICghb3B0aW9ucy51bmRvYWJsZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY3JlYXRlIHVuZG8tcmVkbyBpbnN0YW5jZVxyXG4gICAgdmFyIHVyID0gY3kudW5kb1JlZG8oe1xyXG4gICAgICB1bmRvYWJsZURyYWc6IG9wdGlvbnMudW5kb2FibGVEcmFnXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyByZWdpc3RlciBhZGQgcmVtb3ZlIGFjdGlvbnNcclxuICAgIHVyLmFjdGlvbihcImFkZE5vZGVcIiwgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuYWRkTm9kZSwgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuZGVsZXRlRWxlc1NpbXBsZSk7XHJcbiAgICB1ci5hY3Rpb24oXCJkZWxldGVFbGVzU2ltcGxlXCIsIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmRlbGV0ZUVsZXNTaW1wbGUsIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLnJlc3RvcmVFbGVzKTtcclxuICAgIHVyLmFjdGlvbihcImFkZEVkZ2VcIiwgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuYWRkRWRnZSwgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuZGVsZXRlRWxlc1NpbXBsZSk7XHJcbiAgICB1ci5hY3Rpb24oXCJhZGRQcm9jZXNzV2l0aENvbnZlbmllbnRFZGdlc1wiLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5hZGRQcm9jZXNzV2l0aENvbnZlbmllbnRFZGdlcywgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuZGVsZXRlRWxlc1NpbXBsZSk7XHJcbiAgICB1ci5hY3Rpb24oXCJkZWxldGVFbGVzU21hcnRcIiwgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuZGVsZXRlRWxlc1NtYXJ0LCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5yZXN0b3JlRWxlcyk7XHJcbiAgICB1ci5hY3Rpb24oXCJjcmVhdGVDb21wb3VuZEZvckdpdmVuTm9kZXNcIiwgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuY3JlYXRlQ29tcG91bmRGb3JHaXZlbk5vZGVzLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5jcmVhdGVDb21wb3VuZEZvckdpdmVuTm9kZXMpO1xyXG5cclxuICAgIC8vIHJlZ2lzdGVyIGdlbmVyYWwgYWN0aW9uc1xyXG4gICAgdXIuYWN0aW9uKFwicmVzaXplTm9kZXNcIiwgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMucmVzaXplTm9kZXMsIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLnJlc2l6ZU5vZGVzKTtcclxuICAgIHVyLmFjdGlvbihcImNoYW5nZU5vZGVMYWJlbFwiLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5jaGFuZ2VOb2RlTGFiZWwsIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmNoYW5nZU5vZGVMYWJlbCk7XHJcbiAgICB1ci5hY3Rpb24oXCJyZWdlbmVyYXRlSWRcIiwgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMucmVnZW5lcmF0ZUlkLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5yZWdlbmVyYXRlSWQpO1xyXG4gICAgdXIuYWN0aW9uKFwiY2hhbmdlRGF0YVwiLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5jaGFuZ2VEYXRhLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5jaGFuZ2VEYXRhKTtcclxuICAgIHVyLmFjdGlvbihcInVwZGF0ZVNldEZpZWxkXCIsIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLnVwZGF0ZVNldEZpZWxkLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy51cGRhdGVTZXRGaWVsZCk7XHJcbiAgICB1ci5hY3Rpb24oXCJjaGFuZ2VDc3NcIiwgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuY2hhbmdlQ3NzLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5jaGFuZ2VDc3MpO1xyXG4gICAgdXIuYWN0aW9uKFwiY2hhbmdlQmVuZFBvaW50c1wiLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5jaGFuZ2VCZW5kUG9pbnRzLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5jaGFuZ2VCZW5kUG9pbnRzKTtcclxuICAgIHVyLmFjdGlvbihcImNoYW5nZUZvbnRQcm9wZXJ0aWVzXCIsIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmNoYW5nZUZvbnRQcm9wZXJ0aWVzLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5jaGFuZ2VGb250UHJvcGVydGllcyk7XHJcbiAgICB1ci5hY3Rpb24oXCJzaG93QW5kUGVyZm9ybUxheW91dFwiLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5zaG93QW5kUGVyZm9ybUxheW91dCwgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMudW5kb1Nob3dBbmRQZXJmb3JtTGF5b3V0KTtcclxuICAgIHVyLmFjdGlvbihcImhpZGVBbmRQZXJmb3JtTGF5b3V0XCIsIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmhpZGVBbmRQZXJmb3JtTGF5b3V0LCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy51bmRvSGlkZUFuZFBlcmZvcm1MYXlvdXQpO1xyXG4gICAgdXIuYWN0aW9uKFwiZGVsZXRlQW5kUGVyZm9ybUxheW91dFwiLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5kZWxldGVBbmRQZXJmb3JtTGF5b3V0LCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy51bmRvRGVsZXRlQW5kUGVyZm9ybUxheW91dCk7XHJcbiAgICB1ci5hY3Rpb24oXCJhcHBseVNJRlRvcG9sb2d5R3JvdXBpbmdcIiwgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuYXBwbHlTSUZUb3BvbG9neUdyb3VwaW5nLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5hcHBseVNJRlRvcG9sb2d5R3JvdXBpbmcpO1xyXG5cclxuICAgIC8vIHJlZ2lzdGVyIFNCR04gYWN0aW9uc1xyXG4gICAgdXIuYWN0aW9uKFwiYWRkU3RhdGVPckluZm9Cb3hcIiwgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuYWRkU3RhdGVPckluZm9Cb3gsIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLnJlbW92ZVN0YXRlT3JJbmZvQm94KTtcclxuICAgIHVyLmFjdGlvbihcImNoYW5nZVN0YXRlT3JJbmZvQm94XCIsIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmNoYW5nZVN0YXRlT3JJbmZvQm94LCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5jaGFuZ2VTdGF0ZU9ySW5mb0JveCk7XHJcbiAgICB1ci5hY3Rpb24oXCJzZXRNdWx0aW1lclN0YXR1c1wiLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5zZXRNdWx0aW1lclN0YXR1cywgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuc2V0TXVsdGltZXJTdGF0dXMpO1xyXG4gICAgdXIuYWN0aW9uKFwic2V0QWN0aXZlU3RhdHVzXCIsIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLnNldEFjdGl2ZVN0YXR1cywgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuc2V0QWN0aXZlU3RhdHVzKTtcclxuICAgIHVyLmFjdGlvbihcInNldEh5cG90aGV0aWNhbFN0YXR1c1wiLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5zZXRIeXBvdGhldGljYWxTdGF0dXMsIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLnNldEh5cG90aGV0aWNhbFN0YXR1cyk7XHJcbiAgICB1ci5hY3Rpb24oXCJzZXRDbG9uZU1hcmtlclN0YXR1c1wiLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5zZXRDbG9uZU1hcmtlclN0YXR1cywgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuc2V0Q2xvbmVNYXJrZXJTdGF0dXMpO1xyXG4gICAgdXIuYWN0aW9uKFwicmVtb3ZlU3RhdGVPckluZm9Cb3hcIiwgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMucmVtb3ZlU3RhdGVPckluZm9Cb3gsIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmFkZFN0YXRlT3JJbmZvQm94KTtcclxuICAgIHVyLmFjdGlvbihcImZpdFVuaXRzXCIsIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmZpdFVuaXRzLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5yZXN0b3JlVW5pdHMpO1xyXG4gICAgdXIuYWN0aW9uKFwiYWRkQmFja2dyb3VuZEltYWdlXCIsIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmFkZEJhY2tncm91bmRJbWFnZSwgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMucmVtb3ZlQmFja2dyb3VuZEltYWdlKTtcclxuICAgIHVyLmFjdGlvbihcInJlbW92ZUJhY2tncm91bmRJbWFnZVwiLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5yZW1vdmVCYWNrZ3JvdW5kSW1hZ2UsIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmFkZEJhY2tncm91bmRJbWFnZSk7XHJcbiAgICB1ci5hY3Rpb24oXCJ1cGRhdGVCYWNrZ3JvdW5kSW1hZ2VcIiwgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMudXBkYXRlQmFja2dyb3VuZEltYWdlLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy51cGRhdGVCYWNrZ3JvdW5kSW1hZ2UpO1xyXG4gICAgdXIuYWN0aW9uKFwiY2hhbmdlQmFja2dyb3VuZEltYWdlXCIsIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmNoYW5nZUJhY2tncm91bmRJbWFnZSwgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuY2hhbmdlQmFja2dyb3VuZEltYWdlKTtcclxuICAgIHVyLmFjdGlvbihcInVwZGF0ZUluZm9ib3hTdHlsZVwiLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy51cGRhdGVJbmZvYm94U3R5bGUsIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLnVwZGF0ZUluZm9ib3hTdHlsZSk7XHJcbiAgICB1ci5hY3Rpb24oXCJ1cGRhdGVJbmZvYm94T2JqXCIsIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLnVwZGF0ZUluZm9ib3hPYmosIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLnVwZGF0ZUluZm9ib3hPYmopO1xyXG5cclxuICAgIC8vIHJlZ2lzdGVyIGVhc3kgY3JlYXRpb24gYWN0aW9uc1xyXG4gICAgdXIuYWN0aW9uKFwiY3JlYXRlVGVtcGxhdGVSZWFjdGlvblwiLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5jcmVhdGVUZW1wbGF0ZVJlYWN0aW9uLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5kZWxldGVFbGVzU2ltcGxlKTtcclxuICAgIHVyLmFjdGlvbihcImNyZWF0ZUFjdGl2YXRpb25SZWFjdGlvblwiLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5jcmVhdGVBY3RpdmF0aW9uUmVhY3Rpb24sIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmRlbGV0ZUVsZXNTaW1wbGUpO1xyXG4gICAgdXIuYWN0aW9uKFwiY3JlYXRlTWV0YWJvbGljQ2F0YWx5dGljQWN0aXZpdHlcIiwgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuY3JlYXRlTWV0YWJvbGljQ2F0YWx5dGljQWN0aXZpdHksIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmRlbGV0ZUVsZXNTaW1wbGUpO1xyXG4gICAgdXIuYWN0aW9uKFwiY3JlYXRlTWV0YWJvbGljUmVhY3Rpb25cIiwgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuY3JlYXRlTWV0YWJvbGljUmVhY3Rpb24sIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmRlbGV0ZUVsZXNTaW1wbGUpO1xyXG4gICAgdXIuYWN0aW9uKFwiY3JlYXRlQ29udmVyc2lvblwiLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5jcmVhdGVDb252ZXJzaW9uLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5kZWxldGVFbGVzU2ltcGxlKTtcclxuICAgIHVyLmFjdGlvbihcImNyZWF0ZU11bHRpbWVyaXphdGlvblwiLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5jcmVhdGVNdWx0aW1lcml6YXRpb24sIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmRlbGV0ZUVsZXNTaW1wbGUpO1xyXG4gICAgdXIuYWN0aW9uKFwiY3JlYXRlQ29tcGxleFByb3RlaW5Gb3JtYXRpb25cIiwgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuY3JlYXRlQ29tcGxleFByb3RlaW5Gb3JtYXRpb24sIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmRlbGV0ZUVsZXNTaW1wbGUpO1xyXG4gICAgdXIuYWN0aW9uKFwiY3JlYXRlRGVncmFkYXRpb25cIiwgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuY3JlYXRlRGVncmFkYXRpb24sIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmRlbGV0ZUVsZXNTaW1wbGUpO1xyXG4gICAgdXIuYWN0aW9uKFwiY3JlYXRlVHJhbnNjcmlwdGlvblwiLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5jcmVhdGVUcmFuc2NyaXB0aW9uLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5kZWxldGVFbGVzU2ltcGxlKTtcclxuICAgIHVyLmFjdGlvbihcImNyZWF0ZVRyYW5zbGF0aW9uXCIsIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmNyZWF0ZVRyYW5zbGF0aW9uLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5kZWxldGVFbGVzU2ltcGxlKTtcclxuICAgIHVyLmFjdGlvbihcImNyZWF0ZVRyYW5zY3JpcHRpb25SZWFjdGlvblwiLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5jcmVhdGVUcmFuc2NyaXB0aW9uUmVhY3Rpb24sIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmRlbGV0ZUVsZXNTaW1wbGUpO1xyXG4gICAgdXIuYWN0aW9uKFwiY3JlYXRlVHJhbnNsYXRpb25SZWFjdGlvblwiLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5jcmVhdGVUcmFuc2xhdGlvblJlYWN0aW9uLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5kZWxldGVFbGVzU2ltcGxlKTtcclxuICAgIHVyLmFjdGlvbihcInNldERlZmF1bHRQcm9wZXJ0eVwiLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5zZXREZWZhdWx0UHJvcGVydHksIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLnNldERlZmF1bHRQcm9wZXJ0eSk7XHJcbiAgICB1ci5hY3Rpb24oXCJjb252ZXJ0SW50b1JldmVyc2libGVSZWFjdGlvblwiLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5jb252ZXJ0SW50b1JldmVyc2libGVSZWFjdGlvbiwgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuY29udmVydEludG9SZXZlcnNpYmxlUmVhY3Rpb24pO1xyXG5cclxuICAgIHVyLmFjdGlvbihcIm1vdmVFZGdlXCIsIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLm1vdmVFZGdlLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5tb3ZlRWRnZSk7XHJcbiAgICB1ci5hY3Rpb24oXCJmaXhFcnJvclwiLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5maXhFcnJvcix1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy51bmZpeEVycm9yKTtcclxuICAgIHVyLmFjdGlvbihcImNsb25lSGlnaERlZ3JlZU5vZGVcIiwgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuY2xvbmVIaWdoRGVncmVlTm9kZSx1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy51bkNsb25lSGlnaERlZ3JlZU5vZGUpO1xyXG5cclxuICAgIHVyLmFjdGlvbihcImNoYW5nZU1hcFR5cGVcIiwgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuY2hhbmdlTWFwVHlwZSx1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5jaGFuZ2VNYXBUeXBlKTtcclxuICAgIHVyLmFjdGlvbihcInNldENvbXBvdW5kUGFkZGluZ1wiLCB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5zZXRDb21wb3VuZFBhZGRpbmcsIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLnNldENvbXBvdW5kUGFkZGluZyk7XHJcblxyXG4gIH07XHJcblxyXG4gIHJldHVybiByZWdpc3RlclVuZG9SZWRvQWN0aW9ucztcclxufTtcclxuIl0sIm5hbWVzIjpbImxpYnMiLCJyZXF1aXJlIiwiZ2V0TGlicyIsIiQiLCJqUXVlcnkiLCJtb2R1bGUiLCJleHBvcnRzIiwidW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMiLCJvcHRpb25zIiwiY3kiLCJyZWdpc3RlclVuZG9SZWRvQWN0aW9ucyIsInBhcmFtIiwib3B0aW9uVXRpbGl0aWVzIiwiZ2V0T3B0aW9ucyIsInNiZ252aXpJbnN0YW5jZVV0aWxpdGllcyIsImdldEN5IiwidW5kb2FibGUiLCJ1ciIsInVuZG9SZWRvIiwidW5kb2FibGVEcmFnIiwiYWN0aW9uIiwiYWRkTm9kZSIsImRlbGV0ZUVsZXNTaW1wbGUiLCJyZXN0b3JlRWxlcyIsImFkZEVkZ2UiLCJhZGRQcm9jZXNzV2l0aENvbnZlbmllbnRFZGdlcyIsImRlbGV0ZUVsZXNTbWFydCIsImNyZWF0ZUNvbXBvdW5kRm9yR2l2ZW5Ob2RlcyIsInJlc2l6ZU5vZGVzIiwiY2hhbmdlTm9kZUxhYmVsIiwicmVnZW5lcmF0ZUlkIiwiY2hhbmdlRGF0YSIsInVwZGF0ZVNldEZpZWxkIiwiY2hhbmdlQ3NzIiwiY2hhbmdlQmVuZFBvaW50cyIsImNoYW5nZUZvbnRQcm9wZXJ0aWVzIiwic2hvd0FuZFBlcmZvcm1MYXlvdXQiLCJ1bmRvU2hvd0FuZFBlcmZvcm1MYXlvdXQiLCJoaWRlQW5kUGVyZm9ybUxheW91dCIsInVuZG9IaWRlQW5kUGVyZm9ybUxheW91dCIsImRlbGV0ZUFuZFBlcmZvcm1MYXlvdXQiLCJ1bmRvRGVsZXRlQW5kUGVyZm9ybUxheW91dCIsImFwcGx5U0lGVG9wb2xvZ3lHcm91cGluZyIsImFkZFN0YXRlT3JJbmZvQm94IiwicmVtb3ZlU3RhdGVPckluZm9Cb3giLCJjaGFuZ2VTdGF0ZU9ySW5mb0JveCIsInNldE11bHRpbWVyU3RhdHVzIiwic2V0QWN0aXZlU3RhdHVzIiwic2V0SHlwb3RoZXRpY2FsU3RhdHVzIiwic2V0Q2xvbmVNYXJrZXJTdGF0dXMiLCJmaXRVbml0cyIsInJlc3RvcmVVbml0cyIsImFkZEJhY2tncm91bmRJbWFnZSIsInJlbW92ZUJhY2tncm91bmRJbWFnZSIsInVwZGF0ZUJhY2tncm91bmRJbWFnZSIsImNoYW5nZUJhY2tncm91bmRJbWFnZSIsInVwZGF0ZUluZm9ib3hTdHlsZSIsInVwZGF0ZUluZm9ib3hPYmoiLCJjcmVhdGVUZW1wbGF0ZVJlYWN0aW9uIiwiY3JlYXRlQWN0aXZhdGlvblJlYWN0aW9uIiwiY3JlYXRlTWV0YWJvbGljQ2F0YWx5dGljQWN0aXZpdHkiLCJjcmVhdGVNZXRhYm9saWNSZWFjdGlvbiIsImNyZWF0ZUNvbnZlcnNpb24iLCJjcmVhdGVNdWx0aW1lcml6YXRpb24iLCJjcmVhdGVDb21wbGV4UHJvdGVpbkZvcm1hdGlvbiIsImNyZWF0ZURlZ3JhZGF0aW9uIiwiY3JlYXRlVHJhbnNjcmlwdGlvbiIsImNyZWF0ZVRyYW5zbGF0aW9uIiwiY3JlYXRlVHJhbnNjcmlwdGlvblJlYWN0aW9uIiwiY3JlYXRlVHJhbnNsYXRpb25SZWFjdGlvbiIsInNldERlZmF1bHRQcm9wZXJ0eSIsImNvbnZlcnRJbnRvUmV2ZXJzaWJsZVJlYWN0aW9uIiwibW92ZUVkZ2UiLCJmaXhFcnJvciIsInVuZml4RXJyb3IiLCJjbG9uZUhpZ2hEZWdyZWVOb2RlIiwidW5DbG9uZUhpZ2hEZWdyZWVOb2RlIiwiY2hhbmdlTWFwVHlwZSIsInNldENvbXBvdW5kUGFkZGluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/utilities/register-undo-redo-actions-factory.js\n");

/***/ }),

/***/ "./src/utilities/sbgnviz-instance-utilities-factory.js":
/*!*************************************************************!*\
  !*** ./src/utilities/sbgnviz-instance-utilities-factory.js ***!
  \*************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var libs = (__webpack_require__(/*! ./lib-utilities */ \"./src/utilities/lib-utilities.js\").getLibs)();\nmodule.exports = function () {\n  var instance;\n  function sbgnvizInstanceUtilities(options) {\n    instance = libs.sbgnviz(options);\n    return instance;\n  }\n  sbgnvizInstanceUtilities.getInstance = function () {\n    return instance;\n  };\n  sbgnvizInstanceUtilities.getCy = function () {\n    return this.getInstance().getCy();\n  };\n  return sbgnvizInstanceUtilities;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbGl0aWVzL3NiZ252aXotaW5zdGFuY2UtdXRpbGl0aWVzLWZhY3RvcnkuanMiLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsSUFBSSxHQUFHQyx3RkFBa0MsQ0FBQyxDQUFDO0FBRS9DRSxNQUFNLENBQUNDLE9BQU8sR0FBRyxZQUFZO0VBRTNCLElBQUlDLFFBQVE7RUFFWixTQUFTQyx3QkFBd0JBLENBQUVDLE9BQU8sRUFBRTtJQUUxQ0YsUUFBUSxHQUFHTCxJQUFJLENBQUNRLE9BQU8sQ0FBQ0QsT0FBTyxDQUFDO0lBRWhDLE9BQU9GLFFBQVE7RUFDakI7RUFFQUMsd0JBQXdCLENBQUNHLFdBQVcsR0FBRyxZQUFZO0lBQ2pELE9BQU9KLFFBQVE7RUFDakIsQ0FBQztFQUVEQyx3QkFBd0IsQ0FBQ0ksS0FBSyxHQUFHLFlBQVk7SUFDM0MsT0FBTyxJQUFJLENBQUNELFdBQVcsQ0FBQyxDQUFDLENBQUNDLEtBQUssQ0FBQyxDQUFDO0VBQ25DLENBQUM7RUFFRCxPQUFPSix3QkFBd0I7QUFDakMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NoaXNlLy4vc3JjL3V0aWxpdGllcy9zYmdudml6LWluc3RhbmNlLXV0aWxpdGllcy1mYWN0b3J5LmpzPzMzYzgiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGxpYnMgPSByZXF1aXJlKCcuL2xpYi11dGlsaXRpZXMnKS5nZXRMaWJzKCk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgdmFyIGluc3RhbmNlO1xyXG5cclxuICBmdW5jdGlvbiBzYmdudml6SW5zdGFuY2VVdGlsaXRpZXMgKG9wdGlvbnMpIHtcclxuXHJcbiAgICBpbnN0YW5jZSA9IGxpYnMuc2JnbnZpeihvcHRpb25zKTtcclxuXHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgfVxyXG5cclxuICBzYmdudml6SW5zdGFuY2VVdGlsaXRpZXMuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgfVxyXG5cclxuICBzYmdudml6SW5zdGFuY2VVdGlsaXRpZXMuZ2V0Q3kgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5nZXRJbnN0YW5jZSgpLmdldEN5KCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gc2JnbnZpekluc3RhbmNlVXRpbGl0aWVzO1xyXG59O1xyXG4iXSwibmFtZXMiOlsibGlicyIsInJlcXVpcmUiLCJnZXRMaWJzIiwibW9kdWxlIiwiZXhwb3J0cyIsImluc3RhbmNlIiwic2JnbnZpekluc3RhbmNlVXRpbGl0aWVzIiwib3B0aW9ucyIsInNiZ252aXoiLCJnZXRJbnN0YW5jZSIsImdldEN5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/utilities/sbgnviz-instance-utilities-factory.js\n");

/***/ }),

/***/ "./src/utilities/topology-grouping-factory.js":
/*!****************************************************!*\
  !*** ./src/utilities/topology-grouping-factory.js ***!
  \****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var isEqual = __webpack_require__(/*! lodash.isequal */ \"./node_modules/lodash.isequal/index.js\");\nmodule.exports = function () {\n  var cy, elementUtilities;\n  var groupCompoundType, metaEdgeIdentifier, lockGraphTopology, shouldApply;\n  var DEFAULT_GROUP_COMPOUND_TYPE = 'topology group';\n  var EDGE_STYLE_NAMES = ['line-color', 'width'];\n  function topologyGrouping(param, props) {\n    cy = param.sbgnvizInstanceUtilities.getCy();\n    elementUtilities = param.elementUtilities;\n    groupCompoundType = props.groupCompoundType || DEFAULT_GROUP_COMPOUND_TYPE;\n    metaEdgeIdentifier = props.metaEdgeIdentifier;\n    lockGraphTopology = props.lockGraphTopology;\n    shouldApply = props.shouldApply || true;\n    topologyGrouping.applied = false;\n    initMetaStyleMap();\n  }\n  topologyGrouping.apply = function () {\n    if (topologyGrouping.applied || !evalOpt(shouldApply)) {\n      return;\n    }\n    var list = cy.nodes().map(function (node) {\n      return [node];\n    });\n\n    // determine node groups by their topology\n    var groups = getNodeGroups(list);\n\n    // apply grouping in cy level\n    var metaEdges = topologyGrouping.getMetaEdges();\n    var compounds = topologyGrouping.getGroupCompounds();\n    applyGrouping(groups, metaEdges, compounds);\n    topologyGrouping.applied = true;\n    if (lockGraphTopology) {\n      elementUtilities.lockGraphTopology();\n    }\n    return groups;\n  };\n  topologyGrouping.unapply = function () {\n    if (!topologyGrouping.applied) {\n      return;\n    }\n    var metaEdges = topologyGrouping.getMetaEdges();\n    metaEdges.forEach(function (edge) {\n      var toRestore = edge.data('tg-to-restore');\n      edge.remove();\n      toRestore.restore();\n      EDGE_STYLE_NAMES.forEach(function (name) {\n        var oldVal = topologyGrouping.metaStyleMap[name][edge.id()];\n        var newVal = edge.data(name);\n        if (oldVal !== newVal) {\n          toRestore.data(name, newVal);\n        }\n      });\n    });\n    initMetaStyleMap();\n    var parents = topologyGrouping.getGroupCompounds();\n    elementUtilities.changeParent(parents.children(), null);\n    parents.remove();\n    topologyGrouping.applied = false;\n    if (lockGraphTopology) {\n      elementUtilities.unlockGraphTopology();\n    }\n  };\n  topologyGrouping.getMetaEdges = function () {\n    var metaEdges = cy.edges('[' + metaEdgeIdentifier + ']');\n    return metaEdges;\n  };\n  topologyGrouping.getGroupCompounds = function () {\n    var className = groupCompoundType;\n    return cy.nodes('[class=\"' + className + '\"]');\n  };\n  topologyGrouping.clearAppliedFlag = function () {\n    topologyGrouping.applied = false;\n  };\n  topologyGrouping.setAppliedFlag = function (applied) {\n    topologyGrouping.applied = applied;\n  };\n  topologyGrouping.toggleAppliedFlag = function () {\n    topologyGrouping.applied = !topologyGrouping.applied;\n  };\n  function initMetaStyleMap() {\n    topologyGrouping.metaStyleMap = {};\n    EDGE_STYLE_NAMES.forEach(function (name) {\n      topologyGrouping.metaStyleMap[name] = {};\n    });\n  }\n  function evalOpt(opt) {\n    if (typeof opt === 'function') {\n      return opt();\n    }\n    return opt;\n  }\n  function getNodeGroups(list) {\n    if (list.length <= 1) {\n      return list;\n    }\n    var halves = getHalves(list);\n    var firstPart = getNodeGroups(halves[0]);\n    var secondPart = getNodeGroups(halves[1]);\n    // merge the halves\n    var groups = mergeGroups(firstPart, secondPart);\n    return groups;\n  }\n  function getParentOrSelf(node) {\n    var parent = node.parent();\n    return parent.size() > 0 ? parent : node;\n  }\n  function calcGroupingKey(edge) {\n    var srcId = getParentOrSelf(edge.source()).id();\n    var tgtId = getParentOrSelf(edge.target()).id();\n    var edgeType = getEdgeType(edge);\n    return [edgeType, srcId, tgtId].join('-');\n  }\n  function addToMapChain(map, key, val) {\n    if (!map[key]) {\n      map[key] = cy.collection();\n    }\n    map[key] = map[key].add(val);\n  }\n  function applyGrouping(groups, metaEdges, groupCompounds) {\n    var compounds;\n    if (groupCompounds.length > 0) {\n      compounds = groupCompounds;\n    } else {\n      groups.forEach(function (group) {\n        createGroupCompound(group);\n      });\n      compounds = topologyGrouping.getGroupCompounds();\n    }\n    var childrenEdges = compounds.children().connectedEdges();\n    var edgesMap = [];\n    childrenEdges.forEach(function (edge) {\n      var key = calcGroupingKey(edge);\n      addToMapChain(edgesMap, key, edge);\n      edge.remove();\n    });\n    if (metaEdges.length > 0) {\n      Object.keys(edgesMap).forEach(function (key) {\n        var edges = edgesMap[key];\n        var temp = edges[0];\n        var metaEdge = metaEdges.filter(function (edge) {\n          return edge.source().id() === getParentOrSelf(temp.source()).id() && edge.target().id() === getParentOrSelf(temp.target()).id();\n        })[0];\n        metaEdge.data('tg-to-restore', edges);\n        edges.remove();\n      });\n    } else {\n      Object.keys(edgesMap).forEach(function (key) {\n        createMetaEdgeFor(edgesMap[key]);\n      });\n    }\n  }\n  function createGroupCompound(group) {\n    if (group.length < 2) {\n      return;\n    }\n    var collection = cy.collection();\n    group.forEach(function (node) {\n      collection = collection.add(node);\n    });\n    elementUtilities.createCompoundForGivenNodes(collection, groupCompoundType);\n  }\n  function createMetaEdgeFor(edges) {\n    var srcId = getParentOrSelf(edges.source()).id();\n    var tgtId = getParentOrSelf(edges.target()).id();\n    var type = edges.data('class');\n    cy.remove(edges);\n    var metaEdge = elementUtilities.addEdge(srcId, tgtId, type);\n    metaEdge.data('tg-to-restore', edges);\n    metaEdge.data(metaEdgeIdentifier, true);\n    EDGE_STYLE_NAMES.forEach(function (styleName) {\n      edges.forEach(function (edge) {\n        topologyGrouping.metaStyleMap[styleName][edge.id()] = edge.data(styleName);\n      });\n      var commonVal = elementUtilities.getCommonProperty(edges, styleName, 'data');\n      if (commonVal) {\n        metaEdge.data(styleName, commonVal);\n      }\n    });\n    return metaEdge;\n  }\n  function mergeGroups(groups1, groups2) {\n    // notMergedGrs will include members of groups1 that are not merged\n    // mergedGrs will include the merged members from 2 groups\n    var notMergedGrs = [],\n      mergedGrs = [];\n    groups1.forEach(function (gr1) {\n      var merged = false;\n      mergedGrs.concat(groups2).forEach(function (gr2, index2) {\n        // if groups should be merged merge them, remove gr2 from where it\n        // comes from and push the merge result to mergedGrs\n        if (shouldMerge(gr1, gr2)) {\n          var mergedGr = gr1.concat(gr2);\n          if (index2 >= mergedGrs.length) {\n            removeAt(groups2, index2 - mergedGrs.length);\n          } else {\n            removeAt(mergedGrs, index2);\n          }\n\n          // mark as merged and break the loop\n          mergedGrs.push(mergedGr);\n          merged = true;\n          return;\n        }\n      });\n\n      // if gr1 is not merged push it to notMergedGrs\n      if (!merged) {\n        notMergedGrs.push(gr1);\n      }\n    });\n\n    // the groups that comes from groups2 but not merged are still included\n    // in groups2 add them to the result together with mergedGrs and notMergedGrs\n    return notMergedGrs.concat(mergedGrs, groups2);\n  }\n  function shouldMerge(group1, group2) {\n    // using first elements is enough to decide whether to merge\n    var node1 = group1[0];\n    var node2 = group2[0];\n    if (node1.edges().length !== node2.edges().length) {\n      return false;\n    }\n    var getUndirectedEdges = function getUndirectedEdges(node) {\n      var edges = node.connectedEdges().filter(isUndirectedEdge);\n      return edges;\n    };\n    // undirected edges of node1 and node2 respectively\n    var undir1 = getUndirectedEdges(node1);\n    var undir2 = getUndirectedEdges(node2);\n    var in1 = node1.incomers().edges().not(undir1);\n    var in2 = node2.incomers().edges().not(undir2);\n    var out1 = node1.outgoers().edges().not(undir1);\n    var out2 = node2.outgoers().edges().not(undir2);\n    return compareEdgeGroup(in1, in2, node1, node2) && compareEdgeGroup(out1, out2, node1, node2) && compareEdgeGroup(undir1, undir2, node1, node2);\n  }\n\n  // decide if 2 edge groups contains set of edges with similar content (type,\n  // source,target) relative to their nodes where gr1 are edges of node1 and gr2 are edges of\n  // node2\n  function compareEdgeGroup(gr1, gr2, node1, node2) {\n    var id1 = node1.id();\n    var id2 = node2.id();\n    var map1 = fillIdToTypeSetMap(gr1, node1);\n    var map2 = fillIdToTypeSetMap(gr2, node2);\n    if (Object.keys(map1).length !== Object.keys(map2).length) {\n      return;\n    }\n    var failed = false;\n    Object.keys(map1).forEach(function (key) {\n      // if already failed just return\n      if (failed) {\n        return;\n      }\n\n      // if key is id2 use id1 instead because comparison is relative to nodes\n      var otherKey = key == id2 ? id1 : key;\n\n      // check if the sets have the same content\n      // if check fails return false\n      if (!isEqual(map1[key], map2[otherKey])) {\n        failed = true;\n      }\n    });\n\n    // if check passes for each key return true\n    return !failed;\n  }\n  function fillIdToTypeSetMap(edgeGroup, node) {\n    var map = {};\n    var nodeId = node.id();\n    edgeGroup.forEach(function (edge) {\n      var srcId = edge.data('source');\n      var tgtId = edge.data('target');\n      var edgeId = edge.id();\n      var otherEnd = nodeId === tgtId ? srcId : tgtId;\n      function addToRelatedSet(sideStr, value) {\n        if (!map[sideStr]) {\n          map[sideStr] = new Set();\n        }\n        map[sideStr].add(value);\n      }\n      var edgeType = getEdgeType(edge);\n      addToRelatedSet(otherEnd, edgeType);\n    });\n    return map;\n  }\n  function getEdgeType(edge) {\n    return edge.data('class');\n  }\n  function isUndirectedEdge(edge) {\n    return elementUtilities.isUndirectedEdge(edge);\n  }\n\n  // get halves of a list. It is assumed that list size is at least 2.\n  function getHalves(list) {\n    var s = list.length;\n    var halfIndex = Math.floor(s / 2);\n    var firstHalf = list.slice(0, halfIndex);\n    var secondHalf = list.slice(halfIndex, s);\n    return [firstHalf, secondHalf];\n  }\n  function removeAt(arr, index) {\n    arr.splice(index, 1);\n  }\n  return topologyGrouping;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbGl0aWVzL3RvcG9sb2d5LWdyb3VwaW5nLWZhY3RvcnkuanMiLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsT0FBTyxHQUFHQyxtQkFBTyxDQUFDLDhEQUFnQixDQUFDO0FBRXZDQyxNQUFNLENBQUNDLE9BQU8sR0FBRyxZQUFXO0VBRTFCLElBQUlDLEVBQUUsRUFBRUMsZ0JBQWdCO0VBQ3hCLElBQUlDLGlCQUFpQixFQUFFQyxrQkFBa0IsRUFBRUMsaUJBQWlCLEVBQUVDLFdBQVc7RUFFekUsSUFBSUMsMkJBQTJCLEdBQUcsZ0JBQWdCO0VBQ2xELElBQUlDLGdCQUFnQixHQUFHLENBQUUsWUFBWSxFQUFFLE9BQU8sQ0FBRTtFQUVoRCxTQUFTQyxnQkFBZ0JBLENBQUVDLEtBQUssRUFBRUMsS0FBSyxFQUFHO0lBQ3hDVixFQUFFLEdBQUdTLEtBQUssQ0FBQ0Usd0JBQXdCLENBQUNDLEtBQUssQ0FBQyxDQUFDO0lBQzNDWCxnQkFBZ0IsR0FBR1EsS0FBSyxDQUFDUixnQkFBZ0I7SUFFekNDLGlCQUFpQixHQUFHUSxLQUFLLENBQUNSLGlCQUFpQixJQUFJSSwyQkFBMkI7SUFDMUVILGtCQUFrQixHQUFHTyxLQUFLLENBQUNQLGtCQUFrQjtJQUM3Q0MsaUJBQWlCLEdBQUdNLEtBQUssQ0FBQ04saUJBQWlCO0lBQzNDQyxXQUFXLEdBQUdLLEtBQUssQ0FBQ0wsV0FBVyxJQUFJLElBQUk7SUFFdkNHLGdCQUFnQixDQUFDSyxPQUFPLEdBQUcsS0FBSztJQUNoQ0MsZ0JBQWdCLENBQUMsQ0FBQztFQUNwQjtFQUVBTixnQkFBZ0IsQ0FBQ08sS0FBSyxHQUFHLFlBQVc7SUFDbEMsSUFBS1AsZ0JBQWdCLENBQUNLLE9BQU8sSUFBSSxDQUFDRyxPQUFPLENBQUVYLFdBQVksQ0FBQyxFQUFHO01BQ3pEO0lBQ0Y7SUFFQSxJQUFJWSxJQUFJLEdBQUdqQixFQUFFLENBQUNrQixLQUFLLENBQUMsQ0FBQyxDQUFDQyxHQUFHLENBQUUsVUFBVUMsSUFBSSxFQUFHO01BQzFD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QUFTLEVBQUVELENBQUUsQ0FBQztJQUUzQyxPQUFPLENBQUVJLFNBQVMsRUFBRUUsVUFBVSxDQUFFO0VBQ2xDO0VBRUEsU0FBU3ZDLFFBQVFBLENBQUV3QyxHQUFHLEVBQUVDLEtBQUssRUFBRztJQUM5QkQsR0FBRyxDQUFDRSxNQUFNLENBQUVELEtBQUssRUFBRSxDQUFFLENBQUM7RUFDeEI7RUFFQSxPQUFPdEksZ0JBQWdCO0FBQ3pCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGlzZS8uL3NyYy91dGlsaXRpZXMvdG9wb2xvZ3ktZ3JvdXBpbmctZmFjdG9yeS5qcz85YzEyIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBpc0VxdWFsID0gcmVxdWlyZSgnbG9kYXNoLmlzZXF1YWwnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gIHZhciBjeSwgZWxlbWVudFV0aWxpdGllcztcclxuICB2YXIgZ3JvdXBDb21wb3VuZFR5cGUsIG1ldGFFZGdlSWRlbnRpZmllciwgbG9ja0dyYXBoVG9wb2xvZ3ksIHNob3VsZEFwcGx5O1xyXG5cclxuICB2YXIgREVGQVVMVF9HUk9VUF9DT01QT1VORF9UWVBFID0gJ3RvcG9sb2d5IGdyb3VwJztcclxuICB2YXIgRURHRV9TVFlMRV9OQU1FUyA9IFsgJ2xpbmUtY29sb3InLCAnd2lkdGgnIF07XHJcblxyXG4gIGZ1bmN0aW9uIHRvcG9sb2d5R3JvdXBpbmcoIHBhcmFtLCBwcm9wcyApIHtcclxuICAgIGN5ID0gcGFyYW0uc2JnbnZpekluc3RhbmNlVXRpbGl0aWVzLmdldEN5KClcclxuICAgIGVsZW1lbnRVdGlsaXRpZXMgPSBwYXJhbS5lbGVtZW50VXRpbGl0aWVzO1xyXG5cclxuICAgIGdyb3VwQ29tcG91bmRUeXBlID0gcHJvcHMuZ3JvdXBDb21wb3VuZFR5cGUgfHwgREVGQVVMVF9HUk9VUF9DT01QT1VORF9UWVBFO1xyXG4gICAgbWV0YUVkZ2VJZGVudGlmaWVyID0gcHJvcHMubWV0YUVkZ2VJZGVudGlmaWVyO1xyXG4gICAgbG9ja0dyYXBoVG9wb2xvZ3kgPSBwcm9wcy5sb2NrR3JhcGhUb3BvbG9neTtcclxuICAgIHNob3VsZEFwcGx5ID0gcHJvcHMuc2hvdWxkQXBwbHkgfHwgdHJ1ZTtcclxuXHJcbiAgICB0b3BvbG9neUdyb3VwaW5nLmFwcGxpZWQgPSBmYWxzZTtcclxuICAgIGluaXRNZXRhU3R5bGVNYXAoKTtcclxuICB9XHJcblxyXG4gIHRvcG9sb2d5R3JvdXBpbmcuYXBwbHkgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmICggdG9wb2xvZ3lHcm91cGluZy5hcHBsaWVkIHx8ICFldmFsT3B0KCBzaG91bGRBcHBseSApICkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGxpc3QgPSBjeS5ub2RlcygpLm1hcCggZnVuY3Rpb24oIG5vZGUgKSB7XHJcbiAgICAgIHJldHVybiBbIG5vZGUgXTtcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBkZXRlcm1pbmUgbm9kZSBncm91cHMgYnkgdGhlaXIgdG9wb2xvZ3lcclxuICAgIHZhciBncm91cHMgPSBnZXROb2RlR3JvdXBzKCBsaXN0ICk7XHJcbiAgICBcclxuICAgIC8vIGFwcGx5IGdyb3VwaW5nIGluIGN5IGxldmVsXHJcbiAgICB2YXIgbWV0YUVkZ2VzID0gdG9wb2xvZ3lHcm91cGluZy5nZXRNZXRhRWRnZXMoKTtcclxuICAgIHZhciBjb21wb3VuZHMgPSB0b3BvbG9neUdyb3VwaW5nLmdldEdyb3VwQ29tcG91bmRzKCk7XHJcbiAgXHRhcHBseUdyb3VwaW5nKGdyb3VwcywgbWV0YUVkZ2VzLCBjb21wb3VuZHMpO1xyXG5cclxuICAgIHRvcG9sb2d5R3JvdXBpbmcuYXBwbGllZCA9IHRydWU7XHJcblxyXG4gICAgaWYgKCBsb2NrR3JhcGhUb3BvbG9neSApIHtcclxuICAgICAgZWxlbWVudFV0aWxpdGllcy5sb2NrR3JhcGhUb3BvbG9neSgpO1xyXG4gICAgfVxyXG5cclxuICBcdHJldHVybiBncm91cHM7XHJcbiAgfTtcclxuXHJcbiAgdG9wb2xvZ3lHcm91cGluZy51bmFwcGx5ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoICF0b3BvbG9neUdyb3VwaW5nLmFwcGxpZWQgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgbWV0YUVkZ2VzID0gdG9wb2xvZ3lHcm91cGluZy5nZXRNZXRhRWRnZXMoKTtcclxuICAgIG1ldGFFZGdlcy5mb3JFYWNoKCBmdW5jdGlvbiggZWRnZSApIHtcclxuICAgICAgdmFyIHRvUmVzdG9yZSA9IGVkZ2UuZGF0YSgndGctdG8tcmVzdG9yZScpO1xyXG4gICAgICBlZGdlLnJlbW92ZSgpO1xyXG4gICAgICB0b1Jlc3RvcmUucmVzdG9yZSgpO1xyXG5cclxuICAgICAgRURHRV9TVFlMRV9OQU1FUy5mb3JFYWNoKCBmdW5jdGlvbiggbmFtZSApIHtcclxuICAgICAgICB2YXIgb2xkVmFsID0gdG9wb2xvZ3lHcm91cGluZy5tZXRhU3R5bGVNYXBbIG5hbWUgXVsgZWRnZS5pZCgpIF07XHJcbiAgICAgICAgdmFyIG5ld1ZhbCA9IGVkZ2UuZGF0YSggbmFtZSApO1xyXG5cclxuICAgICAgICBpZiAoIG9sZFZhbCAhPT0gbmV3VmFsICkge1xyXG4gICAgICAgICAgdG9SZXN0b3JlLmRhdGEoIG5hbWUsIG5ld1ZhbCApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSApO1xyXG4gICAgfSApO1xyXG5cclxuICAgIGluaXRNZXRhU3R5bGVNYXAoKTtcclxuXHJcbiAgICB2YXIgcGFyZW50cyA9IHRvcG9sb2d5R3JvdXBpbmcuZ2V0R3JvdXBDb21wb3VuZHMoKTtcclxuICAgIGVsZW1lbnRVdGlsaXRpZXMuY2hhbmdlUGFyZW50KCBwYXJlbnRzLmNoaWxkcmVuKCksIG51bGwgKTtcclxuICAgIHBhcmVudHMucmVtb3ZlKCk7XHJcblxyXG4gICAgdG9wb2xvZ3lHcm91cGluZy5hcHBsaWVkID0gZmFsc2U7XHJcblxyXG4gICAgaWYgKCBsb2NrR3JhcGhUb3BvbG9neSApIHtcclxuICAgICAgZWxlbWVudFV0aWxpdGllcy51bmxvY2tHcmFwaFRvcG9sb2d5KCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdG9wb2xvZ3lHcm91cGluZy5nZXRNZXRhRWRnZXMgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBtZXRhRWRnZXMgPSBjeS5lZGdlcygnWycgKyBtZXRhRWRnZUlkZW50aWZpZXIgKyAnXScpO1xyXG4gICAgcmV0dXJuIG1ldGFFZGdlcztcclxuICB9O1xyXG5cclxuICB0b3BvbG9neUdyb3VwaW5nLmdldEdyb3VwQ29tcG91bmRzID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgY2xhc3NOYW1lID0gZ3JvdXBDb21wb3VuZFR5cGU7XHJcbiAgICByZXR1cm4gY3kubm9kZXMoJ1tjbGFzcz1cIicgKyBjbGFzc05hbWUgKyAnXCJdJyk7XHJcbiAgfTtcclxuXHJcbiAgdG9wb2xvZ3lHcm91cGluZy5jbGVhckFwcGxpZWRGbGFnID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0b3BvbG9neUdyb3VwaW5nLmFwcGxpZWQgPSBmYWxzZTtcclxuICB9O1xyXG5cclxuICB0b3BvbG9neUdyb3VwaW5nLnNldEFwcGxpZWRGbGFnID0gZnVuY3Rpb24oYXBwbGllZCkge1xyXG4gICAgdG9wb2xvZ3lHcm91cGluZy5hcHBsaWVkID0gYXBwbGllZDtcclxuICB9O1xyXG5cclxuICB0b3BvbG9neUdyb3VwaW5nLnRvZ2dsZUFwcGxpZWRGbGFnID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0b3BvbG9neUdyb3VwaW5nLmFwcGxpZWQgPSAhdG9wb2xvZ3lHcm91cGluZy5hcHBsaWVkO1xyXG4gIH07XHJcblxyXG4gIGZ1bmN0aW9uIGluaXRNZXRhU3R5bGVNYXAoKSB7XHJcbiAgICB0b3BvbG9neUdyb3VwaW5nLm1ldGFTdHlsZU1hcCA9IHt9O1xyXG4gICAgRURHRV9TVFlMRV9OQU1FUy5mb3JFYWNoKCBmdW5jdGlvbiggbmFtZSApIHtcclxuICAgICAgdG9wb2xvZ3lHcm91cGluZy5tZXRhU3R5bGVNYXBbIG5hbWUgXSA9IHt9O1xyXG4gICAgfSApO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZXZhbE9wdCggb3B0ICkge1xyXG4gICAgaWYgKCB0eXBlb2Ygb3B0ID09PSAnZnVuY3Rpb24nICkge1xyXG4gICAgICByZXR1cm4gb3B0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG9wdDtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldE5vZGVHcm91cHMoIGxpc3QgKSB7XHJcbiAgICBpZiAoIGxpc3QubGVuZ3RoIDw9IDEgKSB7XHJcbiAgICAgIHJldHVybiBsaXN0O1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBoYWx2ZXMgPSBnZXRIYWx2ZXMoIGxpc3QgKTtcclxuICAgIHZhciBmaXJzdFBhcnQgPSBnZXROb2RlR3JvdXBzKCBoYWx2ZXNbIDAgXSApO1xyXG4gICAgdmFyIHNlY29uZFBhcnQgPSBnZXROb2RlR3JvdXBzKCBoYWx2ZXNbIDEgXSApO1xyXG4gICAgLy8gbWVyZ2UgdGhlIGhhbHZlc1xyXG5cdCAgdmFyIGdyb3VwcyA9IG1lcmdlR3JvdXBzKCBmaXJzdFBhcnQsIHNlY29uZFBhcnQgKTtcclxuXHJcbiAgICByZXR1cm4gZ3JvdXBzO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2V0UGFyZW50T3JTZWxmKCBub2RlICkge1xyXG4gICAgdmFyIHBhcmVudCA9IG5vZGUucGFyZW50KCk7XHJcbiAgICByZXR1cm4gcGFyZW50LnNpemUoKSA+IDAgPyBwYXJlbnQgOiBub2RlO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY2FsY0dyb3VwaW5nS2V5KCBlZGdlICkge1xyXG4gICAgdmFyIHNyY0lkID0gZ2V0UGFyZW50T3JTZWxmKCBlZGdlLnNvdXJjZSgpICkuaWQoKTtcclxuICAgIHZhciB0Z3RJZCA9IGdldFBhcmVudE9yU2VsZiggZWRnZS50YXJnZXQoKSApLmlkKCk7XHJcbiAgICB2YXIgZWRnZVR5cGUgPSBnZXRFZGdlVHlwZSggZWRnZSApO1xyXG5cclxuICAgIHJldHVybiBbIGVkZ2VUeXBlLCBzcmNJZCwgdGd0SWQgXS5qb2luKCAnLScgKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGFkZFRvTWFwQ2hhaW4oIG1hcCwga2V5LCB2YWwgKSB7XHJcbiAgICBpZiAoICFtYXBbIGtleSBdICkge1xyXG4gICAgICBtYXBbIGtleSBdID0gY3kuY29sbGVjdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIG1hcFsga2V5IF0gPSBtYXBbIGtleSBdLmFkZCggdmFsICk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBhcHBseUdyb3VwaW5nKGdyb3VwcywgbWV0YUVkZ2VzLCBncm91cENvbXBvdW5kcykge1xyXG4gICAgdmFyIGNvbXBvdW5kcztcclxuXHJcbiAgICBpZiAoZ3JvdXBDb21wb3VuZHMubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb21wb3VuZHMgPSBncm91cENvbXBvdW5kcztcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBncm91cHMuZm9yRWFjaCggZnVuY3Rpb24oIGdyb3VwICkge1xyXG4gICAgICAgIGNyZWF0ZUdyb3VwQ29tcG91bmQoIGdyb3VwICk7XHJcbiAgICAgIH0gKTtcclxuICBcclxuICAgICAgY29tcG91bmRzID0gdG9wb2xvZ3lHcm91cGluZy5nZXRHcm91cENvbXBvdW5kcygpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBjaGlsZHJlbkVkZ2VzID0gY29tcG91bmRzLmNoaWxkcmVuKCkuY29ubmVjdGVkRWRnZXMoKTtcclxuICAgIHZhciBlZGdlc01hcCA9IFtdO1xyXG5cclxuICAgIGNoaWxkcmVuRWRnZXMuZm9yRWFjaCggZnVuY3Rpb24oIGVkZ2UgKXtcclxuICAgICAgdmFyIGtleSA9IGNhbGNHcm91cGluZ0tleSggZWRnZSApO1xyXG4gICAgICBhZGRUb01hcENoYWluKCBlZGdlc01hcCwga2V5LCBlZGdlICk7XHJcbiAgICAgIGVkZ2UucmVtb3ZlKCk7XHJcbiAgICB9ICk7XHJcblxyXG4gICAgaWYgKG1ldGFFZGdlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIE9iamVjdC5rZXlzKCBlZGdlc01hcCApLmZvckVhY2goIGZ1bmN0aW9uKCBrZXkgKSB7XHJcbiAgICAgICAgdmFyIGVkZ2VzID0gZWRnZXNNYXBba2V5XTtcclxuICAgICAgICB2YXIgdGVtcCA9IGVkZ2VzWzBdO1xyXG4gICAgICAgIHZhciBtZXRhRWRnZSA9IG1ldGFFZGdlcy5maWx0ZXIoZWRnZSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gZWRnZS5zb3VyY2UoKS5pZCgpID09PSBnZXRQYXJlbnRPclNlbGYoIHRlbXAuc291cmNlKCkgKS5pZCgpICYmXHJcbiAgICAgICAgICAgICAgICAgIGVkZ2UudGFyZ2V0KCkuaWQoKSA9PT0gZ2V0UGFyZW50T3JTZWxmKCB0ZW1wLnRhcmdldCgpICkuaWQoKTtcclxuICAgICAgICB9KVswXTtcclxuICAgICAgICBtZXRhRWRnZS5kYXRhKCAndGctdG8tcmVzdG9yZScsIGVkZ2VzICk7XHJcbiAgICAgICAgZWRnZXMucmVtb3ZlKCk7XHJcbiAgICAgIH0gKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBPYmplY3Qua2V5cyggZWRnZXNNYXAgKS5mb3JFYWNoKCBmdW5jdGlvbigga2V5ICkge1xyXG4gICAgICAgIGNyZWF0ZU1ldGFFZGdlRm9yKCBlZGdlc01hcFsga2V5IF0gKTtcclxuICAgICAgfSApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY3JlYXRlR3JvdXBDb21wb3VuZCggZ3JvdXAgKSB7XHJcbiAgICBpZiAoIGdyb3VwLmxlbmd0aCA8IDIgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgY29sbGVjdGlvbiA9IGN5LmNvbGxlY3Rpb24oKTtcclxuXHJcbiAgICBncm91cC5mb3JFYWNoKCBmdW5jdGlvbiggbm9kZSApIHtcclxuICAgICAgY29sbGVjdGlvbiA9IGNvbGxlY3Rpb24uYWRkKCBub2RlICk7XHJcbiAgICB9ICk7XHJcblxyXG4gICAgZWxlbWVudFV0aWxpdGllcy5jcmVhdGVDb21wb3VuZEZvckdpdmVuTm9kZXMoIGNvbGxlY3Rpb24sIGdyb3VwQ29tcG91bmRUeXBlICk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVNZXRhRWRnZUZvciggZWRnZXMgKSB7XHJcbiAgICB2YXIgc3JjSWQgPSBnZXRQYXJlbnRPclNlbGYoIGVkZ2VzLnNvdXJjZSgpICkuaWQoKTtcclxuICAgIHZhciB0Z3RJZCA9IGdldFBhcmVudE9yU2VsZiggZWRnZXMudGFyZ2V0KCkgKS5pZCgpO1xyXG4gICAgdmFyIHR5cGUgPSBlZGdlcy5kYXRhKCAnY2xhc3MnICk7XHJcbiAgICBjeS5yZW1vdmUoIGVkZ2VzICk7XHJcblxyXG4gICAgdmFyIG1ldGFFZGdlID0gZWxlbWVudFV0aWxpdGllcy5hZGRFZGdlKCBzcmNJZCwgdGd0SWQsIHR5cGUgKTtcclxuICAgIG1ldGFFZGdlLmRhdGEoICd0Zy10by1yZXN0b3JlJywgZWRnZXMgKTtcclxuICAgIG1ldGFFZGdlLmRhdGEoIG1ldGFFZGdlSWRlbnRpZmllciwgdHJ1ZSApO1xyXG5cclxuICAgIEVER0VfU1RZTEVfTkFNRVMuZm9yRWFjaCggZnVuY3Rpb24oIHN0eWxlTmFtZSApIHtcclxuICAgICAgZWRnZXMuZm9yRWFjaCggZnVuY3Rpb24oIGVkZ2UgKSB7XHJcbiAgICAgICAgdG9wb2xvZ3lHcm91cGluZy5tZXRhU3R5bGVNYXBbIHN0eWxlTmFtZSBdWyBlZGdlLmlkKCkgXSA9IGVkZ2UuZGF0YSggc3R5bGVOYW1lICk7XHJcbiAgICAgIH0gKTtcclxuXHJcbiAgICAgIHZhciBjb21tb25WYWwgPSBlbGVtZW50VXRpbGl0aWVzLmdldENvbW1vblByb3BlcnR5KGVkZ2VzLCBzdHlsZU5hbWUsICdkYXRhJyk7XHJcbiAgICAgIGlmICggY29tbW9uVmFsICkge1xyXG4gICAgICAgIG1ldGFFZGdlLmRhdGEoIHN0eWxlTmFtZSwgY29tbW9uVmFsICk7XHJcbiAgICAgIH1cclxuICAgIH0gKTtcclxuXHJcbiAgICByZXR1cm4gbWV0YUVkZ2U7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBtZXJnZUdyb3VwcyggZ3JvdXBzMSwgZ3JvdXBzMiApIHtcclxuICAgIC8vIG5vdE1lcmdlZEdycyB3aWxsIGluY2x1ZGUgbWVtYmVycyBvZiBncm91cHMxIHRoYXQgYXJlIG5vdCBtZXJnZWRcclxuICBcdC8vIG1lcmdlZEdycyB3aWxsIGluY2x1ZGUgdGhlIG1lcmdlZCBtZW1iZXJzIGZyb20gMiBncm91cHNcclxuICBcdHZhciBub3RNZXJnZWRHcnMgPSBbXSwgbWVyZ2VkR3JzID0gW107XHJcblxyXG4gICAgZ3JvdXBzMS5mb3JFYWNoKCBmdW5jdGlvbiggZ3IxICkge1xyXG4gICAgICB2YXIgbWVyZ2VkID0gZmFsc2U7XHJcblxyXG4gICAgICBtZXJnZWRHcnMuY29uY2F0KCBncm91cHMyICkuZm9yRWFjaCggZnVuY3Rpb24oIGdyMiwgaW5kZXgyICkge1xyXG4gICAgICAgIC8vIGlmIGdyb3VwcyBzaG91bGQgYmUgbWVyZ2VkIG1lcmdlIHRoZW0sIHJlbW92ZSBncjIgZnJvbSB3aGVyZSBpdFxyXG4gICAgICAgIC8vIGNvbWVzIGZyb20gYW5kIHB1c2ggdGhlIG1lcmdlIHJlc3VsdCB0byBtZXJnZWRHcnNcclxuICAgICAgICBpZiAoIHNob3VsZE1lcmdlKCBncjEsIGdyMiApICkge1xyXG4gICAgICAgICAgdmFyIG1lcmdlZEdyID0gZ3IxLmNvbmNhdCggZ3IyICk7XHJcblxyXG4gICAgICAgICAgaWYgKCBpbmRleDIgPj0gbWVyZ2VkR3JzLmxlbmd0aCApIHtcclxuICAgICAgICAgICAgcmVtb3ZlQXQoIGdyb3VwczIsIGluZGV4MiAtIG1lcmdlZEdycy5sZW5ndGggKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZW1vdmVBdCggbWVyZ2VkR3JzLCBpbmRleDIgKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBtYXJrIGFzIG1lcmdlZCBhbmQgYnJlYWsgdGhlIGxvb3BcclxuICAgICAgICAgIG1lcmdlZEdycy5wdXNoKCBtZXJnZWRHciApO1xyXG4gICAgICAgICAgbWVyZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgIH0gKTtcclxuXHJcbiAgICAgIC8vIGlmIGdyMSBpcyBub3QgbWVyZ2VkIHB1c2ggaXQgdG8gbm90TWVyZ2VkR3JzXHJcbiAgICAgIGlmICggIW1lcmdlZCApIHtcclxuICAgICAgICBub3RNZXJnZWRHcnMucHVzaCggZ3IxICk7XHJcbiAgICAgIH1cclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyB0aGUgZ3JvdXBzIHRoYXQgY29tZXMgZnJvbSBncm91cHMyIGJ1dCBub3QgbWVyZ2VkIGFyZSBzdGlsbCBpbmNsdWRlZFxyXG5cdCAgLy8gaW4gZ3JvdXBzMiBhZGQgdGhlbSB0byB0aGUgcmVzdWx0IHRvZ2V0aGVyIHdpdGggbWVyZ2VkR3JzIGFuZCBub3RNZXJnZWRHcnNcclxuICAgIHJldHVybiBub3RNZXJnZWRHcnMuY29uY2F0KCBtZXJnZWRHcnMsIGdyb3VwczIgKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHNob3VsZE1lcmdlKCBncm91cDEsIGdyb3VwMiApIHtcclxuICAgIC8vIHVzaW5nIGZpcnN0IGVsZW1lbnRzIGlzIGVub3VnaCB0byBkZWNpZGUgd2hldGhlciB0byBtZXJnZVxyXG4gIFx0dmFyIG5vZGUxID0gZ3JvdXAxWyAwIF07XHJcbiAgXHR2YXIgbm9kZTIgPSBncm91cDJbIDAgXTtcclxuXHJcbiAgICBpZiAoIG5vZGUxLmVkZ2VzKCkubGVuZ3RoICE9PSBub2RlMi5lZGdlcygpLmxlbmd0aCApIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBnZXRVbmRpcmVjdGVkRWRnZXMgPSBmdW5jdGlvbiggbm9kZSApIHtcclxuICAgICAgdmFyIGVkZ2VzID0gbm9kZS5jb25uZWN0ZWRFZGdlcygpLmZpbHRlciggaXNVbmRpcmVjdGVkRWRnZSApO1xyXG4gICAgICByZXR1cm4gZWRnZXM7XHJcbiAgICB9O1xyXG4gICAgLy8gdW5kaXJlY3RlZCBlZGdlcyBvZiBub2RlMSBhbmQgbm9kZTIgcmVzcGVjdGl2ZWx5XHJcbiAgICB2YXIgdW5kaXIxID0gZ2V0VW5kaXJlY3RlZEVkZ2VzKCBub2RlMSApO1xyXG4gICAgdmFyIHVuZGlyMiA9IGdldFVuZGlyZWN0ZWRFZGdlcyggbm9kZTIgKTtcclxuXHJcbiAgICB2YXIgaW4xID0gbm9kZTEuaW5jb21lcnMoKS5lZGdlcygpLm5vdCggdW5kaXIxICk7XHJcbiAgICB2YXIgaW4yID0gbm9kZTIuaW5jb21lcnMoKS5lZGdlcygpLm5vdCggdW5kaXIyICk7XHJcblxyXG4gICAgdmFyIG91dDEgPSBub2RlMS5vdXRnb2VycygpLmVkZ2VzKCkubm90KCB1bmRpcjEgKTtcclxuXHQgIHZhciBvdXQyID0gbm9kZTIub3V0Z29lcnMoKS5lZGdlcygpLm5vdCggdW5kaXIyICk7XHJcblxyXG4gICAgcmV0dXJuIGNvbXBhcmVFZGdlR3JvdXAoIGluMSwgaW4yLCBub2RlMSwgbm9kZTIgKVxyXG4gICAgICAgICAgICAmJiBjb21wYXJlRWRnZUdyb3VwKCBvdXQxLCBvdXQyLCBub2RlMSwgbm9kZTIgKVxyXG4gICAgICAgICAgICAmJiBjb21wYXJlRWRnZUdyb3VwKCB1bmRpcjEsIHVuZGlyMiwgbm9kZTEsIG5vZGUyICk7XHJcbiAgfVxyXG5cclxuICAvLyBkZWNpZGUgaWYgMiBlZGdlIGdyb3VwcyBjb250YWlucyBzZXQgb2YgZWRnZXMgd2l0aCBzaW1pbGFyIGNvbnRlbnQgKHR5cGUsXHJcbiAgLy8gc291cmNlLHRhcmdldCkgcmVsYXRpdmUgdG8gdGhlaXIgbm9kZXMgd2hlcmUgZ3IxIGFyZSBlZGdlcyBvZiBub2RlMSBhbmQgZ3IyIGFyZSBlZGdlcyBvZlxyXG4gIC8vIG5vZGUyXHJcbiAgZnVuY3Rpb24gY29tcGFyZUVkZ2VHcm91cCggZ3IxLCBncjIsIG5vZGUxLCBub2RlMiApIHtcclxuICAgIHZhciBpZDEgPSBub2RlMS5pZCgpO1xyXG4gICAgdmFyIGlkMiA9IG5vZGUyLmlkKCk7XHJcblxyXG4gICAgdmFyIG1hcDEgPSBmaWxsSWRUb1R5cGVTZXRNYXAoIGdyMSwgbm9kZTEgKTtcclxuICAgIHZhciBtYXAyID0gZmlsbElkVG9UeXBlU2V0TWFwKCBncjIsIG5vZGUyICk7XHJcblxyXG4gICAgaWYgKCBPYmplY3Qua2V5cyggbWFwMSApLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMoIG1hcDIgKS5sZW5ndGggKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZmFpbGVkID0gZmFsc2U7XHJcblxyXG4gICAgT2JqZWN0LmtleXMoIG1hcDEgKS5mb3JFYWNoKCBmdW5jdGlvbigga2V5ICkge1xyXG4gICAgICAvLyBpZiBhbHJlYWR5IGZhaWxlZCBqdXN0IHJldHVyblxyXG4gICAgICBpZiAoIGZhaWxlZCApIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGlmIGtleSBpcyBpZDIgdXNlIGlkMSBpbnN0ZWFkIGJlY2F1c2UgY29tcGFyaXNvbiBpcyByZWxhdGl2ZSB0byBub2Rlc1xyXG4gICAgICB2YXIgb3RoZXJLZXkgPSAoIGtleSA9PSBpZDIgKSA/IGlkMSA6IGtleTtcclxuXHJcbiAgICAgIC8vIGNoZWNrIGlmIHRoZSBzZXRzIGhhdmUgdGhlIHNhbWUgY29udGVudFxyXG4gIFx0XHQvLyBpZiBjaGVjayBmYWlscyByZXR1cm4gZmFsc2VcclxuICAgICAgaWYgKCAhaXNFcXVhbCggbWFwMVsga2V5IF0sIG1hcDJbIG90aGVyS2V5IF0gKSApIHtcclxuICAgICAgICBmYWlsZWQgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gaWYgY2hlY2sgcGFzc2VzIGZvciBlYWNoIGtleSByZXR1cm4gdHJ1ZVxyXG4gICAgcmV0dXJuICFmYWlsZWQ7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBmaWxsSWRUb1R5cGVTZXRNYXAoIGVkZ2VHcm91cCwgbm9kZSApIHtcclxuICAgIHZhciBtYXAgPSB7fTtcclxuICAgIHZhciBub2RlSWQgPSBub2RlLmlkKCk7XHJcblxyXG4gICAgZWRnZUdyb3VwLmZvckVhY2goIGZ1bmN0aW9uKCBlZGdlICkge1xyXG4gICAgICB2YXIgc3JjSWQgPSBlZGdlLmRhdGEoJ3NvdXJjZScpO1xyXG4gICAgICB2YXIgdGd0SWQgPSBlZGdlLmRhdGEoJ3RhcmdldCcpO1xyXG4gICAgICB2YXIgZWRnZUlkID0gZWRnZS5pZCgpO1xyXG5cclxuICAgICAgdmFyIG90aGVyRW5kID0gKCBub2RlSWQgPT09IHRndElkICkgPyBzcmNJZCA6IHRndElkO1xyXG5cclxuICAgICAgZnVuY3Rpb24gYWRkVG9SZWxhdGVkU2V0KCBzaWRlU3RyLCB2YWx1ZSApIHtcclxuICAgICAgICBpZiAoICFtYXBbIHNpZGVTdHIgXSApIHtcclxuICAgICAgICAgIG1hcFsgc2lkZVN0ciBdID0gbmV3IFNldCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbWFwWyBzaWRlU3RyIF0uYWRkKCB2YWx1ZSApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgZWRnZVR5cGUgPSBnZXRFZGdlVHlwZSggZWRnZSApO1xyXG5cclxuICAgICAgYWRkVG9SZWxhdGVkU2V0KCBvdGhlckVuZCwgZWRnZVR5cGUgKTtcclxuICAgIH0gKTtcclxuXHJcbiAgICByZXR1cm4gbWFwO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2V0RWRnZVR5cGUoIGVkZ2UgKSB7XHJcbiAgICByZXR1cm4gZWRnZS5kYXRhKCAnY2xhc3MnICk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBpc1VuZGlyZWN0ZWRFZGdlKCBlZGdlICkge1xyXG4gICAgcmV0dXJuIGVsZW1lbnRVdGlsaXRpZXMuaXNVbmRpcmVjdGVkRWRnZSggZWRnZSApO1xyXG4gIH1cclxuXHJcbiAgLy8gZ2V0IGhhbHZlcyBvZiBhIGxpc3QuIEl0IGlzIGFzc3VtZWQgdGhhdCBsaXN0IHNpemUgaXMgYXQgbGVhc3QgMi5cclxuICBmdW5jdGlvbiBnZXRIYWx2ZXMoIGxpc3QgKSB7XHJcbiAgICB2YXIgcyA9IGxpc3QubGVuZ3RoO1xyXG4gICAgdmFyIGhhbGZJbmRleCA9IE1hdGguZmxvb3IoIHMgLyAyICk7XHJcbiAgICB2YXIgZmlyc3RIYWxmID0gbGlzdC5zbGljZSggMCwgaGFsZkluZGV4ICk7XHJcbiAgICB2YXIgc2Vjb25kSGFsZiA9IGxpc3Quc2xpY2UoIGhhbGZJbmRleCwgcyApO1xyXG5cclxuICAgIHJldHVybiBbIGZpcnN0SGFsZiwgc2Vjb25kSGFsZiBdO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVtb3ZlQXQoIGFyciwgaW5kZXggKSB7XHJcbiAgICBhcnIuc3BsaWNlKCBpbmRleCwgMSApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRvcG9sb2d5R3JvdXBpbmc7XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJpc0VxdWFsIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJjeSIsImVsZW1lbnRVdGlsaXRpZXMiLCJncm91cENvbXBvdW5kVHlwZSIsIm1ldGFFZGdlSWRlbnRpZmllciIsImxvY2tHcmFwaFRvcG9sb2d5Iiwic2hvdWxkQXBwbHkiLCJERUZBVUxUX0dST1VQX0NPTVBPVU5EX1RZUEUiLCJFREdFX1NUWUxFX05BTUVTIiwidG9wb2xvZ3lHcm91cGluZyIsInBhcmFtIiwicHJvcHMiLCJzYmdudml6SW5zdGFuY2VVdGlsaXRpZXMiLCJnZXRDeSIsImFwcGxpZWQiLCJpbml0TWV0YVN0eWxlTWFwIiwiYXBwbHkiLCJldmFsT3B0IiwibGlzdCIsIm5vZGVzIiwibWFwIiwibm9kZSIsImdyb3VwcyIsImdldE5vZGVHcm91cHMiLCJtZXRhRWRnZXMiLCJnZXRNZXRhRWRnZXMiLCJjb21wb3VuZHMiLCJnZXRHcm91cENvbXBvdW5kcyIsImFwcGx5R3JvdXBpbmciLCJ1bmFwcGx5IiwiZm9yRWFjaCIsImVkZ2UiLCJ0b1Jlc3RvcmUiLCJkYXRhIiwicmVtb3ZlIiwicmVzdG9yZSIsIm5hbWUiLCJvbGRWYWwiLCJtZXRhU3R5bGVNYXAiLCJpZCIsIm5ld1ZhbCIsInBhcmVudHMiLCJjaGFuZ2VQYXJlbnQiLCJjaGlsZHJlbiIsInVubG9ja0dyYXBoVG9wb2xvZ3kiLCJlZGdlcyIsImNsYXNzTmFtZSIsImNsZWFyQXBwbGllZEZsYWciLCJzZXRBcHBsaWVkRmxhZyIsInRvZ2dsZUFwcGxpZWRGbGFnIiwib3B0IiwibGVuZ3RoIiwiaGFsdmVzIiwiZ2V0SGFsdmVzIiwiZmlyc3RQYXJ0Iiwic2Vjb25kUGFydCIsIm1lcmdlR3JvdXBzIiwiZ2V0UGFyZW50T3JTZWxmIiwicGFyZW50Iiwic2l6ZSIsImNhbGNHcm91cGluZ0tleSIsInNyY0lkIiwic291cmNlIiwidGd0SWQiLCJ0YXJnZXQiLCJlZGdlVHlwZSIsImdldEVkZ2VUeXBlIiwiam9pbiIsImFkZFRvTWFwQ2hhaW4iLCJrZXkiLCJ2YWwiLCJjb2xsZWN0aW9uIiwiYWRkIiwiZ3JvdXBDb21wb3VuZHMiLCJncm91cCIsImNyZWF0ZUdyb3VwQ29tcG91bmQiLCJjaGlsZHJlbkVkZ2VzIiwiY29ubmVjdGVkRWRnZXMiLCJlZGdlc01hcCIsIk9iamVjdCIsImtleXMiLCJ0ZW1wIiwibWV0YUVkZ2UiLCJmaWx0ZXIiLCJjcmVhdGVNZXRhRWRnZUZvciIsImNyZWF0ZUNvbXBvdW5kRm9yR2l2ZW5Ob2RlcyIsInR5cGUiLCJhZGRFZGdlIiwic3R5bGVOYW1lIiwiY29tbW9uVmFsIiwiZ2V0Q29tbW9uUHJvcGVydHkiLCJncm91cHMxIiwiZ3JvdXBzMiIsIm5vdE1lcmdlZEdycyIsIm1lcmdlZEdycyIsImdyMSIsIm1lcmdlZCIsImNvbmNhdCIsImdyMiIsImluZGV4MiIsInNob3VsZE1lcmdlIiwibWVyZ2VkR3IiLCJyZW1vdmVBdCIsInB1c2giLCJncm91cDEiLCJncm91cDIiLCJub2RlMSIsIm5vZGUyIiwiZ2V0VW5kaXJlY3RlZEVkZ2VzIiwiaXNVbmRpcmVjdGVkRWRnZSIsInVuZGlyMSIsInVuZGlyMiIsImluMSIsImluY29tZXJzIiwibm90IiwiaW4yIiwib3V0MSIsIm91dGdvZXJzIiwib3V0MiIsImNvbXBhcmVFZGdlR3JvdXAiLCJpZDEiLCJpZDIiLCJtYXAxIiwiZmlsbElkVG9UeXBlU2V0TWFwIiwibWFwMiIsImZhaWxlZCIsIm90aGVyS2V5IiwiZWRnZUdyb3VwIiwibm9kZUlkIiwiZWRnZUlkIiwib3RoZXJFbmQiLCJhZGRUb1JlbGF0ZWRTZXQiLCJzaWRlU3RyIiwidmFsdWUiLCJTZXQiLCJzIiwiaGFsZkluZGV4IiwiTWF0aCIsImZsb29yIiwiZmlyc3RIYWxmIiwic2xpY2UiLCJzZWNvbmRIYWxmIiwiYXJyIiwiaW5kZXgiLCJzcGxpY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/utilities/topology-grouping-factory.js\n");

/***/ }),

/***/ "./src/utilities/ur-action-functions-extender-factory.js":
/*!***************************************************************!*\
  !*** ./src/utilities/ur-action-functions-extender-factory.js ***!
  \***************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("// Extends sbgnviz.undoRedoActionFunctions\nvar libs = (__webpack_require__(/*! ./lib-utilities */ \"./src/utilities/lib-utilities.js\").getLibs)();\nmodule.exports = function () {\n  var sbgnvizInstance, undoRedoActionFunctions, elementUtilities, cy, topologyGrouping;\n  function undoRedoActionFunctionsExtender(param) {\n    sbgnvizInstance = param.sbgnvizInstanceUtilities.getInstance();\n    cy = param.sbgnvizInstanceUtilities.getCy();\n    undoRedoActionFunctions = sbgnvizInstance.undoRedoActionFunctions;\n    elementUtilities = param.elementUtilities;\n    topologyGrouping = param.sifTopologyGrouping;\n    extend();\n  }\n\n  // Extends undoRedoActionFunctions with chise specific features\n  function extend() {\n    undoRedoActionFunctions.applySIFTopologyGrouping = function (param) {\n      var oldEles, newEles;\n      if (param.firstTime) {\n        oldEles = cy.elements();\n        if (param.apply) {\n          topologyGrouping.apply();\n        } else {\n          topologyGrouping.unapply();\n        }\n        newEles = cy.elements();\n      } else {\n        oldEles = param.oldEles;\n        newEles = param.newEles;\n        if (elementUtilities.isGraphTopologyLocked()) {\n          elementUtilities.unlockGraphTopology();\n        } else {\n          elementUtilities.lockGraphTopology();\n        }\n        oldEles.remove();\n        newEles.restore();\n        topologyGrouping.toggleAppliedFlag();\n      }\n      var result = {\n        oldEles: newEles,\n        newEles: oldEles\n      };\n      return result;\n    };\n\n    // Section Start\n    // add/remove action functions\n\n    undoRedoActionFunctions.addNode = function (param) {\n      var result;\n      if (param.firstTime) {\n        var newNode = param.newNode;\n        result = elementUtilities.addNode(newNode.x, newNode.y, newNode[\"class\"], newNode.id, newNode.parent, newNode.visibility);\n      } else {\n        result = elementUtilities.restoreEles(param);\n      }\n      return {\n        eles: result\n      };\n    };\n    undoRedoActionFunctions.addEdge = function (param) {\n      var result;\n      if (param.firstTime) {\n        var newEdge = param.newEdge;\n        result = elementUtilities.addEdge(newEdge.source, newEdge.target, newEdge[\"class\"], newEdge.id, newEdge.visibility);\n      } else {\n        result = elementUtilities.restoreEles(param);\n      }\n      return {\n        eles: result\n      };\n    };\n    undoRedoActionFunctions.addProcessWithConvenientEdges = function (param) {\n      var result;\n      if (param.firstTime) {\n        result = elementUtilities.addProcessWithConvenientEdges(param.source, param.target, param.processType);\n      } else {\n        result = elementUtilities.restoreEles(param);\n      }\n      return {\n        eles: result\n      };\n    };\n    undoRedoActionFunctions.createCompoundForGivenNodes = function (param) {\n      var result = {};\n      if (param.firstTime) {\n        // Nodes to make compound, their descendants and edges connected to them will be removed during createCompoundForGivenNodes operation\n        // (internally by eles.move() operation), so mark them as removed eles for undo operation.\n        var nodesToMakeCompound = param.nodesToMakeCompound;\n        var removedEles = nodesToMakeCompound.union(nodesToMakeCompound.descendants());\n        removedEles = removedEles.union(removedEles.connectedEdges());\n        result.removedEles = removedEles;\n        // Assume that all nodes to make compound have the same parent\n        var oldParentId = nodesToMakeCompound[0].data(\"parent\");\n        // The parent of new compound will be the old parent of the nodes to make compound\n        // New eles includes new compound and the moved eles and will be used in undo operation.\n        result.newEles = elementUtilities.createCompoundForGivenNodes(nodesToMakeCompound, param.compoundType);\n      } else {\n        result.removedEles = param.newEles.remove();\n        result.newEles = param.removedEles.restore();\n        elementUtilities.maintainPointer(result.newEles);\n      }\n      return result;\n    };\n\n    // Section End\n    // add/remove action functions\n\n    // Section Start\n    // easy creation action functions\n\n    undoRedoActionFunctions.createTemplateReaction = function (param) {\n      var firstTime = param.firstTime;\n      var eles;\n      if (firstTime) {\n        eles = elementUtilities.createTemplateReaction(param.templateType, param.macromoleculeList, param.complexName, param.processPosition, param.tilingPaddingVertical, param.tilingPaddingHorizontal, param.edgeLength, param.layoutParam);\n      } else {\n        eles = param;\n        cy.add(eles);\n        cy.elements().unselect();\n        eles.select();\n      }\n      return {\n        eles: eles\n      };\n    };\n    undoRedoActionFunctions.createActivationReaction = function (param) {\n      var firstTime = param.firstTime;\n      var eles;\n      if (firstTime) {\n        eles = elementUtilities.createActivationReaction(param.proteinName, param.processPosition, param.edgeLength, param.reverse);\n      } else {\n        eles = param;\n        cy.add(eles);\n        cy.elements().unselect();\n        eles.select();\n      }\n      return {\n        eles: eles\n      };\n    };\n    undoRedoActionFunctions.createTranslation = function (param) {\n      var firstTime = param.firstTime;\n      var eles;\n      if (firstTime) {\n        eles = elementUtilities.createTranslation(param.regulatorLabel, param.outputLabel, param.orientation);\n      } else {\n        eles = param;\n        cy.add(eles);\n        cy.elements().unselect();\n        eles.select();\n      }\n      return {\n        eles: eles\n      };\n    };\n    undoRedoActionFunctions.createTranscription = function (param) {\n      var firstTime = param.firstTime;\n      var eles;\n      if (firstTime) {\n        eles = elementUtilities.createTranscription(param.label, param.orientation);\n      } else {\n        eles = param;\n        cy.add(eles);\n        cy.elements().unselect();\n        eles.select();\n      }\n      return {\n        eles: eles\n      };\n    };\n    undoRedoActionFunctions.createDegradation = function (param) {\n      var firstTime = param.firstTime;\n      var eles;\n      if (firstTime) {\n        eles = elementUtilities.createDegradation(param.macromolecule, param.orientation);\n      } else {\n        eles = param;\n        cy.add(eles);\n        cy.elements().unselect();\n        eles.select();\n      }\n      return {\n        eles: eles\n      };\n    };\n    undoRedoActionFunctions.createComplexProteinFormation = function (param) {\n      var firstTime = param.firstTime;\n      var eles;\n      if (firstTime) {\n        eles = elementUtilities.createComplexProteinFormation(param.proteinLabels, param.complexLabel, param.regulator, param.orientation, param.reverse);\n      } else {\n        eles = param;\n        cy.add(eles);\n        cy.elements().unselect();\n        eles.select();\n      }\n      return {\n        eles: eles\n      };\n    };\n    undoRedoActionFunctions.createMultimerization = function (param) {\n      var firstTime = param.firstTime;\n      var eles;\n      if (firstTime) {\n        eles = elementUtilities.createMultimerization(param.macromolecule, param.regulator, param.regulatorMultimer, param.orientation);\n      } else {\n        eles = param;\n        cy.add(eles);\n        cy.elements().unselect();\n        eles.select();\n      }\n      return {\n        eles: eles\n      };\n    };\n    undoRedoActionFunctions.createConversion = function (param) {\n      var firstTime = param.firstTime;\n      var eles;\n      if (firstTime) {\n        eles = elementUtilities.createConversion(param.macromolecule, param.regulator, param.regulatorMultimer, param.orientation, param.inputInfoboxLabels, param.outputInfoboxLabels);\n      } else {\n        eles = param;\n        cy.add(eles);\n        cy.elements().unselect();\n        eles.select();\n      }\n      return {\n        eles: eles\n      };\n    };\n    undoRedoActionFunctions.createMetabolicReaction = function (param) {\n      var firstTime = param.firstTime;\n      var eles;\n      if (firstTime) {\n        eles = elementUtilities.createMetabolicReaction(param.inputs, param.outputs, param.reversible, param.regulator, param.regulatorMultimer, param.orientation);\n      } else {\n        eles = param;\n        cy.add(eles);\n        cy.elements().unselect();\n        eles.select();\n      }\n      return {\n        eles: eles\n      };\n    };\n    undoRedoActionFunctions.createMetabolicCatalyticActivity = function (param) {\n      var firstTime = param.firstTime;\n      var eles;\n      if (firstTime) {\n        eles = elementUtilities.createMetabolicCatalyticActivity(param.inputNodeList, param.outputNodeList, param.catalystName, param.catalystType, param.processPosition, param.tilingPaddingVertical, param.tilingPaddingHorizontal, param.edgeLength);\n      } else {\n        eles = param;\n        cy.add(eles);\n        cy.elements().unselect();\n        eles.select();\n      }\n      return {\n        eles: eles\n      };\n    };\n    undoRedoActionFunctions.createTranscriptionReaction = function (param) {\n      var firstTime = param.firstTime;\n      var eles;\n      if (firstTime) {\n        eles = elementUtilities.createTranscriptionReaction(param.geneName, param.mRnaName, param.processPosition, param.edgeLength);\n      } else {\n        eles = param;\n        cy.add(eles);\n        cy.elements().unselect();\n        eles.select();\n      }\n      return {\n        eles: eles\n      };\n    };\n    undoRedoActionFunctions.createTranslationReaction = function (param) {\n      var firstTime = param.firstTime;\n      var eles;\n      if (firstTime) {\n        eles = elementUtilities.createTranslationReaction(param.mRnaName, param.proteinName, param.processPosition, param.edgeLength);\n      } else {\n        eles = param;\n        cy.add(eles);\n        cy.elements().unselect();\n        eles.select();\n      }\n      return {\n        eles: eles\n      };\n    };\n\n    // Section End\n    // easy creation action functions\n\n    // Section Start\n    // general action functions\n\n    undoRedoActionFunctions.getNodePositions = function () {\n      var positions = {};\n      var nodes = cy.nodes();\n      nodes.each(function (ele, i) {\n        if (typeof ele === \"number\") {\n          ele = i;\n        }\n        positions[ele.id()] = {\n          x: ele.position(\"x\"),\n          y: ele.position(\"y\")\n        };\n      });\n      return positions;\n    };\n    undoRedoActionFunctions.returnToPositions = function (positions) {\n      var currentPositions = {};\n      cy.nodes().positions(function (ele, i) {\n        if (typeof ele === \"number\") {\n          ele = i;\n        }\n        currentPositions[ele.id()] = {\n          x: ele.position(\"x\"),\n          y: ele.position(\"y\")\n        };\n        var pos = positions[ele.id()];\n        return {\n          x: pos.x,\n          y: pos.y\n        };\n      });\n      return currentPositions;\n    };\n    undoRedoActionFunctions.resizeNodes = function (param) {\n      var result = {\n        performOperation: true\n      };\n      var nodes = param.nodes;\n      result.sizeMap = {};\n      result.useAspectRatio = false;\n      result.preserveRelativePos = param.preserveRelativePos;\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        if (node.isParent()) {\n          result.sizeMap[node.id()] = {\n            w: node.data(\"minWidth\") || 0,\n            h: node.data(\"minHeight\") || 0,\n            biasL: node.data(\"minWidthBiasLeft\") || 0,\n            biasR: node.data(\"minWidthBiasRight\") || 0,\n            biasT: node.data(\"minHeightBiasTop\") || 0,\n            biasB: node.data(\"minHeightBiasBottom\") || 0\n            // w: node.css(\"minWidth\") != 0?  node.data(\"minWidth\") : node.children().boundingBox().w,\n            //h: node.css(\"min-height\") != 0?  node.data(\"minHeight\") : node.children().boundingBox().h\n          };\n        } else {\n          result.sizeMap[node.id()] = {\n            w: node.width(),\n            h: node.height()\n          };\n        }\n      }\n      result.nodes = nodes;\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        if (param.performOperation) {\n          if (param.sizeMap) {\n            /* if (param.preserveRelativePos === true) {\r\n              var oldWidth = node.data(\"bbox\").w;\r\n              var oldHeight = node.data(\"bbox\").h;\r\n            } */\n\n            if (node.isParent()) {\n              node.data(\"minHeight\", param.sizeMap[node.id()].h);\n              node.data(\"minWidth\", param.sizeMap[node.id()].w);\n              node.data(\"minWidthBiasLeft\", param.sizeMap[node.id()].biasL);\n              node.data(\"minWidthBiasRight\", param.sizeMap[node.id()].biasR);\n              node.data(\"minHeightBiasTop\", param.sizeMap[node.id()].biasT);\n              node.data(\"minHeightBiasBottom\", param.sizeMap[node.id()].biasB);\n            } else {\n              node.data(\"bbox\").w = param.sizeMap[node.id()].w;\n              node.data(\"bbox\").h = param.sizeMap[node.id()].h;\n            }\n\n            /* if (param.preserveRelativePos === true) {\r\n              var statesandinfos = node.data('statesandinfos');\r\n              var topBottom = statesandinfos.filter(box => (box.anchorSide === \"top\" || box.anchorSide === \"bottom\"));\r\n              var rightLeft = statesandinfos.filter(box => (box.anchorSide === \"right\" || box.anchorSide === \"left\"));\r\n                topBottom.forEach(function(box){\r\n                if (box.bbox.x < 0) {\r\n                  box.bbox.x = 0;\r\n                }\r\n                else if (box.bbox.x > oldWidth) {\r\n                  box.bbox.x = oldWidth;\r\n                }\r\n                box.bbox.x = node.data(\"bbox\").w * box.bbox.x / oldWidth;\r\n              });\r\n                rightLeft.forEach(function(box){\r\n                if (box.bbox.y < 0) {\r\n                  box.bbox.y = 0;\r\n                }\r\n                else if (box.bbox.y > oldHeight) {\r\n                  box.bbox.y = oldHeight;\r\n                }\r\n                box.bbox.y = node.data(\"bbox\").h * box.bbox.y / oldHeight;\r\n              });\r\n            } */\n          } else {\n            elementUtilities.resizeNodes(param.nodes, param.width, param.height, param.useAspectRatio, param.preserveRelativePos);\n          }\n        }\n      }\n      cy.style().update();\n      return result;\n    };\n    undoRedoActionFunctions.changeNodeLabel = function (param) {\n      var result = {};\n      var nodes = param.nodes;\n      result.nodes = nodes;\n      result.label = {};\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        result.label[node.id()] = node._private.data.label;\n      }\n      if (param.firstTime) {\n        nodes.data('label', param.label);\n      } else {\n        for (var i = 0; i < nodes.length; i++) {\n          var node = nodes[i];\n          node._private.data.label = param.label[node.id()];\n        }\n      }\n      return result;\n    };\n    undoRedoActionFunctions.updateInfoboxStyle = function (param) {\n      var result = {};\n      var style = param.node.data('statesandinfos')[param.index].style;\n      result.newProps = $.extend({}, style);\n      result.node = param.node;\n      result.index = param.index;\n      elementUtilities.updateInfoboxStyle(param.node, param.index, param.newProps);\n      return result;\n    };\n    undoRedoActionFunctions.updateInfoboxObj = function (param) {\n      var result = {};\n      var obj = param.node.data('statesandinfos')[param.index];\n      result.newProps = $.extend({}, obj);\n      result.node = param.node;\n      result.index = param.index;\n      elementUtilities.updateInfoboxObj(param.node, param.index, param.newProps);\n      return result;\n    };\n    undoRedoActionFunctions.regenerateId = function (param) {\n      var nodes = param.nodes;\n      var result = {};\n      result.nodes = nodes;\n      result.id = {};\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        result.id[node.id()] = node._private.data.id;\n        node._private.data.id = param.value;\n      }\n      return result;\n    };\n    undoRedoActionFunctions.changeData = function (param) {\n      var result = {};\n      var eles = param.eles;\n      result.name = param.name;\n      result.valueMap = {};\n      result.eles = eles;\n      for (var i = 0; i < eles.length; i++) {\n        var ele = eles[i];\n        result.valueMap[ele.id()] = ele.data(param.name);\n      }\n      elementUtilities.changeData(param.eles, param.name, param.valueMap);\n      return result;\n    };\n    undoRedoActionFunctions.updateSetField = function (param) {\n      var updates = elementUtilities.updateSetField(param.ele, param.fieldName, param.toDelete, param.toAdd, param.callback);\n      var result = {\n        ele: param.ele,\n        fieldName: param.fieldName,\n        callback: param.callback,\n        toDelete: updates.added,\n        toAdd: updates.deleted\n      };\n      return result;\n    };\n    undoRedoActionFunctions.changeCss = function (param) {\n      var result = {};\n      var eles = param.eles;\n      result.name = param.name;\n      result.valueMap = {};\n      result.eles = eles;\n      for (var i = 0; i < eles.length; i++) {\n        var ele = eles[i];\n        result.valueMap[ele.id()] = ele.css(param.name);\n      }\n      elementUtilities.changeCss(param.eles, param.name, param.valueMap);\n      return result;\n    };\n    undoRedoActionFunctions.changeFontProperties = function (param) {\n      var result = {};\n      var eles = param.eles;\n      result.data = {};\n      result.eles = eles;\n      for (var i = 0; i < eles.length; i++) {\n        var ele = eles[i];\n        result.data[ele.id()] = {};\n        var data = param.firstTime ? param.data : param.data[ele.id()];\n        for (var prop in data) {\n          result.data[ele.id()][prop] = ele.data(prop);\n        }\n      }\n      if (param.firstTime) {\n        elementUtilities.changeFontProperties(eles, data);\n      } else {\n        for (var i = 0; i < eles.length; i++) {\n          var ele = eles[i];\n          elementUtilities.changeFontProperties(ele, data);\n        }\n      }\n      return result;\n    };\n\n    /*\r\n     * Show eles and perform layout.\r\n     */\n    undoRedoActionFunctions.showAndPerformLayout = function (param) {\n      var eles = param.eles;\n      var result = {};\n      result.positions = undoRedoActionFunctions.getNodePositions();\n      if (param.firstTime) {\n        result.eles = elementUtilities.showAndPerformLayout(param.eles, param.layoutparam);\n      } else {\n        result.eles = cy.viewUtilities().show(eles); // Show given eles\n        undoRedoActionFunctions.returnToPositions(param.positions);\n      }\n      return result;\n    };\n    undoRedoActionFunctions.undoShowAndPerformLayout = function (param) {\n      var eles = param.eles;\n      var result = {};\n      result.positions = undoRedoActionFunctions.getNodePositions();\n      result.eles = cy.viewUtilities().hide(eles); // Hide previously unhidden eles;\n\n      undoRedoActionFunctions.returnToPositions(param.positions);\n      return result;\n    };\n\n    /*\r\n     * Hide eles and perform layout.\r\n     */\n    undoRedoActionFunctions.hideAndPerformLayout = function (param) {\n      var eles = param.eles;\n      var result = {};\n      result.positions = undoRedoActionFunctions.getNodePositions();\n      if (param.firstTime) {\n        result.eles = elementUtilities.hideAndPerformLayout(param.eles, param.layoutparam);\n      } else {\n        result.eles = cy.viewUtilities().hide(eles); // Hide given eles\n        undoRedoActionFunctions.returnToPositions(param.positions);\n      }\n      return result;\n    };\n    undoRedoActionFunctions.undoHideAndPerformLayout = function (param) {\n      var eles = param.eles;\n      var result = {};\n      result.positions = undoRedoActionFunctions.getNodePositions();\n      result.eles = cy.viewUtilities().show(eles); // Show previously hidden eles\n\n      undoRedoActionFunctions.returnToPositions(param.positions);\n      return result;\n    };\n\n    /*\r\n     * Delete eles and perform layout.\r\n     */\n    undoRedoActionFunctions.deleteAndPerformLayout = function (param) {\n      var eles = param.eles;\n      var result = {};\n      result.positions = undoRedoActionFunctions.getNodePositions();\n      if (param.firstTime) {\n        result.eles = elementUtilities.deleteAndPerformLayout(param.eles, param.layoutparam);\n      } else {\n        result.eles = eles.remove();\n        undoRedoActionFunctions.returnToPositions(param.positions);\n      }\n      return result;\n    };\n    undoRedoActionFunctions.undoDeleteAndPerformLayout = function (param) {\n      var eles = param.eles;\n      var result = {};\n      result.positions = undoRedoActionFunctions.getNodePositions();\n      result.eles = elementUtilities.restoreEles(eles);\n      undoRedoActionFunctions.returnToPositions(param.positions);\n      return result;\n    };\n\n    // Section End\n    // general action functions\n\n    // Section Start\n    // sbgn action functions\n\n    undoRedoActionFunctions.changeStateOrInfoBox = function (param) {\n      var result = {};\n      result.type = param.type;\n      result.nodes = param.nodes;\n      result.index = param.index;\n      var data = param.data;\n      var tempData = elementUtilities.saveUnits(param.nodes);\n      result.value = elementUtilities.changeStateOrInfoBox(param.nodes, param.index, param.value, param.type);\n      /* var locations = elementUtilities.checkFit(param.nodes);\r\n      if (locations !== undefined && locations.length > 0) {\r\n        elementUtilities.fitUnits(param.nodes, locations);\r\n      } */\n      if (data !== undefined) {\n        elementUtilities.restoreUnits(param.nodes, data);\n      }\n      cy.forceRender();\n      result.data = tempData;\n      return result;\n    };\n    undoRedoActionFunctions.addStateOrInfoBox = function (param) {\n      var obj = param.obj;\n      var nodes = param.nodes;\n      var data = param.data;\n      var tempData = elementUtilities.saveUnits(nodes);\n      var locationObj = elementUtilities.addStateOrInfoBox(nodes, obj);\n      /*  var locations = elementUtilities.checkFit(nodes);\r\n       if (locations !== undefined && locations.length > 0) {\r\n         elementUtilities.fitUnits(nodes, locations);\r\n       } */\n      if (data !== undefined) {\n        elementUtilities.restoreUnits(nodes, data);\n      }\n      cy.forceRender();\n      var result = {\n        nodes: nodes,\n        locationObj: locationObj,\n        obj: obj,\n        data: tempData\n      };\n      return result;\n    };\n    undoRedoActionFunctions.removeStateOrInfoBox = function (param) {\n      var locationObj = param.locationObj;\n      var nodes = param.nodes;\n      var data = param.data;\n      var tempData = elementUtilities.saveUnits(nodes);\n      var obj = elementUtilities.removeStateOrInfoBox(nodes, locationObj);\n      if (data !== undefined) {\n        elementUtilities.restoreUnits(nodes, data);\n      }\n      cy.forceRender();\n      var result = {\n        nodes: nodes,\n        obj: obj,\n        data: tempData\n      };\n      return result;\n    };\n    undoRedoActionFunctions.fitUnits = function (param) {\n      var node = param.node;\n      var locations = param.locations;\n      var obj = elementUtilities.fitUnits(node, locations);\n      cy.forceRender();\n      var result = {\n        node: node,\n        obj: obj,\n        locations: locations\n      };\n      return result;\n    };\n    undoRedoActionFunctions.restoreUnits = function (param) {\n      var node = param.node;\n      var locations = param.locations;\n      var obj = param.obj;\n      var index = 0;\n      node.data('statesandinfos').forEach(function (ele) {\n        var box = obj[index++];\n        ele.bbox.x = box.x;\n        ele.bbox.y = box.y;\n        var oldSide = ele.anchorSide;\n        ele.anchorSide = box.anchorSide;\n        elementUtilities.modifyUnits(node, ele, oldSide);\n      });\n      cy.forceRender();\n      var result = {\n        node: node,\n        locations: locations\n      };\n      return result;\n    };\n    undoRedoActionFunctions.setMultimerStatus = function (param) {\n      var firstTime = param.firstTime;\n      var nodes = param.nodes;\n      var status = param.status;\n      var resultStatus = {};\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        var isMultimer = node.data('class').endsWith(' multimer');\n        resultStatus[node.id()] = isMultimer;\n      }\n\n      // If this is the first time change the status of all nodes at once.\n      // If not change status of each seperately to the values mapped to their id.\n      if (firstTime) {\n        elementUtilities.setMultimerStatus(nodes, status);\n      } else {\n        for (var i = 0; i < nodes.length; i++) {\n          var node = nodes[i];\n          elementUtilities.setMultimerStatus(node, status[node.id()]);\n        }\n      }\n\n      //  if (!firstTime && _.isEqual(nodes, cy.nodes(':selected'))) {\n      //    $('#inspector-is-multimer').attr(\"checked\", !$('#inspector-is-multimer').attr(\"checked\"));\n      //  }\n\n      var result = {\n        status: resultStatus,\n        nodes: nodes\n      };\n      return result;\n    };\n    undoRedoActionFunctions.setActiveStatus = function (param) {\n      var firstTime = param.firstTime;\n      var nodes = param.nodes;\n      var status = param.status;\n      var resultStatus = {};\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        var isActive = node.data('class').startsWith('active ');\n        resultStatus[node.id()] = isActive;\n      }\n\n      // If this is the first time change the status of all nodes at once.\n      // If not change status of each seperately to the values mapped to their id.\n      if (firstTime) {\n        elementUtilities.setActiveStatus(nodes, status);\n      } else {\n        for (var i = 0; i < nodes.length; i++) {\n          var node = nodes[i];\n          elementUtilities.setActiveStatus(node, status[node.id()]);\n        }\n      }\n\n      //  if (!firstTime && _.isEqual(nodes, cy.nodes(':selected'))) {\n      //    $('#inspector-is-multimer').attr(\"checked\", !$('#inspector-is-multimer').attr(\"checked\"));\n      //  }\n\n      var result = {\n        status: resultStatus,\n        nodes: nodes\n      };\n      return result;\n    };\n    undoRedoActionFunctions.setHypotheticalStatus = function (param) {\n      var firstTime = param.firstTime;\n      var nodes = param.nodes;\n      var status = param.status;\n      var resultStatus = {};\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        var isHypothetical = node.data('class').includes('hypothetical');\n        resultStatus[node.id()] = isHypothetical;\n      }\n\n      // If this is the first time change the status of all nodes at once.\n      // If not change status of each seperately to the values mapped to their id.\n      if (firstTime) {\n        elementUtilities.setHypotheticalStatus(nodes, status);\n      } else {\n        for (var i = 0; i < nodes.length; i++) {\n          var node = nodes[i];\n          elementUtilities.setHypotheticalStatus(node, status[node.id()]);\n          //elementUtilities.setHypothteticalStatus\n        }\n      }\n\n      //  if (!firstTime && _.isEqual(nodes, cy.nodes(':selected'))) {\n      //    $('#inspector-is-multimer').attr(\"checked\", !$('#inspector-is-multimer').attr(\"checked\"));\n      //  }\n\n      var result = {\n        status: resultStatus,\n        nodes: nodes\n      };\n      return result;\n    };\n    undoRedoActionFunctions.setCloneMarkerStatus = function (param) {\n      var nodes = param.nodes;\n      var status = param.status;\n      var firstTime = param.firstTime;\n      var resultStatus = {};\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        resultStatus[node.id()] = node.data('clonemarker');\n        var currentStatus = firstTime ? status : status[node.id()];\n        elementUtilities.setCloneMarkerStatus(node, currentStatus);\n      }\n\n      //  if (!firstTime && _.isEqual(nodes, cy.nodes(':selected'))) {\n      //    $('#inspector-is-clone-marker').attr(\"checked\", !$('#inspector-is-clone-marker').attr(\"checked\"));\n      //  }\n\n      var result = {\n        status: resultStatus,\n        nodes: nodes\n      };\n      return result;\n    };\n\n    // param: {class: sbgnclass, name: propertyName, value: value}\n    undoRedoActionFunctions.setDefaultProperty = function (param) {\n      var sbgnclass = param[\"class\"];\n      var name = param.name;\n      var value = param.value;\n      var classDefaults = elementUtilities.getDefaultProperties(sbgnclass);\n      var result = {\n        \"class\": sbgnclass,\n        name: name,\n        value: classDefaults.hasOwnProperty(name) ? classDefaults[name] : undefined\n      };\n      var propMap = {};\n      propMap[name] = value;\n      elementUtilities.setDefaultProperties(sbgnclass, propMap);\n      return result;\n    };\n    undoRedoActionFunctions.addBackgroundImage = function (param) {\n      var bgObj = param.bgObj;\n      var nodes = param.nodes;\n      var updateInfo = param.updateInfo;\n      var promptInvalidImage = param.promptInvalidImage;\n      var validateURL = param.validateURL;\n      elementUtilities.addBackgroundImage(nodes, bgObj, updateInfo, promptInvalidImage, validateURL);\n      cy.forceRender();\n      var result = {\n        nodes: nodes,\n        bgObj: bgObj,\n        updateInfo: updateInfo,\n        promptInvalidImage: promptInvalidImage,\n        validateURL: validateURL\n      };\n      return result;\n    };\n    undoRedoActionFunctions.removeBackgroundImage = function (param) {\n      var bgObj = param.bgObj;\n      var nodes = param.nodes;\n      elementUtilities.removeBackgroundImage(nodes, bgObj);\n      cy.forceRender();\n      var result = {\n        nodes: nodes,\n        bgObj: bgObj\n      };\n      return result;\n    };\n    undoRedoActionFunctions.updateBackgroundImage = function (param) {\n      var bgObj = param.bgObj;\n      var nodes = param.nodes;\n      var oldBgObj = elementUtilities.updateBackgroundImage(nodes, bgObj);\n      cy.forceRender();\n      var result = {\n        nodes: nodes,\n        bgObj: oldBgObj\n      };\n      return result;\n    };\n    undoRedoActionFunctions.changeBackgroundImage = function (param) {\n      var oldImg = param.oldImg;\n      var newImg = param.newImg;\n      var nodes = param.nodes;\n      var firstTime = param.firstTime;\n      var updateInfo = param.updateInfo;\n      var promptInvalidImage = param.promptInvalidImage;\n      var validateURL = param.validateURL;\n      var result = elementUtilities.changeBackgroundImage(nodes, oldImg, newImg, firstTime, updateInfo, promptInvalidImage, validateURL);\n      cy.forceRender();\n      return result;\n    };\n\n    // Section End\n    // sbgn action functions\n    undoRedoActionFunctions.convertIntoReversibleReaction = function (param) {\n      var collection = cy.collection();\n      var mapType = elementUtilities.getMapType();\n      elementUtilities.setMapType(param.mapType);\n      $('#map-type').val(param.mapType);\n      param.collection.forEach(function (edge) {\n        var sourceNode = edge._private.data.source;\n        var targetNode = edge._private.data.target;\n        edge.move({\n          source: targetNode,\n          target: sourceNode\n        });\n        var convertedEdge = cy.getElementById(edge.id());\n        if (convertedEdge.data(\"cyedgebendeditingDistances\")) {\n          var distance = convertedEdge.data(\"cyedgebendeditingDistances\");\n          distance = distance.map(function (element) {\n            return -1 * element;\n          });\n          convertedEdge.data(\"cyedgebendeditingDistances\", distance.reverse());\n          var weight = convertedEdge.data(\"cyedgebendeditingWeights\");\n          weight = weight.map(function (element) {\n            return 1 - element;\n          });\n          convertedEdge.data(\"cyedgebendeditingWeights\", weight.reverse());\n        }\n        if (convertedEdge.data(\"cyedgecontroleditingDistances\")) {\n          var _distance = convertedEdge.data(\"cyedgecontroleditingDistances\");\n          _distance = _distance.map(function (element) {\n            return -1 * element;\n          });\n          convertedEdge.data(\"cyedgecontroleditingDistances\", _distance.reverse());\n          var _weight = convertedEdge.data(\"cyedgecontroleditingWeigths\");\n          _weight = _weight.map(function (element) {\n            return 1 - element;\n          });\n          convertedEdge.data(\"cyedgecontroleditingWeigths\", _weight.reverse());\n        }\n        if (convertedEdge._private.data[\"class\"] === \"consumption\") {\n          convertedEdge._private.data[\"class\"] = \"production\";\n          convertedEdge._private.data.portsource = targetNode + \".1\";\n          convertedEdge._private.data.porttarget = sourceNode;\n        } else if (convertedEdge._private.data[\"class\"] === \"production\") {\n          convertedEdge._private.data[\"class\"] = \"consumption\";\n          convertedEdge._private.data.portsource = targetNode;\n          convertedEdge._private.data.porttarget = sourceNode + \".1\";\n        }\n        collection = collection.add(convertedEdge);\n        cy.style().update();\n      });\n      var result = {\n        collection: collection,\n        mapType: mapType,\n        processId: param.processId\n      };\n      return result;\n    };\n    undoRedoActionFunctions.moveEdge = function (param) {\n      var result = {};\n      var edge = param.edge;\n      result.name = param.name;\n      result.source = edge.source().id();\n      result.target = edge.target().id();\n      result.portsource = edge.data(\"portsource\");\n      result.porttarget = edge.data(\"porttarget\");\n      elementUtilities.changeData(edge, 'source', param.source);\n      elementUtilities.changeData(edge, 'target', param.target);\n      elementUtilities.changeData(edge, 'portsource', param.portsource);\n      elementUtilities.changeData(edge, 'porttarget', param.porttarget);\n      edge = edge.move({\n        target: param.target,\n        source: param.source\n      });\n      result.edge = edge;\n      return result;\n    };\n    undoRedoActionFunctions.fixError = function (param) {\n      var errorCode = param.errorCode;\n      var result = {};\n      result.errorCode = errorCode;\n      if (errorCode == \"pd10101\" || errorCode == 'pd10102') {\n        result.edge = elementUtilities.reverseEdge(param.edge);\n        return result;\n      } else if (errorCode == \"pd10103\" || errorCode == 'pd10107') {\n        param.newNodes.forEach(function (newNode) {\n          elementUtilities.addNode(newNode.x, newNode.y, newNode[\"class\"], newNode.id, undefined);\n        });\n        param.newEdges.forEach(function (newEdge) {\n          elementUtilities.addEdge(newEdge.source, newEdge.target, newEdge[\"class\"]);\n        });\n        param.oldEdges.forEach(function (oldEdge) {\n          cy.elements().unselect();\n          //return \n          oldEdge.remove();\n        });\n        param.node.remove();\n        return param;\n      } else if (errorCode == \"pd10105\" || errorCode == 'pd10106') {\n        result.edge = elementUtilities.reverseEdge(param.edge);\n        return result;\n      } else if (errorCode == \"pd10140\") {\n        param.node.remove();\n        return param;\n      } else if (errorCode == \"pd10104\") {\n        param.edges.forEach(function (edge) {\n          edge.remove();\n        });\n        param.nodes.forEach(function (node) {\n          node.remove();\n        });\n        return param;\n      } else if (errorCode == \"pd10108\") {\n        param.edges.forEach(function (edge) {\n          edge.remove();\n        });\n        param.nodes.forEach(function (node) {\n          node.remove();\n        });\n        return param;\n      } else if (errorCode == \"pd10111\") {\n        param.edges.forEach(function (edge) {\n          edge.remove();\n        });\n        return param;\n      } else if (errorCode == \"pd10126\") {\n        param.edges.forEach(function (edge) {\n          edge.remove();\n        });\n        param.nodes.forEach(function (node) {\n          node.remove();\n        });\n        return param;\n      } else if (errorCode == \"pd10109\" || errorCode == \"pd10124\") {\n        result.newSource = param.edge.data().source;\n        result.newTarget = param.edge.data().target;\n        result.portsource = param.edge.data().portsource;\n        var clonedEdge = param.edge.clone();\n        var edgeParams = {\n          \"class\": clonedEdge.data()[\"class\"],\n          language: clonedEdge.data().language\n        };\n        clonedEdge.data().source = param.newSource;\n        clonedEdge.data().target = param.newTarget;\n        cy.remove(param.edge);\n        result.edge = elementUtilities.addEdge(param.newSource, param.newTarget, edgeParams, clonedEdge.data().id);\n        return result;\n      } else if (errorCode == \"pd10112\") {\n        param.callback = elementUtilities.maintainPointer;\n        // If this is first time we should move the node to its new parent and relocate it by given posDiff params\n        // else we should remove the moved eles and restore the eles to restore\n        if (param.firstTime) {\n          var newParentId = param.parentData == undefined ? null : param.parentData;\n          // These eles includes the nodes and their connected edges and will be removed in nodes.move().\n          // They should be restored in undo\n          var withDescendant = param.nodes.union(param.nodes.descendants());\n          result.elesToRestore = withDescendant.union(withDescendant.connectedEdges());\n          // These are the eles created by nodes.move(), they should be removed in undo.\n          result.movedEles = param.nodes.move({\n            \"parent\": newParentId\n          });\n          var posDiff = {\n            x: param.posDiffX,\n            y: param.posDiffY\n          };\n          elementUtilities.moveNodes(posDiff, result.movedEles);\n        } else {\n          result.elesToRestore = param.movedEles.remove();\n          result.movedEles = param.elesToRestore.restore();\n        }\n        if (param.callback) {\n          result.callback = param.callback; // keep the provided callback so it can be reused after undo/redo\n          param.callback(result.movedEles); // apply the callback on newly created elements\n        }\n        return result;\n      } else if (errorCode == \"pd10125\") {\n        result.edge = param.edge.remove();\n        result.newEdge = {};\n        var edgeclass = param.newEdge.edgeParams[\"class\"] ? param.newEdge.edgeParams[\"class\"] : param.newEdge.edgeParams;\n        var validation = elementUtilities.validateArrowEnds(edgeclass, cy.getElementById(param.newEdge.source), cy.getElementById(param.newEdge.target));\n        if (validation === 'reverse') {\n          var temp = param.newEdge.source;\n          param.newEdge.source = param.newEdge.target;\n          param.newEdge.target = temp;\n        }\n        result.newEdge.id = elementUtilities.addEdge(param.newEdge.source, param.newEdge.target, param.newEdge.edgeParams).id();\n        result.newEdge.source = param.newEdge.source;\n        result.newEdge.target = param.newEdge.target;\n        result.newEdge.edgeParams = param.newEdge.edgeParams;\n        return result;\n      } else if (errorCode == \"pd10142\") {\n        result.edge = param.edge.remove();\n        result.newEdge = {};\n        var edgeclass = param.newEdge.edgeParams[\"class\"] ? param.newEdge.edgeParams[\"class\"] : param.newEdge.edgeParams;\n        var validation = elementUtilities.validateArrowEnds(edgeclass, cy.getElementById(param.newEdge.source), cy.getElementById(param.newEdge.target));\n        if (validation === 'reverse') {\n          var temp = param.newEdge.source;\n          param.newEdge.source = param.newEdge.target;\n          param.newEdge.target = temp;\n        }\n        result.newEdge.id = elementUtilities.addEdge(param.newEdge.source, param.newEdge.target, param.newEdge.edgeParams).id();\n        result.newEdge.source = param.newEdge.source;\n        result.newEdge.target = param.newEdge.target;\n        result.newEdge.edgeParams = param.newEdge.edgeParams;\n        return result;\n      } else {\n        result.newSource = param.edge.source().id();\n        result.newTarget = param.edge.target().id();\n        result.porttarget = param.edge.data(\"porttarget\");\n        result.edge = param.edge.move({\n          target: param.newTarget,\n          source: param.newSource\n        });\n        elementUtilities.changeData(result.edge, 'porttarget', param.porttarget);\n        return result;\n      }\n    };\n    undoRedoActionFunctions.unfixError = function (param) {\n      var errorCode = param.errorCode;\n      var result = {};\n      result.errorCode = errorCode;\n      if (errorCode == \"pd10101\" || errorCode == 'pd10102') {\n        result.edge = elementUtilities.reverseEdge(param.edge);\n        return result;\n      } else if (errorCode == \"pd10103\" || errorCode == 'pd10107') {\n        param.newNodes.forEach(function (newNode) {\n          cy.remove(cy.$('#' + newNode.id));\n        });\n        param.node.restore();\n        param.oldEdges.forEach(function (oldEdge) {\n          oldEdge.restore();\n        });\n        cy.animate({\n          duration: 100,\n          easing: 'ease',\n          fit: {\n            eles: {},\n            padding: 20\n          },\n          complete: function complete() {}\n        });\n        return param;\n      } else if (errorCode == \"pd10105\" || errorCode == 'pd10106') {\n        result.edge = elementUtilities.reverseEdge(param.edge);\n        return result;\n      } else if (errorCode == \"pd10140\") {\n        param.node.restore();\n        cy.animate({\n          duration: 100,\n          easing: 'ease',\n          fit: {\n            eles: {},\n            padding: 20\n          },\n          complete: function complete() {}\n        });\n        return param;\n      } else if (errorCode == \"pd10104\") {\n        param.nodes.forEach(function (node) {\n          node.restore();\n        });\n        param.edges.forEach(function (edge) {\n          edge.restore();\n        });\n        return param;\n      } else if (errorCode == \"pd10108\") {\n        param.nodes.forEach(function (node) {\n          node.restore();\n        });\n        param.edges.forEach(function (edge) {\n          edge.restore();\n        });\n        return param;\n      } else if (errorCode == \"pd10111\") {\n        param.edges.forEach(function (edge) {\n          edge.restore();\n        });\n        return param;\n      } else if (errorCode == \"pd10126\") {\n        param.nodes.forEach(function (node) {\n          node.restore();\n        });\n        param.edges.forEach(function (edge) {\n          edge.restore();\n        });\n        return param;\n      } else if (errorCode == \"pd10109\" || errorCode == \"pd10124\") {\n        result.newSource = param.edge.source().id();\n        result.newTarget = param.edge.target().id();\n        result.portsource = param.portsource;\n        result.edge = param.edge.move({\n          target: param.newTarget,\n          source: param.newSource\n        });\n        elementUtilities.changeData(result.edge, 'portsource', param.portsource);\n        return result;\n      } else if (errorCode == \"pd10112\") {\n        // If this is first time we should move the node to its new parent and relocate it by given posDiff params\n        // else we should remove the moved eles and restore the eles to restore\n        if (param.firstTime) {\n          var newParentId = param.parentData == undefined ? null : param.parentData;\n          // These eles includes the nodes and their connected edges and will be removed in nodes.move().\n          // They should be restored in undo\n          var withDescendant = param.nodes.union(param.nodes.descendants());\n          result.elesToRestore = withDescendant.union(withDescendant.connectedEdges());\n          // These are the eles created by nodes.move(), they should be removed in undo.\n          result.movedEles = param.nodes.move({\n            \"parent\": newParentId\n          });\n          var posDiff = {\n            x: param.posDiffX,\n            y: param.posDiffY\n          };\n          elementUtilities.moveNodes(posDiff, result.movedEles);\n        } else {\n          result.elesToRestore = param.movedEles.remove();\n          result.movedEles = param.elesToRestore.restore();\n        }\n        if (param.callback) {\n          result.callback = param.callback; // keep the provided callback so it can be reused after undo/redo\n          param.callback(result.movedEles); // apply the callback on newly created elements\n        }\n        return result;\n      } else if (errorCode == \"pd10125\") {\n        cy.$('#' + param.newEdge.id).remove();\n        param.edge = param.edge.restore();\n        return param;\n      } else if (errorCode == \"pd10142\") {\n        cy.$('#' + param.newEdge.id).remove();\n        param.edge = param.edge.restore();\n        return param;\n      } else {\n        result.newSource = param.edge.source().id();\n        result.newTarget = param.edge.target().id();\n        result.porttarget = param.edge.data(\"porttarget\");\n        result.edge = param.edge.move({\n          target: param.newTarget,\n          source: param.newSource\n        });\n        elementUtilities.changeData(result.edge, 'porttarget', param.porttarget);\n        return result;\n      }\n    };\n    undoRedoActionFunctions.cloneHighDegreeNode = function (node) {\n      var result = {};\n      var oldX = node.position().x;\n      var oldY = node.position().y;\n      var claculateNewClonePosition = function claculateNewClonePosition(sourceEndPointX, sourceEndPointY, targetEndPointX, targetEndPointY, desiredDistance, direction) {\n        var distance = Math.sqrt(Math.pow(targetEndPointY - sourceEndPointY, 2) + Math.pow(targetEndPointX - sourceEndPointX, 2));\n        var ratio = desiredDistance / distance;\n        var result = {};\n        if (direction == \"source\") {\n          result.cx = (1 - ratio) * sourceEndPointX + ratio * targetEndPointX;\n          result.cy = (1 - ratio) * sourceEndPointY + ratio * targetEndPointY;\n        } else {\n          result.cx = (1 - ratio) * targetEndPointX + ratio * sourceEndPointX;\n          result.cy = (1 - ratio) * targetEndPointY + ratio * sourceEndPointY;\n        }\n        return result;\n      };\n      var edges = node.connectedEdges();\n      var desiredDistance = (node.height() > node.width() ? node.height() : node.width()) * 0.1;\n      for (var i = 1; i < edges.length; i++) {\n        var edge = edges[i];\n        var index = i;\n        var edgeClone = edge.clone();\n        var startPosition = edge.source().id() == node.id() ? \"source\" : \"target\";\n        var newPosition = claculateNewClonePosition(edge.sourceEndpoint().x, edge.sourceEndpoint().y, edge.targetEndpoint().x, edge.targetEndpoint().y, desiredDistance, startPosition);\n        var newNodeId = node.id() + 'clone-' + index;\n        //edgeClone.data().id = edgeClone.data().id+ \"-\"+newNodeId;\n        if (edge.source().id() == node.id()) {\n          edgeClone.data().source = newNodeId;\n          edgeClone.data().portsource = newNodeId;\n        } else {\n          edgeClone.data().target = newNodeId;\n          edgeClone.data().porttarget = newNodeId;\n        }\n        var newNode = node.clone();\n        newNode.data().id = newNodeId;\n        cy.add(newNode);\n        edge.remove();\n        cy.add(edgeClone);\n        newNode.position({\n          x: newPosition.cx,\n          y: newPosition.cy\n        });\n        elementUtilities.setCloneMarkerStatus(newNode, true);\n      }\n      var newPosition = claculateNewClonePosition(edges[0].sourceEndpoint().x, edges[0].sourceEndpoint().y, edges[0].targetEndpoint().x, edges[0].targetEndpoint().y, desiredDistance, edges[0].source().id() == node.id() ? \"source\" : \"target\");\n      var cloneEdge = edges[0].clone();\n      //cloneEdge.data().id = cloneEdge.data().id+ \"-\"+node.id()+'clone-0';\n\n      edges[0].remove();\n      cy.add(cloneEdge);\n      elementUtilities.setCloneMarkerStatus(node, true);\n      node.position({\n        x: newPosition.cx,\n        y: newPosition.cy\n      });\n      result.oldX = oldX;\n      result.oldY = oldY;\n      result.node = node;\n      result.numberOfEdges = edges.length;\n      return result;\n    };\n    undoRedoActionFunctions.unCloneHighDegreeNode = function (param) {\n      var node = param.node;\n      elementUtilities.setCloneMarkerStatus(node, false);\n      node.position({\n        x: param.oldX,\n        y: param.oldY\n      });\n      for (var i = 1; i < param.numberOfEdges; i++) {\n        var cloneId = node.id() + 'clone-' + i;\n        var clone = cy.$(\"#\" + cloneId);\n        var cloneEdge = clone.connectedEdges()[0];\n        var edge = cloneEdge.clone();\n        if (edge.data().source == cloneId) {\n          edge.data().source = node.id();\n          edge.data().portsource = node.id();\n        } else {\n          edge.data().target = node.id();\n          edge.data().porttarget = node.id();\n        }\n        cloneEdge.remove();\n        clone.remove();\n        cy.add(edge);\n      }\n      return node;\n    };\n    undoRedoActionFunctions.changeMapType = function (param) {\n      var result = {};\n      var currentMapType = elementUtilities.getMapType();\n      elementUtilities.setMapType(param.mapType);\n      result.mapType = currentMapType;\n      result.callback = param.callback;\n      param.callback();\n      return result;\n    };\n  }\n  return undoRedoActionFunctionsExtender;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbGl0aWVzL3VyLWFjdGlvbi1mdW5jdGlvbnMtZXh0ZW5kZXItZmFjdG9yeS5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBLElBQUlBLElBQUksR0FBR0Msd0ZBQWtDLENBQUMsQ0FBQztBQUUvQ0UsTUFBTSxDQUFDQyxPQUFPLEdBQUcsWUFBWTtFQUUzQixJQUFJQyxlQUFlLEVBQUVDLHVCQUF1QixFQUFFQyxnQkFBZ0IsRUFBRUMsRUFBRSxFQUFFQyxnQkFBZ0I7RUFFcEYsU0FBU0MsK0JBQStCQSxDQUFFQyxLQUFLLEVBQUU7SUFFL0NOLGVBQWUsR0FBR00sS0FBSyxDQUFDQyx3QkFBd0IsQ0FBQ0MsV0FBVyxDQUFDLENBQUM7SUFDOURMLEVBQUUsR0FBR0csS0FBSyxDQUFDQyx3QkFBd0IsQ0FBQ0UsS0FBSyxDQUFDLENBQUM7SUFDM0NSLHVCQUF1QixHQUFHRCxlQUFlLENBQUNDLHVCQUF1QjtJQUNqRUMsZ0JBQWdCLEdBQUdJLEtBQUssQ0FBQ0osZ0JBQWdCO0lBQ3pDRSxnQkFBZ0IsR0FBR0UsS0FBSyxDQUFDSSxtQkFBbUI7SUFFNUNDLE1BQU0sQ0FBQyxDQUFDO0VBQ1Y7O0VBRUE7RUFDQSxTQUFTQSxNQUFNQSxDQUFBLEVBQUk7SUFFakJWLHVCQUF1QixDQUFDVyx3QkFBd0IsR0FBRyxVQUFTTixLQUFLLEVBQUU7TUFDakUsSUFBSU8sT0FBTyxFQUFFQyxPQUFPO01BQ3BCLElBQUtSLEtBQUssQ0FBQ1MsU0FBUyxFQUFHO1FBQ3JCRixPQUFPLEdBQUdWLEVBQUUsQ0FBQ2EsUUFBUSxDQUFDLENBQUM7UUFFdkIsSUFBSVYsS0FBSyxDQUFDVyxLQUFLLEVBQUU7VUFDZmIsZ0JBQWdCLENBQUNhLEtBQUssQ0FBQyxDQUFDO1FBQzFCLENBQUMsTUFDSTtVQUNIYixnQkFBZ0IsQ0FBQ2MsT0FBTyxDQUFDLENBQUM7UUFDNUI7UUFFQUosT0FBTyxHQUFHWCxFQUFFLENBQUNhLFFBQVEsQ0FBQyxDQUFDO01BQ3pCLENBQUMsTUFDSTtRQUNISCxP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SSxDQUFDbEYsRUFBRSxDQUFDLENBQUM7UUFDckMsQ0FBQyxNQUFJO1VBQ0h3TCxJQUFJLENBQUN0SyxJQUFJLENBQUMsQ0FBQyxDQUFDVixNQUFNLEdBQUkwRSxJQUFJLENBQUNsRixFQUFFLENBQUMsQ0FBQztVQUMvQndMLElBQUksQ0FBQ3RLLElBQUksQ0FBQyxDQUFDLENBQUNpTCxVQUFVLEdBQUlqSCxJQUFJLENBQUNsRixFQUFFLENBQUMsQ0FBQztRQUNyQztRQUVBNlAsU0FBUyxDQUFDclEsTUFBTSxDQUFDLENBQUM7UUFDbEJ5TixLQUFLLENBQUN6TixNQUFNLENBQUMsQ0FBQztRQUVkbkIsRUFBRSxDQUFDeUQsR0FBRyxDQUFDMEosSUFBSSxDQUFDO01BQ2Q7TUFFQSxPQUFPdEcsSUFBSTtJQUNiLENBQUM7SUFFRC9HLHVCQUF1QixDQUFDOFIsYUFBYSxHQUFHLFVBQVN6UixLQUFLLEVBQUM7TUFDckQsSUFBSW1CLE1BQU0sR0FBRSxDQUFDLENBQUM7TUFDZCxJQUFJdVEsY0FBYyxHQUFHOVIsZ0JBQWdCLENBQUNpTixVQUFVLENBQUMsQ0FBQztNQUNsRGpOLGdCQUFnQixDQUFDa04sVUFBVSxDQUFDOU0sS0FBSyxDQUFDNE0sT0FBTyxDQUFDO01BQzFDekwsTUFBTSxDQUFDeUwsT0FBTyxHQUFHOEUsY0FBYztNQUMvQnZRLE1BQU0sQ0FBQ3FILFFBQVEsR0FBR3hJLEtBQUssQ0FBQ3dJLFFBQVE7TUFDaEN4SSxLQUFLLENBQUN3SSxRQUFRLENBQUMsQ0FBQztNQUNoQixPQUFPckgsTUFBTTtJQUNmLENBQUM7RUFFRDtFQUVBLE9BQU9wQiwrQkFBK0I7QUFDeEMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NoaXNlLy4vc3JjL3V0aWxpdGllcy91ci1hY3Rpb24tZnVuY3Rpb25zLWV4dGVuZGVyLWZhY3RvcnkuanM/M2I1NyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBFeHRlbmRzIHNiZ252aXoudW5kb1JlZG9BY3Rpb25GdW5jdGlvbnNcclxudmFyIGxpYnMgPSByZXF1aXJlKCcuL2xpYi11dGlsaXRpZXMnKS5nZXRMaWJzKCk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgdmFyIHNiZ252aXpJbnN0YW5jZSwgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMsIGVsZW1lbnRVdGlsaXRpZXMsIGN5LCB0b3BvbG9neUdyb3VwaW5nO1xyXG5cclxuICBmdW5jdGlvbiB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9uc0V4dGVuZGVyIChwYXJhbSkge1xyXG5cclxuICAgIHNiZ252aXpJbnN0YW5jZSA9IHBhcmFtLnNiZ252aXpJbnN0YW5jZVV0aWxpdGllcy5nZXRJbnN0YW5jZSgpO1xyXG4gICAgY3kgPSBwYXJhbS5zYmdudml6SW5zdGFuY2VVdGlsaXRpZXMuZ2V0Q3koKTtcclxuICAgIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zID0gc2JnbnZpekluc3RhbmNlLnVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zO1xyXG4gICAgZWxlbWVudFV0aWxpdGllcyA9IHBhcmFtLmVsZW1lbnRVdGlsaXRpZXM7XHJcbiAgICB0b3BvbG9neUdyb3VwaW5nID0gcGFyYW0uc2lmVG9wb2xvZ3lHcm91cGluZztcclxuXHJcbiAgICBleHRlbmQoKTtcclxuICB9XHJcblxyXG4gIC8vIEV4dGVuZHMgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMgd2l0aCBjaGlzZSBzcGVjaWZpYyBmZWF0dXJlc1xyXG4gIGZ1bmN0aW9uIGV4dGVuZCAoKSB7XHJcblxyXG4gICAgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuYXBwbHlTSUZUb3BvbG9neUdyb3VwaW5nID0gZnVuY3Rpb24ocGFyYW0pIHtcclxuICAgICAgdmFyIG9sZEVsZXMsIG5ld0VsZXM7XHJcbiAgICAgIGlmICggcGFyYW0uZmlyc3RUaW1lICkge1xyXG4gICAgICAgIG9sZEVsZXMgPSBjeS5lbGVtZW50cygpO1xyXG5cclxuICAgICAgICBpZiAocGFyYW0uYXBwbHkpIHtcclxuICAgICAgICAgIHRvcG9sb2d5R3JvdXBpbmcuYXBwbHkoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICB0b3BvbG9neUdyb3VwaW5nLnVuYXBwbHkoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG5ld0VsZXMgPSBjeS5lbGVtZW50cygpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIG9sZEVsZXMgPSBwYXJhbS5vbGRFbGVzO1xyXG4gICAgICAgIG5ld0VsZXMgPSBwYXJhbS5uZXdFbGVzO1xyXG5cclxuICAgICAgICBpZiAoIGVsZW1lbnRVdGlsaXRpZXMuaXNHcmFwaFRvcG9sb2d5TG9ja2VkKCkgKSB7XHJcbiAgICAgICAgICBlbGVtZW50VXRpbGl0aWVzLnVubG9ja0dyYXBoVG9wb2xvZ3koKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBlbGVtZW50VXRpbGl0aWVzLmxvY2tHcmFwaFRvcG9sb2d5KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBvbGRFbGVzLnJlbW92ZSgpO1xyXG4gICAgICAgIG5ld0VsZXMucmVzdG9yZSgpO1xyXG5cclxuICAgICAgICB0b3BvbG9neUdyb3VwaW5nLnRvZ2dsZUFwcGxpZWRGbGFnKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciByZXN1bHQgPSB7IG9sZEVsZXM6IG5ld0VsZXMsIG5ld0VsZXM6IG9sZEVsZXMgfTtcclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcblxyXG4gICAgLy8gU2VjdGlvbiBTdGFydFxyXG4gICAgLy8gYWRkL3JlbW92ZSBhY3Rpb24gZnVuY3Rpb25zXHJcblxyXG4gICAgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuYWRkTm9kZSA9IGZ1bmN0aW9uIChwYXJhbSkge1xyXG4gICAgICB2YXIgcmVzdWx0O1xyXG4gICAgICBpZiAocGFyYW0uZmlyc3RUaW1lKSB7XHJcbiAgICAgICAgdmFyIG5ld05vZGUgPSBwYXJhbS5uZXdOb2RlO1xyXG4gICAgICAgIHJlc3VsdCA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkTm9kZShuZXdOb2RlLngsIG5ld05vZGUueSwgbmV3Tm9kZS5jbGFzcywgbmV3Tm9kZS5pZCwgbmV3Tm9kZS5wYXJlbnQsIG5ld05vZGUudmlzaWJpbGl0eSk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgcmVzdWx0ID0gZWxlbWVudFV0aWxpdGllcy5yZXN0b3JlRWxlcyhwYXJhbSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgZWxlczogcmVzdWx0XHJcbiAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmFkZEVkZ2UgPSBmdW5jdGlvbiAocGFyYW0pIHtcclxuICAgICAgdmFyIHJlc3VsdDtcclxuICAgICAgaWYgKHBhcmFtLmZpcnN0VGltZSkge1xyXG4gICAgICAgIHZhciBuZXdFZGdlID0gcGFyYW0ubmV3RWRnZTtcclxuICAgICAgICByZXN1bHQgPSBlbGVtZW50VXRpbGl0aWVzLmFkZEVkZ2UobmV3RWRnZS5zb3VyY2UsIG5ld0VkZ2UudGFyZ2V0LCBuZXdFZGdlLmNsYXNzLCBuZXdFZGdlLmlkLCBuZXdFZGdlLnZpc2liaWxpdHkpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHJlc3VsdCA9IGVsZW1lbnRVdGlsaXRpZXMucmVzdG9yZUVsZXMocGFyYW0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGVsZXM6IHJlc3VsdFxyXG4gICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5hZGRQcm9jZXNzV2l0aENvbnZlbmllbnRFZGdlcyA9IGZ1bmN0aW9uKHBhcmFtKSB7XHJcbiAgICAgIHZhciByZXN1bHQ7XHJcbiAgICAgIGlmIChwYXJhbS5maXJzdFRpbWUpIHtcclxuICAgICAgICByZXN1bHQgPSBlbGVtZW50VXRpbGl0aWVzLmFkZFByb2Nlc3NXaXRoQ29udmVuaWVudEVkZ2VzKHBhcmFtLnNvdXJjZSwgcGFyYW0udGFyZ2V0LCBwYXJhbS5wcm9jZXNzVHlwZSk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgcmVzdWx0ID0gZWxlbWVudFV0aWxpdGllcy5yZXN0b3JlRWxlcyhwYXJhbSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgZWxlczogcmVzdWx0XHJcbiAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmNyZWF0ZUNvbXBvdW5kRm9yR2l2ZW5Ob2RlcyA9IGZ1bmN0aW9uIChwYXJhbSkge1xyXG4gICAgICB2YXIgcmVzdWx0ID0ge307XHJcblxyXG4gICAgICBpZiAocGFyYW0uZmlyc3RUaW1lKSB7XHJcbiAgICAgICAgLy8gTm9kZXMgdG8gbWFrZSBjb21wb3VuZCwgdGhlaXIgZGVzY2VuZGFudHMgYW5kIGVkZ2VzIGNvbm5lY3RlZCB0byB0aGVtIHdpbGwgYmUgcmVtb3ZlZCBkdXJpbmcgY3JlYXRlQ29tcG91bmRGb3JHaXZlbk5vZGVzIG9wZXJhdGlvblxyXG4gICAgICAgIC8vIChpbnRlcm5hbGx5IGJ5IGVsZXMubW92ZSgpIG9wZXJhdGlvbiksIHNvIG1hcmsgdGhlbSBhcyByZW1vdmVkIGVsZXMgZm9yIHVuZG8gb3BlcmF0aW9uLlxyXG4gICAgICAgIHZhciBub2Rlc1RvTWFrZUNvbXBvdW5kID0gcGFyYW0ubm9kZXNUb01ha2VDb21wb3VuZDtcclxuICAgICAgICB2YXIgcmVtb3ZlZEVsZXMgPSBub2Rlc1RvTWFrZUNvbXBvdW5kLnVuaW9uKG5vZGVzVG9NYWtlQ29tcG91bmQuZGVzY2VuZGFudHMoKSk7XHJcbiAgICAgICAgcmVtb3ZlZEVsZXMgPSByZW1vdmVkRWxlcy51bmlvbihyZW1vdmVkRWxlcy5jb25uZWN0ZWRFZGdlcygpKTtcclxuICAgICAgICByZXN1bHQucmVtb3ZlZEVsZXMgPSByZW1vdmVkRWxlcztcclxuICAgICAgICAvLyBBc3N1bWUgdGhhdCBhbGwgbm9kZXMgdG8gbWFrZSBjb21wb3VuZCBoYXZlIHRoZSBzYW1lIHBhcmVudFxyXG4gICAgICAgIHZhciBvbGRQYXJlbnRJZCA9IG5vZGVzVG9NYWtlQ29tcG91bmRbMF0uZGF0YShcInBhcmVudFwiKTtcclxuICAgICAgICAvLyBUaGUgcGFyZW50IG9mIG5ldyBjb21wb3VuZCB3aWxsIGJlIHRoZSBvbGQgcGFyZW50IG9mIHRoZSBub2RlcyB0byBtYWtlIGNvbXBvdW5kXHJcbiAgICAgICAgLy8gTmV3IGVsZXMgaW5jbHVkZXMgbmV3IGNvbXBvdW5kIGFuZCB0aGUgbW92ZWQgZWxlcyBhbmQgd2lsbCBiZSB1c2VkIGluIHVuZG8gb3BlcmF0aW9uLlxyXG4gICAgICAgIHJlc3VsdC5uZXdFbGVzID0gZWxlbWVudFV0aWxpdGllcy5jcmVhdGVDb21wb3VuZEZvckdpdmVuTm9kZXMobm9kZXNUb01ha2VDb21wb3VuZCwgcGFyYW0uY29tcG91bmRUeXBlKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICByZXN1bHQucmVtb3ZlZEVsZXMgPSBwYXJhbS5uZXdFbGVzLnJlbW92ZSgpO1xyXG4gICAgICAgIHJlc3VsdC5uZXdFbGVzID0gcGFyYW0ucmVtb3ZlZEVsZXMucmVzdG9yZSgpO1xyXG4gICAgICAgIGVsZW1lbnRVdGlsaXRpZXMubWFpbnRhaW5Qb2ludGVyKHJlc3VsdC5uZXdFbGVzKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcblxyXG4gICAgLy8gU2VjdGlvbiBFbmRcclxuICAgIC8vIGFkZC9yZW1vdmUgYWN0aW9uIGZ1bmN0aW9uc1xyXG5cclxuICAgIC8vIFNlY3Rpb24gU3RhcnRcclxuICAgIC8vIGVhc3kgY3JlYXRpb24gYWN0aW9uIGZ1bmN0aW9uc1xyXG5cclxuICAgIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmNyZWF0ZVRlbXBsYXRlUmVhY3Rpb24gPSBmdW5jdGlvbiAocGFyYW0pIHtcclxuICAgICAgdmFyIGZpcnN0VGltZSA9IHBhcmFtLmZpcnN0VGltZTtcclxuICAgICAgdmFyIGVsZXM7XHJcblxyXG4gICAgICBpZiAoZmlyc3RUaW1lKSB7XHJcbiAgICAgICAgZWxlcyA9IGVsZW1lbnRVdGlsaXRpZXMuY3JlYXRlVGVtcGxhdGVSZWFjdGlvbihwYXJhbS50ZW1wbGF0ZVR5cGUsIHBhcmFtLm1hY3JvbW9sZWN1bGVMaXN0LCBwYXJhbS5jb21wbGV4TmFtZSwgcGFyYW0ucHJvY2Vzc1Bvc2l0aW9uLCBwYXJhbS50aWxpbmdQYWRkaW5nVmVydGljYWwsIHBhcmFtLnRpbGluZ1BhZGRpbmdIb3Jpem9udGFsLCBwYXJhbS5lZGdlTGVuZ3RoLCBwYXJhbS5sYXlvdXRQYXJhbSlcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBlbGVzID0gcGFyYW07XHJcbiAgICAgICAgY3kuYWRkKGVsZXMpO1xyXG5cclxuICAgICAgICBjeS5lbGVtZW50cygpLnVuc2VsZWN0KCk7XHJcbiAgICAgICAgZWxlcy5zZWxlY3QoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBlbGVzOiBlbGVzXHJcbiAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmNyZWF0ZUFjdGl2YXRpb25SZWFjdGlvbiA9IGZ1bmN0aW9uKHBhcmFtKSB7XHJcbiAgICAgIHZhciBmaXJzdFRpbWUgPSBwYXJhbS5maXJzdFRpbWU7XHJcbiAgICAgIHZhciBlbGVzO1xyXG5cclxuICAgICAgaWYgKGZpcnN0VGltZSkge1xyXG4gICAgICAgIGVsZXMgPSBlbGVtZW50VXRpbGl0aWVzLmNyZWF0ZUFjdGl2YXRpb25SZWFjdGlvbihwYXJhbS5wcm90ZWluTmFtZSwgcGFyYW0ucHJvY2Vzc1Bvc2l0aW9uLCBwYXJhbS5lZGdlTGVuZ3RoLCBwYXJhbS5yZXZlcnNlKVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGVsZXMgPSBwYXJhbTtcclxuICAgICAgICBjeS5hZGQoZWxlcyk7XHJcblxyXG4gICAgICAgIGN5LmVsZW1lbnRzKCkudW5zZWxlY3QoKTtcclxuICAgICAgICBlbGVzLnNlbGVjdCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGVsZXM6IGVsZXNcclxuICAgICAgfTtcclxuICAgIH07XHJcblxyXG4gICAgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuY3JlYXRlVHJhbnNsYXRpb24gPSBmdW5jdGlvbihwYXJhbSkge1xyXG4gICAgICBsZXQgZmlyc3RUaW1lID0gcGFyYW0uZmlyc3RUaW1lO1xyXG4gICAgICBsZXQgZWxlcztcclxuXHJcbiAgICAgIGlmIChmaXJzdFRpbWUpIHtcclxuICAgICAgICBlbGVzID0gZWxlbWVudFV0aWxpdGllcy5jcmVhdGVUcmFuc2xhdGlvbihwYXJhbS5yZWd1bGF0b3JMYWJlbCwgcGFyYW0ub3V0cHV0TGFiZWwsIHBhcmFtLm9yaWVudGF0aW9uKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBlbGVzID0gcGFyYW07XHJcbiAgICAgICAgY3kuYWRkKGVsZXMpO1xyXG5cclxuICAgICAgICBjeS5lbGVtZW50cygpLnVuc2VsZWN0KCk7XHJcbiAgICAgICAgZWxlcy5zZWxlY3QoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBlbGVzOiBlbGVzXHJcbiAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmNyZWF0ZVRyYW5zY3JpcHRpb24gPSBmdW5jdGlvbihwYXJhbSkge1xyXG4gICAgICBsZXQgZmlyc3RUaW1lID0gcGFyYW0uZmlyc3RUaW1lO1xyXG4gICAgICBsZXQgZWxlcztcclxuXHJcbiAgICAgIGlmIChmaXJzdFRpbWUpIHtcclxuICAgICAgICBlbGVzID0gZWxlbWVudFV0aWxpdGllcy5jcmVhdGVUcmFuc2NyaXB0aW9uKHBhcmFtLmxhYmVsLCBwYXJhbS5vcmllbnRhdGlvbik7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgZWxlcyA9IHBhcmFtO1xyXG4gICAgICAgIGN5LmFkZChlbGVzKTtcclxuXHJcbiAgICAgICAgY3kuZWxlbWVudHMoKS51bnNlbGVjdCgpO1xyXG4gICAgICAgIGVsZXMuc2VsZWN0KCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgZWxlczogZWxlc1xyXG4gICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5jcmVhdGVEZWdyYWRhdGlvbiA9IGZ1bmN0aW9uKHBhcmFtKSB7XHJcbiAgICAgIGxldCBmaXJzdFRpbWUgPSBwYXJhbS5maXJzdFRpbWU7XHJcbiAgICAgIGxldCBlbGVzO1xyXG5cclxuICAgICAgaWYgKGZpcnN0VGltZSkge1xyXG4gICAgICAgIGVsZXMgPSBlbGVtZW50VXRpbGl0aWVzLmNyZWF0ZURlZ3JhZGF0aW9uKHBhcmFtLm1hY3JvbW9sZWN1bGUsIHBhcmFtLm9yaWVudGF0aW9uKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBlbGVzID0gcGFyYW07XHJcbiAgICAgICAgY3kuYWRkKGVsZXMpO1xyXG5cclxuICAgICAgICBjeS5lbGVtZW50cygpLnVuc2VsZWN0KCk7XHJcbiAgICAgICAgZWxlcy5zZWxlY3QoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBlbGVzOiBlbGVzXHJcbiAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmNyZWF0ZUNvbXBsZXhQcm90ZWluRm9ybWF0aW9uID0gZnVuY3Rpb24ocGFyYW0pIHtcclxuICAgICAgbGV0IGZpcnN0VGltZSA9IHBhcmFtLmZpcnN0VGltZTtcclxuICAgICAgbGV0IGVsZXM7XHJcblxyXG4gICAgICBpZiAoZmlyc3RUaW1lKSB7XHJcbiAgICAgICAgZWxlcyA9IGVsZW1lbnRVdGlsaXRpZXMuY3JlYXRlQ29tcGxleFByb3RlaW5Gb3JtYXRpb24ocGFyYW0ucHJvdGVpbkxhYmVscywgcGFyYW0uY29tcGxleExhYmVsLCBwYXJhbS5yZWd1bGF0b3IsIHBhcmFtLm9yaWVudGF0aW9uLCBwYXJhbS5yZXZlcnNlKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBlbGVzID0gcGFyYW07XHJcbiAgICAgICAgY3kuYWRkKGVsZXMpO1xyXG5cclxuICAgICAgICBjeS5lbGVtZW50cygpLnVuc2VsZWN0KCk7XHJcbiAgICAgICAgZWxlcy5zZWxlY3QoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBlbGVzOiBlbGVzXHJcbiAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmNyZWF0ZU11bHRpbWVyaXphdGlvbiA9IGZ1bmN0aW9uKHBhcmFtKSB7XHJcbiAgICAgIGxldCBmaXJzdFRpbWUgPSBwYXJhbS5maXJzdFRpbWU7XHJcbiAgICAgIGxldCBlbGVzO1xyXG5cclxuICAgICAgaWYgKGZpcnN0VGltZSkge1xyXG4gICAgICAgIGVsZXMgPSBlbGVtZW50VXRpbGl0aWVzLmNyZWF0ZU11bHRpbWVyaXphdGlvbihwYXJhbS5tYWNyb21vbGVjdWxlLCBwYXJhbS5yZWd1bGF0b3IsIHBhcmFtLnJlZ3VsYXRvck11bHRpbWVyLCBwYXJhbS5vcmllbnRhdGlvbik7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgZWxlcyA9IHBhcmFtO1xyXG4gICAgICAgIGN5LmFkZChlbGVzKTtcclxuXHJcbiAgICAgICAgY3kuZWxlbWVudHMoKS51bnNlbGVjdCgpO1xyXG4gICAgICAgIGVsZXMuc2VsZWN0KCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgZWxlczogZWxlc1xyXG4gICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5jcmVhdGVDb252ZXJzaW9uID0gZnVuY3Rpb24ocGFyYW0pIHtcclxuICAgICAgbGV0IGZpcnN0VGltZSA9IHBhcmFtLmZpcnN0VGltZTtcclxuICAgICAgbGV0IGVsZXM7XHJcblxyXG4gICAgICBpZiAoZmlyc3RUaW1lKSB7XHJcbiAgICAgICAgZWxlcyA9IGVsZW1lbnRVdGlsaXRpZXMuY3JlYXRlQ29udmVyc2lvbihwYXJhbS5tYWNyb21vbGVjdWxlLCBwYXJhbS5yZWd1bGF0b3IsIHBhcmFtLnJlZ3VsYXRvck11bHRpbWVyLCBwYXJhbS5vcmllbnRhdGlvbiwgcGFyYW0uaW5wdXRJbmZvYm94TGFiZWxzLCBwYXJhbS5vdXRwdXRJbmZvYm94TGFiZWxzKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBlbGVzID0gcGFyYW07XHJcbiAgICAgICAgY3kuYWRkKGVsZXMpO1xyXG5cclxuICAgICAgICBjeS5lbGVtZW50cygpLnVuc2VsZWN0KCk7XHJcbiAgICAgICAgZWxlcy5zZWxlY3QoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBlbGVzOiBlbGVzXHJcbiAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmNyZWF0ZU1ldGFib2xpY1JlYWN0aW9uID0gZnVuY3Rpb24ocGFyYW0pIHtcclxuICAgICAgbGV0IGZpcnN0VGltZSA9IHBhcmFtLmZpcnN0VGltZTtcclxuICAgICAgbGV0IGVsZXM7XHJcblxyXG4gICAgICBpZiAoZmlyc3RUaW1lKSB7XHJcbiAgICAgICAgZWxlcyA9IGVsZW1lbnRVdGlsaXRpZXMuY3JlYXRlTWV0YWJvbGljUmVhY3Rpb24ocGFyYW0uaW5wdXRzLCBwYXJhbS5vdXRwdXRzLCBwYXJhbS5yZXZlcnNpYmxlLCBwYXJhbS5yZWd1bGF0b3IsIHBhcmFtLnJlZ3VsYXRvck11bHRpbWVyLCBwYXJhbS5vcmllbnRhdGlvbik7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgZWxlcyA9IHBhcmFtO1xyXG4gICAgICAgIGN5LmFkZChlbGVzKTtcclxuXHJcbiAgICAgICAgY3kuZWxlbWVudHMoKS51bnNlbGVjdCgpO1xyXG4gICAgICAgIGVsZXMuc2VsZWN0KCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgZWxlczogZWxlc1xyXG4gICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5jcmVhdGVNZXRhYm9saWNDYXRhbHl0aWNBY3Rpdml0eSA9IGZ1bmN0aW9uKHBhcmFtKSB7XHJcbiAgICAgIHZhciBmaXJzdFRpbWUgPSBwYXJhbS5maXJzdFRpbWU7XHJcbiAgICAgIHZhciBlbGVzO1xyXG5cclxuICAgICAgaWYgKGZpcnN0VGltZSkge1xyXG4gICAgICAgIGVsZXMgPSBlbGVtZW50VXRpbGl0aWVzLmNyZWF0ZU1ldGFib2xpY0NhdGFseXRpY0FjdGl2aXR5KHBhcmFtLmlucHV0Tm9kZUxpc3QsIHBhcmFtLm91dHB1dE5vZGVMaXN0LCBwYXJhbS5jYXRhbHlzdE5hbWUsIHBhcmFtLmNhdGFseXN0VHlwZSwgcGFyYW0ucHJvY2Vzc1Bvc2l0aW9uLCBwYXJhbS50aWxpbmdQYWRkaW5nVmVydGljYWwsIHBhcmFtLnRpbGluZ1BhZGRpbmdIb3Jpem9udGFsLCBwYXJhbS5lZGdlTGVuZ3RoKVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGVsZXMgPSBwYXJhbTtcclxuICAgICAgICBjeS5hZGQoZWxlcyk7XHJcblxyXG4gICAgICAgIGN5LmVsZW1lbnRzKCkudW5zZWxlY3QoKTtcclxuICAgICAgICBlbGVzLnNlbGVjdCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGVsZXM6IGVsZXNcclxuICAgICAgfTtcclxuICAgIH07XHJcblxyXG4gICAgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuY3JlYXRlVHJhbnNjcmlwdGlvblJlYWN0aW9uID0gZnVuY3Rpb24ocGFyYW0pIHtcclxuICAgICAgdmFyIGZpcnN0VGltZSA9IHBhcmFtLmZpcnN0VGltZTtcclxuICAgICAgdmFyIGVsZXM7XHJcblxyXG4gICAgICBpZiAoZmlyc3RUaW1lKSB7XHJcbiAgICAgICAgZWxlcyA9IGVsZW1lbnRVdGlsaXRpZXMuY3JlYXRlVHJhbnNjcmlwdGlvblJlYWN0aW9uKHBhcmFtLmdlbmVOYW1lLCBwYXJhbS5tUm5hTmFtZSwgcGFyYW0ucHJvY2Vzc1Bvc2l0aW9uLCBwYXJhbS5lZGdlTGVuZ3RoKVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGVsZXMgPSBwYXJhbTtcclxuICAgICAgICBjeS5hZGQoZWxlcyk7XHJcblxyXG4gICAgICAgIGN5LmVsZW1lbnRzKCkudW5zZWxlY3QoKTtcclxuICAgICAgICBlbGVzLnNlbGVjdCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGVsZXM6IGVsZXNcclxuICAgICAgfTtcclxuICAgIH07XHJcblxyXG4gICAgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuY3JlYXRlVHJhbnNsYXRpb25SZWFjdGlvbiA9IGZ1bmN0aW9uKHBhcmFtKSB7XHJcbiAgICAgIHZhciBmaXJzdFRpbWUgPSBwYXJhbS5maXJzdFRpbWU7XHJcbiAgICAgIHZhciBlbGVzO1xyXG5cclxuICAgICAgaWYgKGZpcnN0VGltZSkge1xyXG4gICAgICAgIGVsZXMgPSBlbGVtZW50VXRpbGl0aWVzLmNyZWF0ZVRyYW5zbGF0aW9uUmVhY3Rpb24ocGFyYW0ubVJuYU5hbWUsIHBhcmFtLnByb3RlaW5OYW1lLCBwYXJhbS5wcm9jZXNzUG9zaXRpb24sIHBhcmFtLmVkZ2VMZW5ndGgpXHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgZWxlcyA9IHBhcmFtO1xyXG4gICAgICAgIGN5LmFkZChlbGVzKTtcclxuXHJcbiAgICAgICAgY3kuZWxlbWVudHMoKS51bnNlbGVjdCgpO1xyXG4gICAgICAgIGVsZXMuc2VsZWN0KCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgZWxlczogZWxlc1xyXG4gICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBTZWN0aW9uIEVuZFxyXG4gICAgLy8gZWFzeSBjcmVhdGlvbiBhY3Rpb24gZnVuY3Rpb25zXHJcblxyXG4gICAgLy8gU2VjdGlvbiBTdGFydFxyXG4gICAgLy8gZ2VuZXJhbCBhY3Rpb24gZnVuY3Rpb25zXHJcblxyXG4gICAgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuZ2V0Tm9kZVBvc2l0aW9ucyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIHBvc2l0aW9ucyA9IHt9O1xyXG4gICAgICB2YXIgbm9kZXMgPSBjeS5ub2RlcygpO1xyXG5cclxuICAgICAgbm9kZXMuZWFjaChmdW5jdGlvbihlbGUsIGkpIHtcclxuICAgICAgICBpZih0eXBlb2YgZWxlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICBlbGUgPSBpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcG9zaXRpb25zW2VsZS5pZCgpXSA9IHtcclxuICAgICAgICAgIHg6IGVsZS5wb3NpdGlvbihcInhcIiksXHJcbiAgICAgICAgICB5OiBlbGUucG9zaXRpb24oXCJ5XCIpXHJcbiAgICAgICAgfTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gcG9zaXRpb25zO1xyXG4gICAgfTtcclxuXHJcbiAgICB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5yZXR1cm5Ub1Bvc2l0aW9ucyA9IGZ1bmN0aW9uIChwb3NpdGlvbnMpIHtcclxuICAgICAgdmFyIGN1cnJlbnRQb3NpdGlvbnMgPSB7fTtcclxuICAgICAgY3kubm9kZXMoKS5wb3NpdGlvbnMoZnVuY3Rpb24gKGVsZSwgaSkge1xyXG4gICAgICAgIGlmKHR5cGVvZiBlbGUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgIGVsZSA9IGk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjdXJyZW50UG9zaXRpb25zW2VsZS5pZCgpXSA9IHtcclxuICAgICAgICAgIHg6IGVsZS5wb3NpdGlvbihcInhcIiksXHJcbiAgICAgICAgICB5OiBlbGUucG9zaXRpb24oXCJ5XCIpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIHBvcyA9IHBvc2l0aW9uc1tlbGUuaWQoKV07XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHg6IHBvcy54LFxyXG4gICAgICAgICAgeTogcG9zLnlcclxuICAgICAgICB9O1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiBjdXJyZW50UG9zaXRpb25zO1xyXG4gICAgfTtcclxuXHJcbiAgICB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5yZXNpemVOb2RlcyA9IGZ1bmN0aW9uIChwYXJhbSkge1xyXG4gICAgICB2YXIgcmVzdWx0ID0ge1xyXG4gICAgICAgIHBlcmZvcm1PcGVyYXRpb246IHRydWVcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHZhciBub2RlcyA9IHBhcmFtLm5vZGVzO1xyXG5cclxuICAgICAgcmVzdWx0LnNpemVNYXAgPSB7fTtcclxuICAgICAgcmVzdWx0LnVzZUFzcGVjdFJhdGlvID0gZmFsc2U7XHJcbiAgICAgIHJlc3VsdC5wcmVzZXJ2ZVJlbGF0aXZlUG9zID0gcGFyYW0ucHJlc2VydmVSZWxhdGl2ZVBvcztcclxuXHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW2ldO1xyXG4gICAgICAgIGlmKG5vZGUuaXNQYXJlbnQoKSl7XHJcbiAgICAgICAgICByZXN1bHQuc2l6ZU1hcFtub2RlLmlkKCldID0ge1xyXG4gICAgICAgICAgICB3OiBub2RlLmRhdGEoXCJtaW5XaWR0aFwiKSB8fCAwLFxyXG4gICAgICAgICAgICBoOiBub2RlLmRhdGEoXCJtaW5IZWlnaHRcIikgfHwgMCxcclxuICAgICAgICAgICAgYmlhc0wgOiBub2RlLmRhdGEoXCJtaW5XaWR0aEJpYXNMZWZ0XCIpIHx8IDAsXHJcbiAgICAgICAgICAgIGJpYXNSIDogbm9kZS5kYXRhKFwibWluV2lkdGhCaWFzUmlnaHRcIikgfHwgMCxcclxuICAgICAgICAgICAgYmlhc1QgOiBub2RlLmRhdGEoXCJtaW5IZWlnaHRCaWFzVG9wXCIpIHx8IDAsXHJcbiAgICAgICAgICAgIGJpYXNCIDogbm9kZS5kYXRhKFwibWluSGVpZ2h0Qmlhc0JvdHRvbVwiKSB8fCAwXHJcbiAgICAgICAgICAgLy8gdzogbm9kZS5jc3MoXCJtaW5XaWR0aFwiKSAhPSAwPyAgbm9kZS5kYXRhKFwibWluV2lkdGhcIikgOiBub2RlLmNoaWxkcmVuKCkuYm91bmRpbmdCb3goKS53LFxyXG4gICAgICAgICAgICAvL2g6IG5vZGUuY3NzKFwibWluLWhlaWdodFwiKSAhPSAwPyAgbm9kZS5kYXRhKFwibWluSGVpZ2h0XCIpIDogbm9kZS5jaGlsZHJlbigpLmJvdW5kaW5nQm94KCkuaFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgIHJlc3VsdC5zaXplTWFwW25vZGUuaWQoKV0gPSB7XHJcbiAgICAgICAgICAgIHc6IG5vZGUud2lkdGgoKSxcclxuICAgICAgICAgICAgaDogbm9kZS5oZWlnaHQoKVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJlc3VsdC5ub2RlcyA9IG5vZGVzO1xyXG5cclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBub2RlID0gbm9kZXNbaV07XHJcblxyXG4gICAgICAgIGlmIChwYXJhbS5wZXJmb3JtT3BlcmF0aW9uKSB7XHJcbiAgICAgICAgICBpZiAocGFyYW0uc2l6ZU1hcCkge1xyXG4gICAgICAgICAgICAvKiBpZiAocGFyYW0ucHJlc2VydmVSZWxhdGl2ZVBvcyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgIHZhciBvbGRXaWR0aCA9IG5vZGUuZGF0YShcImJib3hcIikudztcclxuICAgICAgICAgICAgICB2YXIgb2xkSGVpZ2h0ID0gbm9kZS5kYXRhKFwiYmJveFwiKS5oO1xyXG4gICAgICAgICAgICB9ICovXHJcblxyXG4gICAgICAgICAgICBpZihub2RlLmlzUGFyZW50KCkpe1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIG5vZGUuZGF0YShcIm1pbkhlaWdodFwiICwgcGFyYW0uc2l6ZU1hcFtub2RlLmlkKCldLmgpO1xyXG4gICAgICAgICAgICAgIG5vZGUuZGF0YShcIm1pbldpZHRoXCIgLCBwYXJhbS5zaXplTWFwW25vZGUuaWQoKV0udyk7XHJcbiAgICAgICAgICAgICAgbm9kZS5kYXRhKFwibWluV2lkdGhCaWFzTGVmdFwiLCBwYXJhbS5zaXplTWFwW25vZGUuaWQoKV0uYmlhc0wpO1xyXG4gICAgICAgICAgICAgIG5vZGUuZGF0YShcIm1pbldpZHRoQmlhc1JpZ2h0XCIsIHBhcmFtLnNpemVNYXBbbm9kZS5pZCgpXS5iaWFzUik7XHJcbiAgICAgICAgICAgICAgbm9kZS5kYXRhKFwibWluSGVpZ2h0Qmlhc1RvcFwiLCBwYXJhbS5zaXplTWFwW25vZGUuaWQoKV0uYmlhc1QpO1xyXG4gICAgICAgICAgICAgIG5vZGUuZGF0YShcIm1pbkhlaWdodEJpYXNCb3R0b21cIiwgcGFyYW0uc2l6ZU1hcFtub2RlLmlkKCldLmJpYXNCKTtcclxuXHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgIG5vZGUuZGF0YShcImJib3hcIikudyA9IHBhcmFtLnNpemVNYXBbbm9kZS5pZCgpXS53O1xyXG4gICAgICAgICAgICAgIG5vZGUuZGF0YShcImJib3hcIikuaCA9IHBhcmFtLnNpemVNYXBbbm9kZS5pZCgpXS5oO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAvKiBpZiAocGFyYW0ucHJlc2VydmVSZWxhdGl2ZVBvcyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgIHZhciBzdGF0ZXNhbmRpbmZvcyA9IG5vZGUuZGF0YSgnc3RhdGVzYW5kaW5mb3MnKTtcclxuICAgICAgICAgICAgICB2YXIgdG9wQm90dG9tID0gc3RhdGVzYW5kaW5mb3MuZmlsdGVyKGJveCA9PiAoYm94LmFuY2hvclNpZGUgPT09IFwidG9wXCIgfHwgYm94LmFuY2hvclNpZGUgPT09IFwiYm90dG9tXCIpKTtcclxuICAgICAgICAgICAgICB2YXIgcmlnaHRMZWZ0ID0gc3RhdGVzYW5kaW5mb3MuZmlsdGVyKGJveCA9PiAoYm94LmFuY2hvclNpZGUgPT09IFwicmlnaHRcIiB8fCBib3guYW5jaG9yU2lkZSA9PT0gXCJsZWZ0XCIpKTtcclxuXHJcbiAgICAgICAgICAgICAgdG9wQm90dG9tLmZvckVhY2goZnVuY3Rpb24oYm94KXtcclxuICAgICAgICAgICAgICAgIGlmIChib3guYmJveC54IDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICBib3guYmJveC54ID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJveC5iYm94LnggPiBvbGRXaWR0aCkge1xyXG4gICAgICAgICAgICAgICAgICBib3guYmJveC54ID0gb2xkV2lkdGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBib3guYmJveC54ID0gbm9kZS5kYXRhKFwiYmJveFwiKS53ICogYm94LmJib3gueCAvIG9sZFdpZHRoO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICByaWdodExlZnQuZm9yRWFjaChmdW5jdGlvbihib3gpe1xyXG4gICAgICAgICAgICAgICAgaWYgKGJveC5iYm94LnkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgIGJveC5iYm94LnkgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYm94LmJib3gueSA+IG9sZEhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICBib3guYmJveC55ID0gb2xkSGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYm94LmJib3gueSA9IG5vZGUuZGF0YShcImJib3hcIikuaCAqIGJveC5iYm94LnkgLyBvbGRIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gKi9cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBlbGVtZW50VXRpbGl0aWVzLnJlc2l6ZU5vZGVzKHBhcmFtLm5vZGVzLCBwYXJhbS53aWR0aCwgcGFyYW0uaGVpZ2h0LCBwYXJhbS51c2VBc3BlY3RSYXRpbywgcGFyYW0ucHJlc2VydmVSZWxhdGl2ZVBvcyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGN5LnN0eWxlKCkudXBkYXRlKCk7XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmNoYW5nZU5vZGVMYWJlbCA9IGZ1bmN0aW9uIChwYXJhbSkge1xyXG4gICAgICB2YXIgcmVzdWx0ID0ge1xyXG4gICAgICB9O1xyXG4gICAgICB2YXIgbm9kZXMgPSBwYXJhbS5ub2RlcztcclxuICAgICAgcmVzdWx0Lm5vZGVzID0gbm9kZXM7XHJcbiAgICAgIHJlc3VsdC5sYWJlbCA9IHt9O1xyXG5cclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBub2RlID0gbm9kZXNbaV07XHJcbiAgICAgICAgcmVzdWx0LmxhYmVsW25vZGUuaWQoKV0gPSBub2RlLl9wcml2YXRlLmRhdGEubGFiZWw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChwYXJhbS5maXJzdFRpbWUpIHtcclxuICAgICAgICBub2Rlcy5kYXRhKCdsYWJlbCcsIHBhcmFtLmxhYmVsKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW2ldO1xyXG4gICAgICAgICAgbm9kZS5fcHJpdmF0ZS5kYXRhLmxhYmVsID0gcGFyYW0ubGFiZWxbbm9kZS5pZCgpXTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLnVwZGF0ZUluZm9ib3hTdHlsZSA9IGZ1bmN0aW9uIChwYXJhbSkge1xyXG4gICAgICB2YXIgcmVzdWx0ID0ge1xyXG4gICAgICB9O1xyXG4gICAgICB2YXIgc3R5bGUgPSBwYXJhbS5ub2RlLmRhdGEoJ3N0YXRlc2FuZGluZm9zJylbcGFyYW0uaW5kZXhdLnN0eWxlO1xyXG4gICAgICByZXN1bHQubmV3UHJvcHMgPSAkLmV4dGVuZCgge30sIHN0eWxlICk7XHJcbiAgICAgIHJlc3VsdC5ub2RlID0gcGFyYW0ubm9kZTtcclxuICAgICAgcmVzdWx0LmluZGV4ID0gcGFyYW0uaW5kZXg7XHJcblxyXG4gICAgICBlbGVtZW50VXRpbGl0aWVzLnVwZGF0ZUluZm9ib3hTdHlsZSggcGFyYW0ubm9kZSwgcGFyYW0uaW5kZXgsIHBhcmFtLm5ld1Byb3BzICk7XHJcblxyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy51cGRhdGVJbmZvYm94T2JqID0gZnVuY3Rpb24gKHBhcmFtKSB7XHJcbiAgICAgIHZhciByZXN1bHQgPSB7XHJcbiAgICAgIH07XHJcbiAgICAgIHZhciBvYmogPSBwYXJhbS5ub2RlLmRhdGEoJ3N0YXRlc2FuZGluZm9zJylbcGFyYW0uaW5kZXhdO1xyXG4gICAgICByZXN1bHQubmV3UHJvcHMgPSAkLmV4dGVuZCgge30sIG9iaiApO1xyXG4gICAgICByZXN1bHQubm9kZSA9IHBhcmFtLm5vZGU7XHJcbiAgICAgIHJlc3VsdC5pbmRleCA9IHBhcmFtLmluZGV4O1xyXG5cclxuICAgICAgZWxlbWVudFV0aWxpdGllcy51cGRhdGVJbmZvYm94T2JqKCBwYXJhbS5ub2RlLCBwYXJhbS5pbmRleCwgcGFyYW0ubmV3UHJvcHMgKTtcclxuXHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLnJlZ2VuZXJhdGVJZD1mdW5jdGlvbihwYXJhbSl7ICBcclxuICAgICAgdmFyIG5vZGVzID0gcGFyYW0ubm9kZXM7XHJcbiAgICAgIHZhciByZXN1bHQ9e307XHJcbiAgICAgIHJlc3VsdC5ub2Rlcz1ub2RlcztcclxuICAgICAgcmVzdWx0LmlkID0ge307XHJcbiAgICAgIGZvcihsZXQgaT0wO2k8bm9kZXMubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgdmFyIG5vZGUgPSBub2Rlc1tpXTtcclxuICAgICAgICByZXN1bHQuaWRbbm9kZS5pZCgpXSA9IG5vZGUuX3ByaXZhdGUuZGF0YS5pZDtcclxuICAgICAgICBub2RlLl9wcml2YXRlLmRhdGEuaWQgPSBwYXJhbS52YWx1ZTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5jaGFuZ2VEYXRhID0gZnVuY3Rpb24gKHBhcmFtKSB7XHJcbiAgICAgIHZhciByZXN1bHQgPSB7XHJcbiAgICAgIH07XHJcbiAgICAgIHZhciBlbGVzID0gcGFyYW0uZWxlcztcclxuICAgICAgcmVzdWx0Lm5hbWUgPSBwYXJhbS5uYW1lO1xyXG4gICAgICByZXN1bHQudmFsdWVNYXAgPSB7fTtcclxuICAgICAgcmVzdWx0LmVsZXMgPSBlbGVzO1xyXG5cclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGVsZSA9IGVsZXNbaV07XHJcbiAgICAgICAgcmVzdWx0LnZhbHVlTWFwW2VsZS5pZCgpXSA9IGVsZS5kYXRhKHBhcmFtLm5hbWUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBlbGVtZW50VXRpbGl0aWVzLmNoYW5nZURhdGEocGFyYW0uZWxlcywgcGFyYW0ubmFtZSwgcGFyYW0udmFsdWVNYXApO1xyXG5cclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcblxyXG4gICAgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMudXBkYXRlU2V0RmllbGQgPSBmdW5jdGlvbiggcGFyYW0gKSB7XHJcbiAgICAgIHZhciB1cGRhdGVzID0gZWxlbWVudFV0aWxpdGllcy51cGRhdGVTZXRGaWVsZCggcGFyYW0uZWxlLCBwYXJhbS5maWVsZE5hbWUsIHBhcmFtLnRvRGVsZXRlLCBwYXJhbS50b0FkZCwgcGFyYW0uY2FsbGJhY2sgKTtcclxuXHJcbiAgICAgIHZhciByZXN1bHQgPSB7XHJcbiAgICAgICAgZWxlOiBwYXJhbS5lbGUsXHJcbiAgICAgICAgZmllbGROYW1lOiBwYXJhbS5maWVsZE5hbWUsXHJcbiAgICAgICAgY2FsbGJhY2s6IHBhcmFtLmNhbGxiYWNrLFxyXG4gICAgICAgIHRvRGVsZXRlOiB1cGRhdGVzLmFkZGVkLFxyXG4gICAgICAgIHRvQWRkOiB1cGRhdGVzLmRlbGV0ZWRcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmNoYW5nZUNzcyA9IGZ1bmN0aW9uIChwYXJhbSkge1xyXG4gICAgICB2YXIgcmVzdWx0ID0ge1xyXG4gICAgICB9O1xyXG4gICAgICB2YXIgZWxlcyA9IHBhcmFtLmVsZXM7XHJcbiAgICAgIHJlc3VsdC5uYW1lID0gcGFyYW0ubmFtZTtcclxuICAgICAgcmVzdWx0LnZhbHVlTWFwID0ge307XHJcbiAgICAgIHJlc3VsdC5lbGVzID0gZWxlcztcclxuXHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBlbGUgPSBlbGVzW2ldO1xyXG4gICAgICAgIHJlc3VsdC52YWx1ZU1hcFtlbGUuaWQoKV0gPSBlbGUuY3NzKHBhcmFtLm5hbWUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBlbGVtZW50VXRpbGl0aWVzLmNoYW5nZUNzcyhwYXJhbS5lbGVzLCBwYXJhbS5uYW1lLCBwYXJhbS52YWx1ZU1hcCk7XHJcblxyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5jaGFuZ2VGb250UHJvcGVydGllcyA9IGZ1bmN0aW9uIChwYXJhbSkge1xyXG4gICAgICB2YXIgcmVzdWx0ID0ge1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdmFyIGVsZXMgPSBwYXJhbS5lbGVzO1xyXG4gICAgICByZXN1bHQuZGF0YSA9IHt9O1xyXG4gICAgICByZXN1bHQuZWxlcyA9IGVsZXM7XHJcblxyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgZWxlID0gZWxlc1tpXTtcclxuXHJcbiAgICAgICAgcmVzdWx0LmRhdGFbZWxlLmlkKCldID0ge307XHJcblxyXG4gICAgICAgIHZhciBkYXRhID0gcGFyYW0uZmlyc3RUaW1lID8gcGFyYW0uZGF0YSA6IHBhcmFtLmRhdGFbZWxlLmlkKCldO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBwcm9wIGluIGRhdGEpIHtcclxuICAgICAgICAgIHJlc3VsdC5kYXRhW2VsZS5pZCgpXVtwcm9wXSA9IGVsZS5kYXRhKHByb3ApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHBhcmFtLmZpcnN0VGltZSkge1xyXG4gICAgICAgIGVsZW1lbnRVdGlsaXRpZXMuY2hhbmdlRm9udFByb3BlcnRpZXMoZWxlcywgZGF0YSk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICB2YXIgZWxlID0gZWxlc1tpXTtcclxuXHJcbiAgICAgICAgICBlbGVtZW50VXRpbGl0aWVzLmNoYW5nZUZvbnRQcm9wZXJ0aWVzKGVsZSwgZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICAvKlxyXG4gICAgICogU2hvdyBlbGVzIGFuZCBwZXJmb3JtIGxheW91dC5cclxuICAgICAqL1xyXG4gICAgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuc2hvd0FuZFBlcmZvcm1MYXlvdXQgPSBmdW5jdGlvbiAocGFyYW0pIHtcclxuICAgICAgdmFyIGVsZXMgPSBwYXJhbS5lbGVzO1xyXG5cclxuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgICByZXN1bHQucG9zaXRpb25zID0gdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuZ2V0Tm9kZVBvc2l0aW9ucygpO1xyXG5cclxuICAgICAgaWYgKHBhcmFtLmZpcnN0VGltZSkge1xyXG4gICAgICAgIHJlc3VsdC5lbGVzID0gZWxlbWVudFV0aWxpdGllcy5zaG93QW5kUGVyZm9ybUxheW91dChwYXJhbS5lbGVzLCBwYXJhbS5sYXlvdXRwYXJhbSk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgcmVzdWx0LmVsZXMgPSBjeS52aWV3VXRpbGl0aWVzKCkuc2hvdyhlbGVzKTsgLy8gU2hvdyBnaXZlbiBlbGVzXHJcbiAgICAgICAgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMucmV0dXJuVG9Qb3NpdGlvbnMocGFyYW0ucG9zaXRpb25zKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcblxyXG4gICAgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMudW5kb1Nob3dBbmRQZXJmb3JtTGF5b3V0ID0gZnVuY3Rpb24gKHBhcmFtKSB7XHJcbiAgICAgIHZhciBlbGVzID0gcGFyYW0uZWxlcztcclxuXHJcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgICAgcmVzdWx0LnBvc2l0aW9ucyA9IHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmdldE5vZGVQb3NpdGlvbnMoKTtcclxuICAgICAgcmVzdWx0LmVsZXMgPSBjeS52aWV3VXRpbGl0aWVzKCkuaGlkZShlbGVzKTsgLy8gSGlkZSBwcmV2aW91c2x5IHVuaGlkZGVuIGVsZXM7XHJcblxyXG4gICAgICB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5yZXR1cm5Ub1Bvc2l0aW9ucyhwYXJhbS5wb3NpdGlvbnMpO1xyXG5cclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcblxyXG4gICAgLypcclxuICAgICAqIEhpZGUgZWxlcyBhbmQgcGVyZm9ybSBsYXlvdXQuXHJcbiAgICAgKi9cclxuICAgIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmhpZGVBbmRQZXJmb3JtTGF5b3V0ID0gZnVuY3Rpb24gKHBhcmFtKSB7XHJcbiAgICAgICAgdmFyIGVsZXMgPSBwYXJhbS5lbGVzO1xyXG5cclxuICAgICAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICAgICAgcmVzdWx0LnBvc2l0aW9ucyA9IHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmdldE5vZGVQb3NpdGlvbnMoKTtcclxuXHJcbiAgICAgICAgaWYgKHBhcmFtLmZpcnN0VGltZSkge1xyXG4gICAgICAgICAgICByZXN1bHQuZWxlcyA9IGVsZW1lbnRVdGlsaXRpZXMuaGlkZUFuZFBlcmZvcm1MYXlvdXQocGFyYW0uZWxlcywgcGFyYW0ubGF5b3V0cGFyYW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmVzdWx0LmVsZXMgPSBjeS52aWV3VXRpbGl0aWVzKCkuaGlkZShlbGVzKTsgLy8gSGlkZSBnaXZlbiBlbGVzXHJcbiAgICAgICAgICAgIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLnJldHVyblRvUG9zaXRpb25zKHBhcmFtLnBvc2l0aW9ucyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy51bmRvSGlkZUFuZFBlcmZvcm1MYXlvdXQgPSBmdW5jdGlvbiAocGFyYW0pIHtcclxuICAgICAgICB2YXIgZWxlcyA9IHBhcmFtLmVsZXM7XHJcblxyXG4gICAgICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgICAgICByZXN1bHQucG9zaXRpb25zID0gdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuZ2V0Tm9kZVBvc2l0aW9ucygpO1xyXG4gICAgICAgIHJlc3VsdC5lbGVzID0gY3kudmlld1V0aWxpdGllcygpLnNob3coZWxlcyk7IC8vIFNob3cgcHJldmlvdXNseSBoaWRkZW4gZWxlc1xyXG5cclxuICAgICAgICB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5yZXR1cm5Ub1Bvc2l0aW9ucyhwYXJhbS5wb3NpdGlvbnMpO1xyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICAvKlxyXG4gICAgICogRGVsZXRlIGVsZXMgYW5kIHBlcmZvcm0gbGF5b3V0LlxyXG4gICAgICovXHJcbiAgICB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5kZWxldGVBbmRQZXJmb3JtTGF5b3V0ID0gZnVuY3Rpb24gKHBhcmFtKSB7XHJcbiAgICAgIHZhciBlbGVzID0gcGFyYW0uZWxlcztcclxuXHJcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgICAgcmVzdWx0LnBvc2l0aW9ucyA9IHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmdldE5vZGVQb3NpdGlvbnMoKTtcclxuXHJcbiAgICAgIGlmIChwYXJhbS5maXJzdFRpbWUpIHtcclxuICAgICAgICAgIHJlc3VsdC5lbGVzID0gZWxlbWVudFV0aWxpdGllcy5kZWxldGVBbmRQZXJmb3JtTGF5b3V0KHBhcmFtLmVsZXMsIHBhcmFtLmxheW91dHBhcmFtKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICAgIHJlc3VsdC5lbGVzID0gZWxlcy5yZW1vdmUoKTtcclxuICAgICAgICAgIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLnJldHVyblRvUG9zaXRpb25zKHBhcmFtLnBvc2l0aW9ucyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfTtcclxuXHJcbiAgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMudW5kb0RlbGV0ZUFuZFBlcmZvcm1MYXlvdXQgPSBmdW5jdGlvbiAocGFyYW0pIHtcclxuICAgICAgdmFyIGVsZXMgPSBwYXJhbS5lbGVzO1xyXG5cclxuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgICByZXN1bHQucG9zaXRpb25zID0gdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuZ2V0Tm9kZVBvc2l0aW9ucygpO1xyXG4gICAgICByZXN1bHQuZWxlcyA9IGVsZW1lbnRVdGlsaXRpZXMucmVzdG9yZUVsZXMoZWxlcyk7IFxyXG5cclxuICAgICAgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMucmV0dXJuVG9Qb3NpdGlvbnMocGFyYW0ucG9zaXRpb25zKTtcclxuXHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfTtcclxuXHJcbiAgICAvLyBTZWN0aW9uIEVuZFxyXG4gICAgLy8gZ2VuZXJhbCBhY3Rpb24gZnVuY3Rpb25zXHJcblxyXG4gICAgLy8gU2VjdGlvbiBTdGFydFxyXG4gICAgLy8gc2JnbiBhY3Rpb24gZnVuY3Rpb25zXHJcblxyXG4gICAgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuY2hhbmdlU3RhdGVPckluZm9Cb3ggPSBmdW5jdGlvbiAocGFyYW0pIHtcclxuICAgICAgdmFyIHJlc3VsdCA9IHtcclxuICAgICAgfTtcclxuICAgICAgcmVzdWx0LnR5cGUgPSBwYXJhbS50eXBlO1xyXG4gICAgICByZXN1bHQubm9kZXMgPSBwYXJhbS5ub2RlcztcclxuICAgICAgcmVzdWx0LmluZGV4ID0gcGFyYW0uaW5kZXg7XHJcbiAgICAgIHZhciBkYXRhID0gcGFyYW0uZGF0YTtcclxuXHJcbiAgICAgIHZhciB0ZW1wRGF0YSA9IGVsZW1lbnRVdGlsaXRpZXMuc2F2ZVVuaXRzKHBhcmFtLm5vZGVzKTtcclxuICAgICAgcmVzdWx0LnZhbHVlID0gZWxlbWVudFV0aWxpdGllcy5jaGFuZ2VTdGF0ZU9ySW5mb0JveChwYXJhbS5ub2RlcywgcGFyYW0uaW5kZXgsIHBhcmFtLnZhbHVlLCBwYXJhbS50eXBlKTtcclxuICAgICAgLyogdmFyIGxvY2F0aW9ucyA9IGVsZW1lbnRVdGlsaXRpZXMuY2hlY2tGaXQocGFyYW0ubm9kZXMpO1xyXG4gICAgICBpZiAobG9jYXRpb25zICE9PSB1bmRlZmluZWQgJiYgbG9jYXRpb25zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBlbGVtZW50VXRpbGl0aWVzLmZpdFVuaXRzKHBhcmFtLm5vZGVzLCBsb2NhdGlvbnMpO1xyXG4gICAgICB9ICovXHJcbiAgICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBlbGVtZW50VXRpbGl0aWVzLnJlc3RvcmVVbml0cyhwYXJhbS5ub2RlcywgZGF0YSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGN5LmZvcmNlUmVuZGVyKCk7XHJcbiAgICAgIHJlc3VsdC5kYXRhID0gdGVtcERhdGE7XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmFkZFN0YXRlT3JJbmZvQm94ID0gZnVuY3Rpb24gKHBhcmFtKSB7XHJcbiAgICAgIHZhciBvYmogPSBwYXJhbS5vYmo7XHJcbiAgICAgIHZhciBub2RlcyA9IHBhcmFtLm5vZGVzO1xyXG4gICAgICB2YXIgZGF0YSA9IHBhcmFtLmRhdGE7XHJcblxyXG4gICAgICB2YXIgdGVtcERhdGEgPSBlbGVtZW50VXRpbGl0aWVzLnNhdmVVbml0cyhub2Rlcyk7XHJcbiAgICAgIHZhciBsb2NhdGlvbk9iaiA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkU3RhdGVPckluZm9Cb3gobm9kZXMsIG9iaik7XHJcbiAgICAgLyogIHZhciBsb2NhdGlvbnMgPSBlbGVtZW50VXRpbGl0aWVzLmNoZWNrRml0KG5vZGVzKTtcclxuICAgICAgaWYgKGxvY2F0aW9ucyAhPT0gdW5kZWZpbmVkICYmIGxvY2F0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5maXRVbml0cyhub2RlcywgbG9jYXRpb25zKTtcclxuICAgICAgfSAqL1xyXG4gICAgICBpZiAoZGF0YSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5yZXN0b3JlVW5pdHMobm9kZXMsIGRhdGEpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjeS5mb3JjZVJlbmRlcigpO1xyXG5cclxuICAgICAgdmFyIHJlc3VsdCA9IHtcclxuICAgICAgICBub2Rlczogbm9kZXMsXHJcbiAgICAgICAgbG9jYXRpb25PYmo6IGxvY2F0aW9uT2JqLFxyXG4gICAgICAgIG9iajogb2JqLFxyXG4gICAgICAgIGRhdGE6IHRlbXBEYXRhXHJcbiAgICAgIH07XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLnJlbW92ZVN0YXRlT3JJbmZvQm94ID0gZnVuY3Rpb24gKHBhcmFtKSB7XHJcbiAgICAgIHZhciBsb2NhdGlvbk9iaiA9IHBhcmFtLmxvY2F0aW9uT2JqO1xyXG4gICAgICB2YXIgbm9kZXMgPSBwYXJhbS5ub2RlcztcclxuICAgICAgdmFyIGRhdGEgPSBwYXJhbS5kYXRhO1xyXG5cclxuICAgICAgdmFyIHRlbXBEYXRhID0gZWxlbWVudFV0aWxpdGllcy5zYXZlVW5pdHMobm9kZXMpO1xyXG4gICAgICB2YXIgb2JqID0gZWxlbWVudFV0aWxpdGllcy5yZW1vdmVTdGF0ZU9ySW5mb0JveChub2RlcywgbG9jYXRpb25PYmopO1xyXG4gICAgICBpZiAoZGF0YSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5yZXN0b3JlVW5pdHMobm9kZXMsIGRhdGEpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjeS5mb3JjZVJlbmRlcigpO1xyXG5cclxuICAgICAgdmFyIHJlc3VsdCA9IHtcclxuICAgICAgICBub2Rlczogbm9kZXMsXHJcbiAgICAgICAgb2JqOiBvYmosXHJcbiAgICAgICAgZGF0YTogdGVtcERhdGFcclxuICAgICAgfTtcclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcblxyXG4gICAgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuZml0VW5pdHMgPSBmdW5jdGlvbiAocGFyYW0pIHtcclxuICAgICAgdmFyIG5vZGUgPSBwYXJhbS5ub2RlO1xyXG4gICAgICB2YXIgbG9jYXRpb25zID0gcGFyYW0ubG9jYXRpb25zO1xyXG4gICAgICB2YXIgb2JqID0gZWxlbWVudFV0aWxpdGllcy5maXRVbml0cyhub2RlLCBsb2NhdGlvbnMpO1xyXG5cclxuICAgICAgY3kuZm9yY2VSZW5kZXIoKTtcclxuXHJcbiAgICAgIHZhciByZXN1bHQgPSB7XHJcbiAgICAgICAgbm9kZTogbm9kZSxcclxuICAgICAgICBvYmo6IG9iaixcclxuICAgICAgICBsb2NhdGlvbnM6IGxvY2F0aW9uc1xyXG4gICAgICB9O1xyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5yZXN0b3JlVW5pdHMgPSBmdW5jdGlvbiAocGFyYW0pIHtcclxuICAgICAgdmFyIG5vZGUgPSBwYXJhbS5ub2RlO1xyXG4gICAgICB2YXIgbG9jYXRpb25zID0gcGFyYW0ubG9jYXRpb25zO1xyXG4gICAgICB2YXIgb2JqID0gcGFyYW0ub2JqO1xyXG4gICAgICB2YXIgaW5kZXggPSAwO1xyXG4gICAgICBub2RlLmRhdGEoJ3N0YXRlc2FuZGluZm9zJykuZm9yRWFjaCggZnVuY3Rpb24gKGVsZSkge1xyXG4gICAgICAgIHZhciBib3ggPSBvYmpbaW5kZXgrK107XHJcbiAgICAgICAgZWxlLmJib3gueCA9IGJveC54O1xyXG4gICAgICAgIGVsZS5iYm94LnkgPSBib3gueTtcclxuICAgICAgICB2YXIgb2xkU2lkZSA9IGVsZS5hbmNob3JTaWRlO1xyXG4gICAgICAgIGVsZS5hbmNob3JTaWRlID0gYm94LmFuY2hvclNpZGU7XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5tb2RpZnlVbml0cyhub2RlLCBlbGUsIG9sZFNpZGUpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGN5LmZvcmNlUmVuZGVyKCk7XHJcblxyXG4gICAgICB2YXIgcmVzdWx0ID0ge1xyXG4gICAgICAgIG5vZGU6IG5vZGUsXHJcbiAgICAgICAgbG9jYXRpb25zOiBsb2NhdGlvbnNcclxuICAgICAgfTtcclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcblxyXG4gICAgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuc2V0TXVsdGltZXJTdGF0dXMgPSBmdW5jdGlvbiAocGFyYW0pIHtcclxuICAgICAgdmFyIGZpcnN0VGltZSA9IHBhcmFtLmZpcnN0VGltZTtcclxuICAgICAgdmFyIG5vZGVzID0gcGFyYW0ubm9kZXM7XHJcbiAgICAgIHZhciBzdGF0dXMgPSBwYXJhbS5zdGF0dXM7XHJcbiAgICAgIHZhciByZXN1bHRTdGF0dXMgPSB7fTtcclxuXHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW2ldO1xyXG4gICAgICAgIHZhciBpc011bHRpbWVyID0gbm9kZS5kYXRhKCdjbGFzcycpLmVuZHNXaXRoKCcgbXVsdGltZXInKTtcclxuXHJcbiAgICAgICAgcmVzdWx0U3RhdHVzW25vZGUuaWQoKV0gPSBpc011bHRpbWVyO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiB0aGlzIGlzIHRoZSBmaXJzdCB0aW1lIGNoYW5nZSB0aGUgc3RhdHVzIG9mIGFsbCBub2RlcyBhdCBvbmNlLlxyXG4gICAgICAvLyBJZiBub3QgY2hhbmdlIHN0YXR1cyBvZiBlYWNoIHNlcGVyYXRlbHkgdG8gdGhlIHZhbHVlcyBtYXBwZWQgdG8gdGhlaXIgaWQuXHJcbiAgICAgIGlmIChmaXJzdFRpbWUpIHtcclxuICAgICAgICBlbGVtZW50VXRpbGl0aWVzLnNldE11bHRpbWVyU3RhdHVzKG5vZGVzLCBzdGF0dXMpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIHZhciBub2RlID0gbm9kZXNbaV07XHJcbiAgICAgICAgICBlbGVtZW50VXRpbGl0aWVzLnNldE11bHRpbWVyU3RhdHVzKG5vZGUsIHN0YXR1c1tub2RlLmlkKCldKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAvLyAgaWYgKCFmaXJzdFRpbWUgJiYgXy5pc0VxdWFsKG5vZGVzLCBjeS5ub2RlcygnOnNlbGVjdGVkJykpKSB7XHJcbiAgICAvLyAgICAkKCcjaW5zcGVjdG9yLWlzLW11bHRpbWVyJykuYXR0cihcImNoZWNrZWRcIiwgISQoJyNpbnNwZWN0b3ItaXMtbXVsdGltZXInKS5hdHRyKFwiY2hlY2tlZFwiKSk7XHJcbiAgICAvLyAgfVxyXG5cclxuICAgICAgdmFyIHJlc3VsdCA9IHtcclxuICAgICAgICBzdGF0dXM6IHJlc3VsdFN0YXR1cyxcclxuICAgICAgICBub2Rlczogbm9kZXNcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLnNldEFjdGl2ZVN0YXR1cyA9IGZ1bmN0aW9uIChwYXJhbSkge1xyXG4gICAgICB2YXIgZmlyc3RUaW1lID0gcGFyYW0uZmlyc3RUaW1lO1xyXG4gICAgICB2YXIgbm9kZXMgPSBwYXJhbS5ub2RlcztcclxuICAgICAgdmFyIHN0YXR1cyA9IHBhcmFtLnN0YXR1cztcclxuICAgICAgdmFyIHJlc3VsdFN0YXR1cyA9IHt9O1xyXG5cclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBub2RlID0gbm9kZXNbaV07XHJcbiAgICAgICAgdmFyIGlzQWN0aXZlID0gbm9kZS5kYXRhKCdjbGFzcycpLnN0YXJ0c1dpdGgoJ2FjdGl2ZSAnKTtcclxuXHJcbiAgICAgICAgcmVzdWx0U3RhdHVzW25vZGUuaWQoKV0gPSBpc0FjdGl2ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgdGhpcyBpcyB0aGUgZmlyc3QgdGltZSBjaGFuZ2UgdGhlIHN0YXR1cyBvZiBhbGwgbm9kZXMgYXQgb25jZS5cclxuICAgICAgLy8gSWYgbm90IGNoYW5nZSBzdGF0dXMgb2YgZWFjaCBzZXBlcmF0ZWx5IHRvIHRoZSB2YWx1ZXMgbWFwcGVkIHRvIHRoZWlyIGlkLlxyXG4gICAgICBpZiAoZmlyc3RUaW1lKSB7XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5zZXRBY3RpdmVTdGF0dXMobm9kZXMsIHN0YXR1cyk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgdmFyIG5vZGUgPSBub2Rlc1tpXTtcclxuICAgICAgICAgIGVsZW1lbnRVdGlsaXRpZXMuc2V0QWN0aXZlU3RhdHVzKG5vZGUsIHN0YXR1c1tub2RlLmlkKCldKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAvLyAgaWYgKCFmaXJzdFRpbWUgJiYgXy5pc0VxdWFsKG5vZGVzLCBjeS5ub2RlcygnOnNlbGVjdGVkJykpKSB7XHJcbiAgICAvLyAgICAkKCcjaW5zcGVjdG9yLWlzLW11bHRpbWVyJykuYXR0cihcImNoZWNrZWRcIiwgISQoJyNpbnNwZWN0b3ItaXMtbXVsdGltZXInKS5hdHRyKFwiY2hlY2tlZFwiKSk7XHJcbiAgICAvLyAgfVxyXG5cclxuICAgICAgdmFyIHJlc3VsdCA9IHtcclxuICAgICAgICBzdGF0dXM6IHJlc3VsdFN0YXR1cyxcclxuICAgICAgICBub2Rlczogbm9kZXNcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5zZXRIeXBvdGhldGljYWxTdGF0dXMgPSBmdW5jdGlvbiAocGFyYW0pIHtcclxuICAgICAgdmFyIGZpcnN0VGltZSA9IHBhcmFtLmZpcnN0VGltZTtcclxuICAgICAgdmFyIG5vZGVzID0gcGFyYW0ubm9kZXM7XHJcbiAgICAgIHZhciBzdGF0dXMgPSBwYXJhbS5zdGF0dXM7XHJcbiAgICAgIHZhciByZXN1bHRTdGF0dXMgPSB7fTtcclxuXHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW2ldO1xyXG4gICAgICAgIHZhciBpc0h5cG90aGV0aWNhbCA9IG5vZGUuZGF0YSgnY2xhc3MnKS5pbmNsdWRlcygnaHlwb3RoZXRpY2FsJyk7XHJcblxyXG4gICAgICAgIHJlc3VsdFN0YXR1c1tub2RlLmlkKCldID0gaXNIeXBvdGhldGljYWw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIHRoaXMgaXMgdGhlIGZpcnN0IHRpbWUgY2hhbmdlIHRoZSBzdGF0dXMgb2YgYWxsIG5vZGVzIGF0IG9uY2UuXHJcbiAgICAgIC8vIElmIG5vdCBjaGFuZ2Ugc3RhdHVzIG9mIGVhY2ggc2VwZXJhdGVseSB0byB0aGUgdmFsdWVzIG1hcHBlZCB0byB0aGVpciBpZC5cclxuICAgICAgaWYgKGZpcnN0VGltZSkge1xyXG4gICAgICAgIGVsZW1lbnRVdGlsaXRpZXMuc2V0SHlwb3RoZXRpY2FsU3RhdHVzKG5vZGVzLCBzdGF0dXMpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIHZhciBub2RlID0gbm9kZXNbaV07XHJcbiAgICAgICAgICBlbGVtZW50VXRpbGl0aWVzLnNldEh5cG90aGV0aWNhbFN0YXR1cyhub2RlLCBzdGF0dXNbbm9kZS5pZCgpXSk7XHJcbiAgICAgICAgICAvL2VsZW1lbnRVdGlsaXRpZXMuc2V0SHlwb3RodGV0aWNhbFN0YXR1c1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgIC8vICBpZiAoIWZpcnN0VGltZSAmJiBfLmlzRXF1YWwobm9kZXMsIGN5Lm5vZGVzKCc6c2VsZWN0ZWQnKSkpIHtcclxuICAgIC8vICAgICQoJyNpbnNwZWN0b3ItaXMtbXVsdGltZXInKS5hdHRyKFwiY2hlY2tlZFwiLCAhJCgnI2luc3BlY3Rvci1pcy1tdWx0aW1lcicpLmF0dHIoXCJjaGVja2VkXCIpKTtcclxuICAgIC8vICB9XHJcblxyXG4gICAgICB2YXIgcmVzdWx0ID0ge1xyXG4gICAgICAgIHN0YXR1czogcmVzdWx0U3RhdHVzLFxyXG4gICAgICAgIG5vZGVzOiBub2Rlc1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcblxyXG4gICAgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuc2V0Q2xvbmVNYXJrZXJTdGF0dXMgPSBmdW5jdGlvbiAocGFyYW0pIHtcclxuICAgICAgdmFyIG5vZGVzID0gcGFyYW0ubm9kZXM7XHJcbiAgICAgIHZhciBzdGF0dXMgPSBwYXJhbS5zdGF0dXM7XHJcbiAgICAgIHZhciBmaXJzdFRpbWUgPSBwYXJhbS5maXJzdFRpbWU7XHJcbiAgICAgIHZhciByZXN1bHRTdGF0dXMgPSB7fTtcclxuXHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW2ldO1xyXG4gICAgICAgIHJlc3VsdFN0YXR1c1tub2RlLmlkKCldID0gbm9kZS5kYXRhKCdjbG9uZW1hcmtlcicpO1xyXG4gICAgICAgIHZhciBjdXJyZW50U3RhdHVzID0gZmlyc3RUaW1lID8gc3RhdHVzIDogc3RhdHVzW25vZGUuaWQoKV07XHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5zZXRDbG9uZU1hcmtlclN0YXR1cyhub2RlLCBjdXJyZW50U3RhdHVzKTtcclxuICAgICAgfVxyXG5cclxuICAgIC8vICBpZiAoIWZpcnN0VGltZSAmJiBfLmlzRXF1YWwobm9kZXMsIGN5Lm5vZGVzKCc6c2VsZWN0ZWQnKSkpIHtcclxuICAgIC8vICAgICQoJyNpbnNwZWN0b3ItaXMtY2xvbmUtbWFya2VyJykuYXR0cihcImNoZWNrZWRcIiwgISQoJyNpbnNwZWN0b3ItaXMtY2xvbmUtbWFya2VyJykuYXR0cihcImNoZWNrZWRcIikpO1xyXG4gICAgLy8gIH1cclxuXHJcbiAgICAgIHZhciByZXN1bHQgPSB7XHJcbiAgICAgICAgc3RhdHVzOiByZXN1bHRTdGF0dXMsXHJcbiAgICAgICAgbm9kZXM6IG5vZGVzXHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBwYXJhbToge2NsYXNzOiBzYmduY2xhc3MsIG5hbWU6IHByb3BlcnR5TmFtZSwgdmFsdWU6IHZhbHVlfVxyXG4gICAgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMuc2V0RGVmYXVsdFByb3BlcnR5ID0gZnVuY3Rpb24gKHBhcmFtKSB7XHJcbiAgICAgIHZhciBzYmduY2xhc3MgPSBwYXJhbS5jbGFzcztcclxuICAgICAgdmFyIG5hbWUgPSBwYXJhbS5uYW1lO1xyXG4gICAgICB2YXIgdmFsdWUgPSBwYXJhbS52YWx1ZTtcclxuICAgICAgdmFyIGNsYXNzRGVmYXVsdHMgPSBlbGVtZW50VXRpbGl0aWVzLmdldERlZmF1bHRQcm9wZXJ0aWVzKHNiZ25jbGFzcyk7XHJcbiAgICAgIHZhciByZXN1bHQgPSB7XHJcbiAgICAgICAgY2xhc3M6IHNiZ25jbGFzcyxcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIHZhbHVlOiBjbGFzc0RlZmF1bHRzLmhhc093blByb3BlcnR5KG5hbWUpID8gY2xhc3NEZWZhdWx0c1tuYW1lXSA6IHVuZGVmaW5lZFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdmFyIHByb3BNYXAgPSB7fTtcclxuICAgICAgcHJvcE1hcFsgbmFtZSBdID0gdmFsdWU7XHJcblxyXG4gICAgICBlbGVtZW50VXRpbGl0aWVzLnNldERlZmF1bHRQcm9wZXJ0aWVzKCBzYmduY2xhc3MsIHByb3BNYXAgKTtcclxuXHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmFkZEJhY2tncm91bmRJbWFnZSA9IGZ1bmN0aW9uIChwYXJhbSkge1xyXG4gICAgICB2YXIgYmdPYmogPSBwYXJhbS5iZ09iajtcclxuICAgICAgdmFyIG5vZGVzID0gcGFyYW0ubm9kZXM7XHJcbiAgICAgIHZhciB1cGRhdGVJbmZvID0gcGFyYW0udXBkYXRlSW5mbztcclxuICAgICAgdmFyIHByb21wdEludmFsaWRJbWFnZSA9IHBhcmFtLnByb21wdEludmFsaWRJbWFnZTtcclxuICAgICAgdmFyIHZhbGlkYXRlVVJMID0gcGFyYW0udmFsaWRhdGVVUkw7XHJcblxyXG4gICAgICBlbGVtZW50VXRpbGl0aWVzLmFkZEJhY2tncm91bmRJbWFnZShub2RlcywgYmdPYmosIHVwZGF0ZUluZm8sIHByb21wdEludmFsaWRJbWFnZSwgdmFsaWRhdGVVUkwpO1xyXG5cclxuICAgICAgY3kuZm9yY2VSZW5kZXIoKTtcclxuXHJcbiAgICAgIHZhciByZXN1bHQgPSB7XHJcbiAgICAgICAgbm9kZXM6IG5vZGVzLFxyXG4gICAgICAgIGJnT2JqOiBiZ09iaixcclxuICAgICAgICB1cGRhdGVJbmZvOiB1cGRhdGVJbmZvLFxyXG4gICAgICAgIHByb21wdEludmFsaWRJbWFnZTogcHJvbXB0SW52YWxpZEltYWdlLFxyXG4gICAgICAgIHZhbGlkYXRlVVJMOiB2YWxpZGF0ZVVSTFxyXG4gICAgICB9O1xyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5yZW1vdmVCYWNrZ3JvdW5kSW1hZ2UgPSBmdW5jdGlvbiAocGFyYW0pIHtcclxuICAgICAgdmFyIGJnT2JqID0gcGFyYW0uYmdPYmo7XHJcbiAgICAgIHZhciBub2RlcyA9IHBhcmFtLm5vZGVzO1xyXG5cclxuICAgICAgZWxlbWVudFV0aWxpdGllcy5yZW1vdmVCYWNrZ3JvdW5kSW1hZ2Uobm9kZXMsIGJnT2JqKTtcclxuXHJcbiAgICAgIGN5LmZvcmNlUmVuZGVyKCk7XHJcblxyXG4gICAgICB2YXIgcmVzdWx0ID0ge1xyXG4gICAgICAgIG5vZGVzOiBub2RlcyxcclxuICAgICAgICBiZ09iajogYmdPYmpcclxuICAgICAgfTtcclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcblxyXG4gICAgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMudXBkYXRlQmFja2dyb3VuZEltYWdlID0gZnVuY3Rpb24gKHBhcmFtKSB7XHJcbiAgICAgIHZhciBiZ09iaiA9IHBhcmFtLmJnT2JqO1xyXG4gICAgICB2YXIgbm9kZXMgPSBwYXJhbS5ub2RlcztcclxuXHJcbiAgICAgIHZhciBvbGRCZ09iaiA9IGVsZW1lbnRVdGlsaXRpZXMudXBkYXRlQmFja2dyb3VuZEltYWdlKG5vZGVzLCBiZ09iaik7XHJcblxyXG4gICAgICBjeS5mb3JjZVJlbmRlcigpO1xyXG5cclxuICAgICAgdmFyIHJlc3VsdCA9IHtcclxuICAgICAgICBub2Rlczogbm9kZXMsXHJcbiAgICAgICAgYmdPYmo6IG9sZEJnT2JqXHJcbiAgICAgIH07XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmNoYW5nZUJhY2tncm91bmRJbWFnZSA9IGZ1bmN0aW9uIChwYXJhbSkge1xyXG4gICAgICB2YXIgb2xkSW1nID0gcGFyYW0ub2xkSW1nO1xyXG4gICAgICB2YXIgbmV3SW1nID0gcGFyYW0ubmV3SW1nO1xyXG4gICAgICB2YXIgbm9kZXMgPSBwYXJhbS5ub2RlcztcclxuICAgICAgdmFyIGZpcnN0VGltZSA9IHBhcmFtLmZpcnN0VGltZTtcclxuICAgICAgdmFyIHVwZGF0ZUluZm8gPSBwYXJhbS51cGRhdGVJbmZvO1xyXG4gICAgICB2YXIgcHJvbXB0SW52YWxpZEltYWdlID0gcGFyYW0ucHJvbXB0SW52YWxpZEltYWdlO1xyXG4gICAgICB2YXIgdmFsaWRhdGVVUkw9IHBhcmFtLnZhbGlkYXRlVVJMO1xyXG5cclxuICAgICAgdmFyIHJlc3VsdCA9IGVsZW1lbnRVdGlsaXRpZXMuY2hhbmdlQmFja2dyb3VuZEltYWdlKG5vZGVzLCBvbGRJbWcsIG5ld0ltZywgZmlyc3RUaW1lLCB1cGRhdGVJbmZvLCBwcm9tcHRJbnZhbGlkSW1hZ2UsIHZhbGlkYXRlVVJMKTtcclxuXHJcbiAgICAgIGN5LmZvcmNlUmVuZGVyKCk7XHJcblxyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBTZWN0aW9uIEVuZFxyXG4gICAgLy8gc2JnbiBhY3Rpb24gZnVuY3Rpb25zXHJcbiAgICB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9ucy5jb252ZXJ0SW50b1JldmVyc2libGVSZWFjdGlvbiA9IGZ1bmN0aW9uIChwYXJhbSkge1xyXG4gICAgICBsZXQgY29sbGVjdGlvbiA9IGN5LmNvbGxlY3Rpb24oKTtcclxuICAgICAgbGV0IG1hcFR5cGUgPSBlbGVtZW50VXRpbGl0aWVzLmdldE1hcFR5cGUoKTtcclxuICAgICAgZWxlbWVudFV0aWxpdGllcy5zZXRNYXBUeXBlKHBhcmFtLm1hcFR5cGUpO1xyXG4gICAgICAkKCcjbWFwLXR5cGUnKS52YWwocGFyYW0ubWFwVHlwZSk7XHJcblxyXG4gICAgICBwYXJhbS5jb2xsZWN0aW9uLmZvckVhY2goZnVuY3Rpb24oZWRnZSkge1xyXG4gICAgICAgIHZhciBzb3VyY2VOb2RlID0gZWRnZS5fcHJpdmF0ZS5kYXRhLnNvdXJjZTtcclxuICAgICAgICB2YXIgdGFyZ2V0Tm9kZSA9IGVkZ2UuX3ByaXZhdGUuZGF0YS50YXJnZXQ7XHJcblxyXG4gICAgICAgIGVkZ2UubW92ZSh7c291cmNlOiB0YXJnZXROb2RlLCB0YXJnZXQ6IHNvdXJjZU5vZGV9KTtcclxuXHJcbiAgICAgICAgbGV0IGNvbnZlcnRlZEVkZ2UgPSBjeS5nZXRFbGVtZW50QnlJZChlZGdlLmlkKCkpO1xyXG5cclxuICAgICAgICBpZihjb252ZXJ0ZWRFZGdlLmRhdGEoXCJjeWVkZ2ViZW5kZWRpdGluZ0Rpc3RhbmNlc1wiKSl7XHJcbiAgICAgICAgICBsZXQgZGlzdGFuY2UgPSBjb252ZXJ0ZWRFZGdlLmRhdGEoXCJjeWVkZ2ViZW5kZWRpdGluZ0Rpc3RhbmNlc1wiKTtcclxuICAgICAgICAgIGRpc3RhbmNlID0gZGlzdGFuY2UubWFwKGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIC0xKmVsZW1lbnQ7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGNvbnZlcnRlZEVkZ2UuZGF0YShcImN5ZWRnZWJlbmRlZGl0aW5nRGlzdGFuY2VzXCIsIGRpc3RhbmNlLnJldmVyc2UoKSk7XHJcblxyXG4gICAgICAgICAgbGV0IHdlaWdodCA9IGNvbnZlcnRlZEVkZ2UuZGF0YShcImN5ZWRnZWJlbmRlZGl0aW5nV2VpZ2h0c1wiKTtcclxuICAgICAgICAgIHdlaWdodCA9IHdlaWdodC5tYXAoZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gMS1lbGVtZW50O1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBjb252ZXJ0ZWRFZGdlLmRhdGEoXCJjeWVkZ2ViZW5kZWRpdGluZ1dlaWdodHNcIiwgd2VpZ2h0LnJldmVyc2UoKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihjb252ZXJ0ZWRFZGdlLmRhdGEoXCJjeWVkZ2Vjb250cm9sZWRpdGluZ0Rpc3RhbmNlc1wiKSl7XHJcbiAgICAgICAgICBsZXQgZGlzdGFuY2UgPSBjb252ZXJ0ZWRFZGdlLmRhdGEoXCJjeWVkZ2Vjb250cm9sZWRpdGluZ0Rpc3RhbmNlc1wiKTtcclxuICAgICAgICAgIGRpc3RhbmNlID0gZGlzdGFuY2UubWFwKGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIC0xKmVsZW1lbnQ7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGNvbnZlcnRlZEVkZ2UuZGF0YShcImN5ZWRnZWNvbnRyb2xlZGl0aW5nRGlzdGFuY2VzXCIsIGRpc3RhbmNlLnJldmVyc2UoKSk7XHJcblxyXG4gICAgICAgICAgbGV0IHdlaWdodCA9IGNvbnZlcnRlZEVkZ2UuZGF0YShcImN5ZWRnZWNvbnRyb2xlZGl0aW5nV2VpZ3Roc1wiKTtcclxuICAgICAgICAgIHdlaWdodCA9IHdlaWdodC5tYXAoZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gMS1lbGVtZW50O1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBjb252ZXJ0ZWRFZGdlLmRhdGEoXCJjeWVkZ2Vjb250cm9sZWRpdGluZ1dlaWd0aHNcIiwgd2VpZ2h0LnJldmVyc2UoKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY29udmVydGVkRWRnZS5fcHJpdmF0ZS5kYXRhLmNsYXNzID09PSBcImNvbnN1bXB0aW9uXCIpIHtcclxuICAgICAgICAgIGNvbnZlcnRlZEVkZ2UuX3ByaXZhdGUuZGF0YS5jbGFzcyA9IFwicHJvZHVjdGlvblwiO1xyXG4gICAgICAgICAgY29udmVydGVkRWRnZS5fcHJpdmF0ZS5kYXRhLnBvcnRzb3VyY2UgPSB0YXJnZXROb2RlICsgXCIuMVwiO1xyXG4gICAgICAgICAgY29udmVydGVkRWRnZS5fcHJpdmF0ZS5kYXRhLnBvcnR0YXJnZXQgPSBzb3VyY2VOb2RlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjb252ZXJ0ZWRFZGdlLl9wcml2YXRlLmRhdGEuY2xhc3MgPT09IFwicHJvZHVjdGlvblwiKSB7XHJcbiAgICAgICAgICBjb252ZXJ0ZWRFZGdlLl9wcml2YXRlLmRhdGEuY2xhc3MgPSBcImNvbnN1bXB0aW9uXCI7XHJcbiAgICAgICAgICBjb252ZXJ0ZWRFZGdlLl9wcml2YXRlLmRhdGEucG9ydHNvdXJjZSA9IHRhcmdldE5vZGU7XHJcbiAgICAgICAgICBjb252ZXJ0ZWRFZGdlLl9wcml2YXRlLmRhdGEucG9ydHRhcmdldCA9IHNvdXJjZU5vZGUgKyBcIi4xXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb2xsZWN0aW9uID0gY29sbGVjdGlvbi5hZGQoY29udmVydGVkRWRnZSk7XHJcbiAgICAgICAgY3kuc3R5bGUoKS51cGRhdGUoKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB2YXIgcmVzdWx0ID0ge1xyXG4gICAgICAgIGNvbGxlY3Rpb246IGNvbGxlY3Rpb24sXHJcbiAgICAgICAgbWFwVHlwZTogbWFwVHlwZSxcclxuICAgICAgICBwcm9jZXNzSWQ6IHBhcmFtLnByb2Nlc3NJZFxyXG4gICAgICB9O1xyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLm1vdmVFZGdlID0gZnVuY3Rpb24gKHBhcmFtKSB7XHJcbiAgICAgIHZhciByZXN1bHQgPSB7XHJcbiAgICAgIH07XHJcbiAgICAgIHZhciBlZGdlID0gcGFyYW0uZWRnZTtcclxuICAgICAgcmVzdWx0Lm5hbWUgPSBwYXJhbS5uYW1lOyAgICAgIFxyXG4gICAgIFxyXG5cclxuICAgICAgcmVzdWx0LnNvdXJjZSA9IGVkZ2Uuc291cmNlKCkuaWQoKTtcclxuICAgICAgcmVzdWx0LnRhcmdldCA9IGVkZ2UudGFyZ2V0KCkuaWQoKTsgICAgICBcclxuICAgICAgcmVzdWx0LnBvcnRzb3VyY2UgID1lZGdlLmRhdGEoXCJwb3J0c291cmNlXCIpO1xyXG4gICAgICByZXN1bHQucG9ydHRhcmdldCA9IGVkZ2UuZGF0YShcInBvcnR0YXJnZXRcIik7XHJcbiAgICAgIGVsZW1lbnRVdGlsaXRpZXMuY2hhbmdlRGF0YShlZGdlLCAnc291cmNlJywgcGFyYW0uc291cmNlKTtcclxuICAgICAgZWxlbWVudFV0aWxpdGllcy5jaGFuZ2VEYXRhKGVkZ2UsICd0YXJnZXQnLCBwYXJhbS50YXJnZXQpO1xyXG4gICAgICBlbGVtZW50VXRpbGl0aWVzLmNoYW5nZURhdGEoZWRnZSwgJ3BvcnRzb3VyY2UnLCBwYXJhbS5wb3J0c291cmNlKTtcclxuICAgICAgZWxlbWVudFV0aWxpdGllcy5jaGFuZ2VEYXRhKGVkZ2UsICdwb3J0dGFyZ2V0JywgcGFyYW0ucG9ydHRhcmdldCk7IFxyXG4gICAgICBlZGdlID0gZWRnZS5tb3ZlKHtcclxuICAgICAgICB0YXJnZXQ6IHBhcmFtLnRhcmdldCxcclxuICAgICAgICBzb3VyY2UgOiBwYXJhbS5zb3VyY2VcclxuICAgIFxyXG4gICAgIH0pO1xyXG5cclxuICAgICByZXN1bHQuZWRnZSA9IGVkZ2U7XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmZpeEVycm9yID0gZnVuY3Rpb24ocGFyYW0pe1xyXG4gICAgICBcclxuICAgICAgdmFyIGVycm9yQ29kZSA9IHBhcmFtLmVycm9yQ29kZTtcclxuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgICByZXN1bHQuZXJyb3JDb2RlID0gZXJyb3JDb2RlO1xyXG4gICAgICBpZihlcnJvckNvZGUgPT0gXCJwZDEwMTAxXCIgfHwgZXJyb3JDb2RlID09ICdwZDEwMTAyJyl7XHJcblxyXG4gICAgICAgIHJlc3VsdC5lZGdlID0gZWxlbWVudFV0aWxpdGllcy5yZXZlcnNlRWRnZShwYXJhbS5lZGdlKTtcclxuXHJcbiAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgIH1lbHNlIGlmKGVycm9yQ29kZSA9PSBcInBkMTAxMDNcIiB8fCBlcnJvckNvZGUgPT0gJ3BkMTAxMDcnKXtcclxuXHJcbiAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICBwYXJhbS5uZXdOb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uKG5ld05vZGUpe1xyXG4gICAgICAgICBlbGVtZW50VXRpbGl0aWVzLmFkZE5vZGUobmV3Tm9kZS54LCBuZXdOb2RlLnksIG5ld05vZGUuY2xhc3MsIG5ld05vZGUuaWQsIHVuZGVmaW5lZCk7XHJcblxyXG4gICAgICAgICAgXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHBhcmFtLm5ld0VkZ2VzLmZvckVhY2goZnVuY3Rpb24obmV3RWRnZSl7ICAgICAgICAgIFxyXG4gICAgICAgICAgZWxlbWVudFV0aWxpdGllcy5hZGRFZGdlKG5ld0VkZ2Uuc291cmNlLG5ld0VkZ2UudGFyZ2V0LG5ld0VkZ2UuY2xhc3MpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBwYXJhbS5vbGRFZGdlcy5mb3JFYWNoKGZ1bmN0aW9uKG9sZEVkZ2Upe1xyXG4gICAgICAgICAgY3kuZWxlbWVudHMoKS51bnNlbGVjdCgpO1xyXG4gICAgICAgICAgLy9yZXR1cm4gXHJcbiAgICAgICAgICBvbGRFZGdlLnJlbW92ZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBwYXJhbS5ub2RlLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICByZXR1cm4gcGFyYW07XHJcblxyXG4gICAgICB9ZWxzZSBpZihlcnJvckNvZGUgPT0gXCJwZDEwMTA1XCIgfHwgZXJyb3JDb2RlID09ICdwZDEwMTA2Jyl7XHJcbiAgIFxyXG4gICAgICAgIHJlc3VsdC5lZGdlID0gZWxlbWVudFV0aWxpdGllcy5yZXZlcnNlRWRnZShwYXJhbS5lZGdlKTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICB9ZWxzZSBpZihlcnJvckNvZGUgPT0gXCJwZDEwMTQwXCIpe1xyXG4gICAgICAgIHBhcmFtLm5vZGUucmVtb3ZlKCk7XHJcbiAgICAgICAgcmV0dXJuIHBhcmFtO1xyXG4gICAgICB9ZWxzZSBpZihlcnJvckNvZGUgPT0gXCJwZDEwMTA0XCIpIHtcclxuICAgICAgICBcclxuICAgICAgICBwYXJhbS5lZGdlcy5mb3JFYWNoKGZ1bmN0aW9uKGVkZ2Upe1xyXG4gICAgICAgICAgZWRnZS5yZW1vdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwYXJhbS5ub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uKG5vZGUpe1xyXG4gICAgICAgICAgbm9kZS5yZW1vdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcGFyYW07XHJcbiAgICAgIH1lbHNlIGlmKGVycm9yQ29kZSA9PSBcInBkMTAxMDhcIil7XHJcbiAgICAgICAgcGFyYW0uZWRnZXMuZm9yRWFjaChmdW5jdGlvbihlZGdlKXtcclxuICAgICAgICAgIGVkZ2UucmVtb3ZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGFyYW0ubm9kZXMuZm9yRWFjaChmdW5jdGlvbihub2RlKXtcclxuICAgICAgICAgIG5vZGUucmVtb3ZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHBhcmFtO1xyXG4gICAgICB9ZWxzZSBpZihlcnJvckNvZGUgPT0gXCJwZDEwMTExXCIpe1xyXG4gICAgICAgIHBhcmFtLmVkZ2VzLmZvckVhY2goZnVuY3Rpb24oZWRnZSl7XHJcbiAgICAgICAgICBlZGdlLnJlbW92ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBwYXJhbTtcclxuICAgICAgfWVsc2UgaWYoZXJyb3JDb2RlID09IFwicGQxMDEyNlwiKXtcclxuICAgICAgICBwYXJhbS5lZGdlcy5mb3JFYWNoKGZ1bmN0aW9uKGVkZ2Upe1xyXG4gICAgICAgICAgZWRnZS5yZW1vdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwYXJhbS5ub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uKG5vZGUpe1xyXG4gICAgICAgICAgbm9kZS5yZW1vdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcGFyYW07XHJcbiAgICAgIH1lbHNlIGlmKGVycm9yQ29kZSA9PSBcInBkMTAxMDlcIiB8fCBlcnJvckNvZGUgPT0gXCJwZDEwMTI0XCIpIHtcclxuICAgICAgICBcclxuICAgICAgICByZXN1bHQubmV3U291cmNlID0gcGFyYW0uZWRnZS5kYXRhKCkuc291cmNlO1xyXG4gICAgICAgIHJlc3VsdC5uZXdUYXJnZXQgPSBwYXJhbS5lZGdlLmRhdGEoKS50YXJnZXQ7XHJcbiAgICAgICAgcmVzdWx0LnBvcnRzb3VyY2UgPSBwYXJhbS5lZGdlLmRhdGEoKS5wb3J0c291cmNlO1xyXG4gICAgICAgIHZhciBjbG9uZWRFZGdlID0gcGFyYW0uZWRnZS5jbG9uZSgpO1xyXG4gICAgICAgXHJcbiAgICAgICAgdmFyIGVkZ2VQYXJhbXMgPSB7Y2xhc3MgOiBjbG9uZWRFZGdlLmRhdGEoKS5jbGFzcywgbGFuZ3VhZ2UgOmNsb25lZEVkZ2UuZGF0YSgpLmxhbmd1YWdlfTtcclxuICAgICAgICBjbG9uZWRFZGdlLmRhdGEoKS5zb3VyY2UgPSBwYXJhbS5uZXdTb3VyY2U7XHJcbiAgICAgICAgY2xvbmVkRWRnZS5kYXRhKCkudGFyZ2V0ID0gcGFyYW0ubmV3VGFyZ2V0O1xyXG4gICAgICAgIGN5LnJlbW92ZShwYXJhbS5lZGdlKTtcclxuICAgICAgICByZXN1bHQuZWRnZSA9IGVsZW1lbnRVdGlsaXRpZXMuYWRkRWRnZShwYXJhbS5uZXdTb3VyY2UscGFyYW0ubmV3VGFyZ2V0LGVkZ2VQYXJhbXMsIGNsb25lZEVkZ2UuZGF0YSgpLmlkKTsgICAgICBcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG5cclxuICAgICAgfWVsc2UgaWYoZXJyb3JDb2RlID09IFwicGQxMDExMlwiKSB7ICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIHBhcmFtLmNhbGxiYWNrID0gZWxlbWVudFV0aWxpdGllcy5tYWludGFpblBvaW50ZXI7ICBcclxuICAgICAgICAvLyBJZiB0aGlzIGlzIGZpcnN0IHRpbWUgd2Ugc2hvdWxkIG1vdmUgdGhlIG5vZGUgdG8gaXRzIG5ldyBwYXJlbnQgYW5kIHJlbG9jYXRlIGl0IGJ5IGdpdmVuIHBvc0RpZmYgcGFyYW1zXHJcbiAgICAgICAgLy8gZWxzZSB3ZSBzaG91bGQgcmVtb3ZlIHRoZSBtb3ZlZCBlbGVzIGFuZCByZXN0b3JlIHRoZSBlbGVzIHRvIHJlc3RvcmVcclxuICAgICAgICBpZiAocGFyYW0uZmlyc3RUaW1lKSB7XHJcbiAgICAgICAgICB2YXIgbmV3UGFyZW50SWQgPSBwYXJhbS5wYXJlbnREYXRhID09IHVuZGVmaW5lZCA/IG51bGwgOiBwYXJhbS5wYXJlbnREYXRhO1xyXG4gICAgICAgICAgLy8gVGhlc2UgZWxlcyBpbmNsdWRlcyB0aGUgbm9kZXMgYW5kIHRoZWlyIGNvbm5lY3RlZCBlZGdlcyBhbmQgd2lsbCBiZSByZW1vdmVkIGluIG5vZGVzLm1vdmUoKS5cclxuICAgICAgICAgIC8vIFRoZXkgc2hvdWxkIGJlIHJlc3RvcmVkIGluIHVuZG9cclxuICAgICAgICAgIHZhciB3aXRoRGVzY2VuZGFudCA9IHBhcmFtLm5vZGVzLnVuaW9uKHBhcmFtLm5vZGVzLmRlc2NlbmRhbnRzKCkpO1xyXG4gICAgICAgICAgcmVzdWx0LmVsZXNUb1Jlc3RvcmUgPSB3aXRoRGVzY2VuZGFudC51bmlvbih3aXRoRGVzY2VuZGFudC5jb25uZWN0ZWRFZGdlcygpKTtcclxuICAgICAgICAgIC8vIFRoZXNlIGFyZSB0aGUgZWxlcyBjcmVhdGVkIGJ5IG5vZGVzLm1vdmUoKSwgdGhleSBzaG91bGQgYmUgcmVtb3ZlZCBpbiB1bmRvLlxyXG4gICAgICAgICAgcmVzdWx0Lm1vdmVkRWxlcyA9IHBhcmFtLm5vZGVzLm1vdmUoe1wicGFyZW50XCI6IG5ld1BhcmVudElkfSk7XHJcblxyXG4gICAgICAgICAgdmFyIHBvc0RpZmYgPSB7XHJcbiAgICAgICAgICAgIHg6IHBhcmFtLnBvc0RpZmZYLFxyXG4gICAgICAgICAgICB5OiBwYXJhbS5wb3NEaWZmWVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICBlbGVtZW50VXRpbGl0aWVzLm1vdmVOb2Rlcyhwb3NEaWZmLCByZXN1bHQubW92ZWRFbGVzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICByZXN1bHQuZWxlc1RvUmVzdG9yZSA9IHBhcmFtLm1vdmVkRWxlcy5yZW1vdmUoKTtcclxuICAgICAgICAgIHJlc3VsdC5tb3ZlZEVsZXMgPSBwYXJhbS5lbGVzVG9SZXN0b3JlLnJlc3RvcmUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChwYXJhbS5jYWxsYmFjaykge1xyXG4gICAgICAgICAgcmVzdWx0LmNhbGxiYWNrID0gcGFyYW0uY2FsbGJhY2s7IC8vIGtlZXAgdGhlIHByb3ZpZGVkIGNhbGxiYWNrIHNvIGl0IGNhbiBiZSByZXVzZWQgYWZ0ZXIgdW5kby9yZWRvXHJcbiAgICAgICAgICBwYXJhbS5jYWxsYmFjayhyZXN1bHQubW92ZWRFbGVzKTsgLy8gYXBwbHkgdGhlIGNhbGxiYWNrIG9uIG5ld2x5IGNyZWF0ZWQgZWxlbWVudHNcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgIFxyXG4gICAgICB9ZWxzZSBpZihlcnJvckNvZGUgPT0gXCJwZDEwMTI1XCIpIHtcclxuXHJcbiAgICAgICByZXN1bHQuZWRnZSA9IHBhcmFtLmVkZ2UucmVtb3ZlKCk7ICAgICAgIFxyXG4gICAgICAgcmVzdWx0Lm5ld0VkZ2UgPXt9O1xyXG4gICAgICAgdmFyIGVkZ2VjbGFzcyA9IHBhcmFtLm5ld0VkZ2UuZWRnZVBhcmFtcy5jbGFzcyA/IHBhcmFtLm5ld0VkZ2UuZWRnZVBhcmFtcy5jbGFzcyA6IHBhcmFtLm5ld0VkZ2UuZWRnZVBhcmFtcztcclxuICAgICAgIHZhciB2YWxpZGF0aW9uID0gZWxlbWVudFV0aWxpdGllcy52YWxpZGF0ZUFycm93RW5kcyhlZGdlY2xhc3MsIGN5LmdldEVsZW1lbnRCeUlkKHBhcmFtLm5ld0VkZ2Uuc291cmNlKSwgY3kuZ2V0RWxlbWVudEJ5SWQocGFyYW0ubmV3RWRnZS50YXJnZXQpKTtcclxuXHJcbiAgICAgICBpZiAodmFsaWRhdGlvbiA9PT0gJ3JldmVyc2UnKSB7XHJcbiAgICAgICAgdmFyIHRlbXAgPSBwYXJhbS5uZXdFZGdlLnNvdXJjZTtcclxuICAgICAgICBwYXJhbS5uZXdFZGdlLnNvdXJjZSA9IHBhcmFtLm5ld0VkZ2UudGFyZ2V0O1xyXG4gICAgICAgIHBhcmFtLm5ld0VkZ2UudGFyZ2V0ID0gdGVtcDtcclxuICAgICAgfVxyXG4gICAgICAgcmVzdWx0Lm5ld0VkZ2UuaWQgPWVsZW1lbnRVdGlsaXRpZXMuYWRkRWRnZShwYXJhbS5uZXdFZGdlLnNvdXJjZSxwYXJhbS5uZXdFZGdlLnRhcmdldCxwYXJhbS5uZXdFZGdlLmVkZ2VQYXJhbXMpLmlkKCk7XHJcbiAgICAgICByZXN1bHQubmV3RWRnZS5zb3VyY2UgPSBwYXJhbS5uZXdFZGdlLnNvdXJjZTtcclxuICAgICAgIHJlc3VsdC5uZXdFZGdlLnRhcmdldCA9IHBhcmFtLm5ld0VkZ2UudGFyZ2V0O1xyXG4gICAgICAgcmVzdWx0Lm5ld0VkZ2UuZWRnZVBhcmFtcyA9IHBhcmFtLm5ld0VkZ2UuZWRnZVBhcmFtcztcclxuICAgICAgIFxyXG4gICAgICAgcmV0dXJuIHJlc3VsdDtcclxuXHJcbiAgICAgICAgXHJcbiAgICAgIH1lbHNlIGlmKGVycm9yQ29kZSA9PSBcInBkMTAxNDJcIikge1xyXG4gICAgICAgIHJlc3VsdC5lZGdlID0gcGFyYW0uZWRnZS5yZW1vdmUoKTsgICAgICAgXHJcbiAgICAgICAgcmVzdWx0Lm5ld0VkZ2UgPXt9O1xyXG4gICAgICAgIHZhciBlZGdlY2xhc3MgPSBwYXJhbS5uZXdFZGdlLmVkZ2VQYXJhbXMuY2xhc3MgPyBwYXJhbS5uZXdFZGdlLmVkZ2VQYXJhbXMuY2xhc3MgOiBwYXJhbS5uZXdFZGdlLmVkZ2VQYXJhbXM7XHJcbiAgICAgICAgdmFyIHZhbGlkYXRpb24gPSBlbGVtZW50VXRpbGl0aWVzLnZhbGlkYXRlQXJyb3dFbmRzKGVkZ2VjbGFzcywgY3kuZ2V0RWxlbWVudEJ5SWQocGFyYW0ubmV3RWRnZS5zb3VyY2UpLCBjeS5nZXRFbGVtZW50QnlJZChwYXJhbS5uZXdFZGdlLnRhcmdldCkpO1xyXG5cclxuICAgICAgICBpZiAodmFsaWRhdGlvbiA9PT0gJ3JldmVyc2UnKSB7XHJcbiAgICAgICAgIHZhciB0ZW1wID0gcGFyYW0ubmV3RWRnZS5zb3VyY2U7XHJcbiAgICAgICAgIHBhcmFtLm5ld0VkZ2Uuc291cmNlID0gcGFyYW0ubmV3RWRnZS50YXJnZXQ7XHJcbiAgICAgICAgIHBhcmFtLm5ld0VkZ2UudGFyZ2V0ID0gdGVtcDtcclxuICAgICAgIH1cclxuICAgICAgICByZXN1bHQubmV3RWRnZS5pZCA9ZWxlbWVudFV0aWxpdGllcy5hZGRFZGdlKHBhcmFtLm5ld0VkZ2Uuc291cmNlLHBhcmFtLm5ld0VkZ2UudGFyZ2V0LHBhcmFtLm5ld0VkZ2UuZWRnZVBhcmFtcykuaWQoKTtcclxuICAgICAgICByZXN1bHQubmV3RWRnZS5zb3VyY2UgPSBwYXJhbS5uZXdFZGdlLnNvdXJjZTtcclxuICAgICAgICByZXN1bHQubmV3RWRnZS50YXJnZXQgPSBwYXJhbS5uZXdFZGdlLnRhcmdldDtcclxuICAgICAgICByZXN1bHQubmV3RWRnZS5lZGdlUGFyYW1zID0gcGFyYW0ubmV3RWRnZS5lZGdlUGFyYW1zO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgIH1lbHNlIHtcclxuXHJcbiAgICAgICAgcmVzdWx0Lm5ld1NvdXJjZSA9IHBhcmFtLmVkZ2Uuc291cmNlKCkuaWQoKTtcclxuICAgICAgICByZXN1bHQubmV3VGFyZ2V0ID0gcGFyYW0uZWRnZS50YXJnZXQoKS5pZCgpO1xyXG4gICAgICAgIHJlc3VsdC5wb3J0dGFyZ2V0ID0gcGFyYW0uZWRnZS5kYXRhKFwicG9ydHRhcmdldFwiKTtcclxuICAgICAgICByZXN1bHQuZWRnZSA9IHBhcmFtLmVkZ2UubW92ZSh7XHJcbiAgICAgICAgICB0YXJnZXQ6IHBhcmFtLm5ld1RhcmdldCxcclxuICAgICAgICAgIHNvdXJjZSA6IHBhcmFtLm5ld1NvdXJjZSAgICAgIFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBlbGVtZW50VXRpbGl0aWVzLmNoYW5nZURhdGEocmVzdWx0LmVkZ2UsICdwb3J0dGFyZ2V0JywgcGFyYW0ucG9ydHRhcmdldCk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICBcclxuICAgICAgfVxyXG4gICAgICBcclxuICB9XHJcbiAgXHJcbiAgdW5kb1JlZG9BY3Rpb25GdW5jdGlvbnMudW5maXhFcnJvciA9IGZ1bmN0aW9uKHBhcmFtKXtcclxuICAgIHZhciBlcnJvckNvZGUgPSBwYXJhbS5lcnJvckNvZGU7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICByZXN1bHQuZXJyb3JDb2RlID0gZXJyb3JDb2RlO1xyXG4gICAgaWYoZXJyb3JDb2RlID09IFwicGQxMDEwMVwiIHx8IGVycm9yQ29kZSA9PSAncGQxMDEwMicpe1xyXG4gICAgIFxyXG4gICAgICAgIHJlc3VsdC5lZGdlID0gZWxlbWVudFV0aWxpdGllcy5yZXZlcnNlRWRnZShwYXJhbS5lZGdlKTtcclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1lbHNlIGlmKGVycm9yQ29kZSA9PSBcInBkMTAxMDNcIiB8fCBlcnJvckNvZGUgPT0gJ3BkMTAxMDcnKXtcclxuXHJcbiAgICAgIHBhcmFtLm5ld05vZGVzLmZvckVhY2goZnVuY3Rpb24obmV3Tm9kZSl7ICAgIFxyXG4gICAgICAgIGN5LnJlbW92ZShjeS4kKCcjJytuZXdOb2RlLmlkKSkgICAgICBcclxuICAgICAgICBcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBwYXJhbS5ub2RlLnJlc3RvcmUoKTtcclxuXHJcbiAgICAgIHBhcmFtLm9sZEVkZ2VzLmZvckVhY2goZnVuY3Rpb24ob2xkRWRnZSl7ICBcclxuICAgICAgICBvbGRFZGdlLnJlc3RvcmUoKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjeS5hbmltYXRlKHtcclxuICAgICAgICBkdXJhdGlvbjogMTAwLFxyXG4gICAgICAgIGVhc2luZzogJ2Vhc2UnLFxyXG4gICAgICAgIGZpdCA6e2VsZXM6e30scGFkZGluZzoyMH0sIFxyXG4gICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gcGFyYW07XHJcblxyXG4gICAgfWVsc2UgaWYoZXJyb3JDb2RlID09IFwicGQxMDEwNVwiIHx8IGVycm9yQ29kZSA9PSAncGQxMDEwNicpeyAgXHJcblxyXG4gICAgICByZXN1bHQuZWRnZSA9IGVsZW1lbnRVdGlsaXRpZXMucmV2ZXJzZUVkZ2UocGFyYW0uZWRnZSk7XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcblxyXG4gICAgfWVsc2UgaWYoZXJyb3JDb2RlID09IFwicGQxMDE0MFwiKXtcclxuICAgICAgcGFyYW0ubm9kZS5yZXN0b3JlKCk7XHJcbiAgICAgIGN5LmFuaW1hdGUoe1xyXG4gICAgICAgIGR1cmF0aW9uOiAxMDAsXHJcbiAgICAgICAgZWFzaW5nOiAnZWFzZScsXHJcbiAgICAgICAgZml0IDp7ZWxlczp7fSxwYWRkaW5nOjIwfSwgXHJcbiAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgcmV0dXJuIHBhcmFtO1xyXG4gICAgfWVsc2UgaWYoZXJyb3JDb2RlID09IFwicGQxMDEwNFwiKSB7XHJcbiAgICAgIFxyXG4gICAgICBwYXJhbS5ub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uKG5vZGUpe1xyXG4gICAgICAgIG5vZGUucmVzdG9yZSgpO1xyXG4gICAgICB9KTtcclxuICAgICAgcGFyYW0uZWRnZXMuZm9yRWFjaChmdW5jdGlvbihlZGdlKXtcclxuICAgICAgICBlZGdlLnJlc3RvcmUoKTtcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiBwYXJhbTtcclxuICAgIH1lbHNlIGlmKGVycm9yQ29kZSA9PSBcInBkMTAxMDhcIil7XHJcbiAgICAgIFxyXG4gICAgICBwYXJhbS5ub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uKG5vZGUpe1xyXG4gICAgICAgIG5vZGUucmVzdG9yZSgpO1xyXG4gICAgICB9KTtcclxuICAgICAgcGFyYW0uZWRnZXMuZm9yRWFjaChmdW5jdGlvbihlZGdlKXtcclxuICAgICAgICBlZGdlLnJlc3RvcmUoKTtcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiBwYXJhbTtcclxuICAgIH1lbHNlIGlmKGVycm9yQ29kZSA9PSBcInBkMTAxMTFcIil7XHJcbiAgICAgIHBhcmFtLmVkZ2VzLmZvckVhY2goZnVuY3Rpb24oZWRnZSl7XHJcbiAgICAgICAgZWRnZS5yZXN0b3JlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gcGFyYW07XHJcbiAgICB9ZWxzZSBpZihlcnJvckNvZGUgPT0gXCJwZDEwMTI2XCIpe1xyXG4gICAgICBwYXJhbS5ub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uKG5vZGUpe1xyXG4gICAgICAgIG5vZGUucmVzdG9yZSgpO1xyXG4gICAgICB9KTtcclxuICAgICAgcGFyYW0uZWRnZXMuZm9yRWFjaChmdW5jdGlvbihlZGdlKXtcclxuICAgICAgICBlZGdlLnJlc3RvcmUoKTtcclxuICAgICAgfSk7ICAgICAgIFxyXG4gICAgICByZXR1cm4gcGFyYW07XHJcbiAgICB9ZWxzZSBpZihlcnJvckNvZGUgPT0gXCJwZDEwMTA5XCIgfHwgZXJyb3JDb2RlID09IFwicGQxMDEyNFwiKSB7XHJcblxyXG4gICAgICByZXN1bHQubmV3U291cmNlID0gcGFyYW0uZWRnZS5zb3VyY2UoKS5pZCgpO1xyXG4gICAgICByZXN1bHQubmV3VGFyZ2V0ID0gcGFyYW0uZWRnZS50YXJnZXQoKS5pZCgpO1xyXG4gICAgICByZXN1bHQucG9ydHNvdXJjZSA9IHBhcmFtLnBvcnRzb3VyY2U7XHJcbiAgICAgIHJlc3VsdC5lZGdlID0gcGFyYW0uZWRnZS5tb3ZlKHtcclxuICAgICAgICB0YXJnZXQ6IHBhcmFtLm5ld1RhcmdldCxcclxuICAgICAgICBzb3VyY2UgOiBwYXJhbS5uZXdTb3VyY2UgICAgICBcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBlbGVtZW50VXRpbGl0aWVzLmNoYW5nZURhdGEocmVzdWx0LmVkZ2UsICdwb3J0c291cmNlJywgcGFyYW0ucG9ydHNvdXJjZSk7IFxyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfWVsc2UgaWYoZXJyb3JDb2RlID09IFwicGQxMDExMlwiKSB7XHJcbiAgICAgXHJcbiAgICAgIC8vIElmIHRoaXMgaXMgZmlyc3QgdGltZSB3ZSBzaG91bGQgbW92ZSB0aGUgbm9kZSB0byBpdHMgbmV3IHBhcmVudCBhbmQgcmVsb2NhdGUgaXQgYnkgZ2l2ZW4gcG9zRGlmZiBwYXJhbXNcclxuICAgICAgLy8gZWxzZSB3ZSBzaG91bGQgcmVtb3ZlIHRoZSBtb3ZlZCBlbGVzIGFuZCByZXN0b3JlIHRoZSBlbGVzIHRvIHJlc3RvcmVcclxuICAgICAgaWYgKHBhcmFtLmZpcnN0VGltZSkge1xyXG4gICAgICAgIHZhciBuZXdQYXJlbnRJZCA9IHBhcmFtLnBhcmVudERhdGEgPT0gdW5kZWZpbmVkID8gbnVsbCA6IHBhcmFtLnBhcmVudERhdGE7XHJcbiAgICAgICAgLy8gVGhlc2UgZWxlcyBpbmNsdWRlcyB0aGUgbm9kZXMgYW5kIHRoZWlyIGNvbm5lY3RlZCBlZGdlcyBhbmQgd2lsbCBiZSByZW1vdmVkIGluIG5vZGVzLm1vdmUoKS5cclxuICAgICAgICAvLyBUaGV5IHNob3VsZCBiZSByZXN0b3JlZCBpbiB1bmRvXHJcbiAgICAgICAgdmFyIHdpdGhEZXNjZW5kYW50ID0gcGFyYW0ubm9kZXMudW5pb24ocGFyYW0ubm9kZXMuZGVzY2VuZGFudHMoKSk7XHJcbiAgICAgICAgcmVzdWx0LmVsZXNUb1Jlc3RvcmUgPSB3aXRoRGVzY2VuZGFudC51bmlvbih3aXRoRGVzY2VuZGFudC5jb25uZWN0ZWRFZGdlcygpKTtcclxuICAgICAgICAvLyBUaGVzZSBhcmUgdGhlIGVsZXMgY3JlYXRlZCBieSBub2Rlcy5tb3ZlKCksIHRoZXkgc2hvdWxkIGJlIHJlbW92ZWQgaW4gdW5kby5cclxuICAgICAgICByZXN1bHQubW92ZWRFbGVzID0gcGFyYW0ubm9kZXMubW92ZSh7XCJwYXJlbnRcIjogbmV3UGFyZW50SWR9KTtcclxuXHJcbiAgICAgICAgdmFyIHBvc0RpZmYgPSB7XHJcbiAgICAgICAgICB4OiBwYXJhbS5wb3NEaWZmWCxcclxuICAgICAgICAgIHk6IHBhcmFtLnBvc0RpZmZZXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZWxlbWVudFV0aWxpdGllcy5tb3ZlTm9kZXMocG9zRGlmZiwgcmVzdWx0Lm1vdmVkRWxlcyk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgcmVzdWx0LmVsZXNUb1Jlc3RvcmUgPSBwYXJhbS5tb3ZlZEVsZXMucmVtb3ZlKCk7XHJcbiAgICAgICAgcmVzdWx0Lm1vdmVkRWxlcyA9IHBhcmFtLmVsZXNUb1Jlc3RvcmUucmVzdG9yZSgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocGFyYW0uY2FsbGJhY2spIHtcclxuICAgICAgICByZXN1bHQuY2FsbGJhY2sgPSBwYXJhbS5jYWxsYmFjazsgLy8ga2VlcCB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgc28gaXQgY2FuIGJlIHJldXNlZCBhZnRlciB1bmRvL3JlZG9cclxuICAgICAgICBwYXJhbS5jYWxsYmFjayhyZXN1bHQubW92ZWRFbGVzKTsgLy8gYXBwbHkgdGhlIGNhbGxiYWNrIG9uIG5ld2x5IGNyZWF0ZWQgZWxlbWVudHNcclxuICAgICAgfVxyXG5cclxuICAgICBcclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgXHJcbiAgICB9ZWxzZSBpZihlcnJvckNvZGUgPT0gXCJwZDEwMTI1XCIpIHtcclxuXHJcbiAgICAgIGN5LiQoJyMnK3BhcmFtLm5ld0VkZ2UuaWQpLnJlbW92ZSgpO1xyXG4gICAgICBwYXJhbS5lZGdlID0gcGFyYW0uZWRnZS5yZXN0b3JlKCk7XHJcblxyXG4gICAgXHJcbiAgICAgIHJldHVybiBwYXJhbTtcclxuICAgICAgXHJcbiAgICB9ZWxzZSBpZihlcnJvckNvZGUgPT0gXCJwZDEwMTQyXCIpIHtcclxuICAgICAgY3kuJCgnIycrcGFyYW0ubmV3RWRnZS5pZCkucmVtb3ZlKCk7XHJcbiAgICAgIHBhcmFtLmVkZ2UgPSBwYXJhbS5lZGdlLnJlc3RvcmUoKTtcclxuXHJcbiAgICBcclxuICAgICAgcmV0dXJuIHBhcmFtO1xyXG4gICAgfWVsc2Uge1xyXG5cclxuICAgICAgcmVzdWx0Lm5ld1NvdXJjZSA9IHBhcmFtLmVkZ2Uuc291cmNlKCkuaWQoKTtcclxuICAgICAgcmVzdWx0Lm5ld1RhcmdldCA9IHBhcmFtLmVkZ2UudGFyZ2V0KCkuaWQoKTtcclxuICAgICAgcmVzdWx0LnBvcnR0YXJnZXQgPSBwYXJhbS5lZGdlLmRhdGEoXCJwb3J0dGFyZ2V0XCIpO1xyXG4gICAgICByZXN1bHQuZWRnZSA9IHBhcmFtLmVkZ2UubW92ZSh7XHJcbiAgICAgICAgdGFyZ2V0OiBwYXJhbS5uZXdUYXJnZXQsXHJcbiAgICAgICAgc291cmNlIDogcGFyYW0ubmV3U291cmNlICAgICAgXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZWxlbWVudFV0aWxpdGllcy5jaGFuZ2VEYXRhKHJlc3VsdC5lZGdlLCAncG9ydHRhcmdldCcsIHBhcmFtLnBvcnR0YXJnZXQpO1xyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG5cclxuICAgICAgXHJcbiAgICB9XHJcbiAgICBcclxuICB9XHJcblxyXG4gIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmNsb25lSGlnaERlZ3JlZU5vZGUgPSBmdW5jdGlvbihub2RlKXtcclxuXHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICB2YXIgb2xkWCA9IG5vZGUucG9zaXRpb24oKS54O1xyXG4gICAgdmFyIG9sZFkgPSBub2RlLnBvc2l0aW9uKCkueTtcclxuICAgIFxyXG4gICAgXHJcbiAgICB2YXIgY2xhY3VsYXRlTmV3Q2xvbmVQb3NpdGlvbiA9IGZ1bmN0aW9uKHNvdXJjZUVuZFBvaW50WCxzb3VyY2VFbmRQb2ludFksdGFyZ2V0RW5kUG9pbnRYLHRhcmdldEVuZFBvaW50WSxkZXNpcmVkRGlzdGFuY2UsZGlyZWN0aW9uKXtcclxuICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KE1hdGgucG93KHRhcmdldEVuZFBvaW50WS1zb3VyY2VFbmRQb2ludFksMikrIE1hdGgucG93KHRhcmdldEVuZFBvaW50WC1zb3VyY2VFbmRQb2ludFgsMikpO1xyXG4gICAgICB2YXIgcmF0aW8gPSBkZXNpcmVkRGlzdGFuY2UvZGlzdGFuY2U7XHJcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgICAgaWYoZGlyZWN0aW9uID09IFwic291cmNlXCIpeyBcclxuICAgICAgICByZXN1bHQuY3ggPSAoKDEtcmF0aW8pICogc291cmNlRW5kUG9pbnRYKSAgKyAocmF0aW8gKiB0YXJnZXRFbmRQb2ludFgpO1xyXG4gICAgICAgIHJlc3VsdC5jeSA9ICgoMS1yYXRpbykgKiBzb3VyY2VFbmRQb2ludFkpICArIChyYXRpbyAqIHRhcmdldEVuZFBvaW50WSk7XHJcbiAgICAgIH1lbHNleyAgICAgIFxyXG4gICAgICAgIHJlc3VsdC5jeCA9ICgoMS1yYXRpbykgKiB0YXJnZXRFbmRQb2ludFgpICArIChyYXRpbyAqIHNvdXJjZUVuZFBvaW50WCk7XHJcbiAgICAgICAgcmVzdWx0LmN5ID0gKCgxLXJhdGlvKSAqIHRhcmdldEVuZFBvaW50WSkgICsgKHJhdGlvICogc291cmNlRW5kUG9pbnRZKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07ICAgXHJcbiAgICB2YXIgZWRnZXMgPSBub2RlLmNvbm5lY3RlZEVkZ2VzKCk7XHJcbiAgICB2YXIgZGVzaXJlZERpc3RhbmNlID0gKG5vZGUuaGVpZ2h0KCkgPiBub2RlLndpZHRoKCk/IG5vZGUuaGVpZ2h0KCk6IG5vZGUud2lkdGgoKSkqIDAuMTtcclxuICAgIGZvcih2YXIgaSA9IDEgOyBpIDwgZWRnZXMubGVuZ3RoIDsgaSsrKXtcclxuICAgICAgdmFyIGVkZ2UgPSBlZGdlc1tpXTtcclxuICAgICAgdmFyIGluZGV4ID0gaTtcclxuICAgICAgdmFyIGVkZ2VDbG9uZSA9IGVkZ2UuY2xvbmUoKTtcclxuICAgICAgdmFyIHN0YXJ0UG9zaXRpb24gPSBlZGdlLnNvdXJjZSgpLmlkKCkgPT0gbm9kZS5pZCgpID8gXCJzb3VyY2VcIiA6IFwidGFyZ2V0XCI7ICAgIFxyXG4gICAgICB2YXIgbmV3UG9zaXRpb24gPSBjbGFjdWxhdGVOZXdDbG9uZVBvc2l0aW9uKGVkZ2Uuc291cmNlRW5kcG9pbnQoKS54LGVkZ2Uuc291cmNlRW5kcG9pbnQoKS55LGVkZ2UudGFyZ2V0RW5kcG9pbnQoKS54LGVkZ2UudGFyZ2V0RW5kcG9pbnQoKS55LGRlc2lyZWREaXN0YW5jZSxzdGFydFBvc2l0aW9uKTsgXHJcbiAgICAgIHZhciBuZXdOb2RlSWQgPSBub2RlLmlkKCkrJ2Nsb25lLScraW5kZXg7XHJcbiAgICAgIC8vZWRnZUNsb25lLmRhdGEoKS5pZCA9IGVkZ2VDbG9uZS5kYXRhKCkuaWQrIFwiLVwiK25ld05vZGVJZDtcclxuICAgICAgaWYoZWRnZS5zb3VyY2UoKS5pZCgpID09IG5vZGUuaWQoKSl7ICAgICAgICBcclxuICAgICAgICBlZGdlQ2xvbmUuZGF0YSgpLnNvdXJjZSA9IG5ld05vZGVJZDtcclxuICAgICAgICBlZGdlQ2xvbmUuZGF0YSgpLnBvcnRzb3VyY2UgPSBuZXdOb2RlSWQ7ICAgIFxyXG4gICAgICB9ZWxzZXtcclxuICAgICAgICAgIFxyXG4gICAgICAgIGVkZ2VDbG9uZS5kYXRhKCkudGFyZ2V0ID0gbmV3Tm9kZUlkO1xyXG4gICAgICAgIGVkZ2VDbG9uZS5kYXRhKCkucG9ydHRhcmdldCA9IG5ld05vZGVJZDsgICAgXHJcbiAgICAgIH1cclxuICAgICAgdmFyIG5ld05vZGUgPSBub2RlLmNsb25lKCk7XHJcbiAgICAgIG5ld05vZGUuZGF0YSgpLmlkID0gbmV3Tm9kZUlkO1xyXG4gICAgICBjeS5hZGQobmV3Tm9kZSk7XHJcbiAgICAgXHJcbiAgICAgIGVkZ2UucmVtb3ZlKCk7XHJcbiAgICAgIGN5LmFkZChlZGdlQ2xvbmUpO1xyXG4gICAgICBuZXdOb2RlLnBvc2l0aW9uKHtcclxuICAgICAgICB4OiBuZXdQb3NpdGlvbi5jeCxcclxuICAgICAgICB5OiBuZXdQb3NpdGlvbi5jeVxyXG4gICAgICB9KTtcclxuICAgICAgZWxlbWVudFV0aWxpdGllcy5zZXRDbG9uZU1hcmtlclN0YXR1cyhuZXdOb2RlLCB0cnVlKTtcclxuICAgICAgXHJcbiAgICB9ICBcclxuICAgIFxyXG4gICAgdmFyIG5ld1Bvc2l0aW9uID0gY2xhY3VsYXRlTmV3Q2xvbmVQb3NpdGlvbihcclxuICAgICAgZWRnZXNbMF0uc291cmNlRW5kcG9pbnQoKS54LFxyXG4gICAgICBlZGdlc1swXS5zb3VyY2VFbmRwb2ludCgpLnksXHJcbiAgICAgIGVkZ2VzWzBdLnRhcmdldEVuZHBvaW50KCkueCxcclxuICAgICAgZWRnZXNbMF0udGFyZ2V0RW5kcG9pbnQoKS55LFxyXG4gICAgICBkZXNpcmVkRGlzdGFuY2UsZWRnZXNbMF0uc291cmNlKCkuaWQoKSA9PSBub2RlLmlkKCkgPyBcInNvdXJjZVwiIDogXCJ0YXJnZXRcIlxyXG4gICAgICApO1xyXG4gIFxyXG4gICAgdmFyIGNsb25lRWRnZSA9IGVkZ2VzWzBdLmNsb25lKCk7XHJcbiAgICAvL2Nsb25lRWRnZS5kYXRhKCkuaWQgPSBjbG9uZUVkZ2UuZGF0YSgpLmlkKyBcIi1cIitub2RlLmlkKCkrJ2Nsb25lLTAnO1xyXG4gICAgXHJcbiAgICBlZGdlc1swXS5yZW1vdmUoKTtcclxuICAgIGN5LmFkZChjbG9uZUVkZ2UpO1xyXG4gICAgZWxlbWVudFV0aWxpdGllcy5zZXRDbG9uZU1hcmtlclN0YXR1cyhub2RlLHRydWUpO1xyXG4gICAgbm9kZS5wb3NpdGlvbih7XHJcbiAgICAgIHg6IG5ld1Bvc2l0aW9uLmN4LFxyXG4gICAgICB5OiBuZXdQb3NpdGlvbi5jeVxyXG4gICAgfSk7XHJcbiAgXHJcbiAgICByZXN1bHQub2xkWCA9IG9sZFg7ICAgIFxyXG4gICAgcmVzdWx0Lm9sZFkgPSBvbGRZO1xyXG4gICAgcmVzdWx0Lm5vZGUgPSBub2RlO1xyXG4gICAgcmVzdWx0Lm51bWJlck9mRWRnZXMgPSBlZGdlcy5sZW5ndGg7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG5cclxuICB9XHJcblxyXG4gIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLnVuQ2xvbmVIaWdoRGVncmVlTm9kZSA9IGZ1bmN0aW9uKHBhcmFtKXtcclxuXHJcbiAgICB2YXIgbm9kZSA9IHBhcmFtLm5vZGU7XHJcbiAgICBlbGVtZW50VXRpbGl0aWVzLnNldENsb25lTWFya2VyU3RhdHVzKG5vZGUsZmFsc2UpO1xyXG4gICAgbm9kZS5wb3NpdGlvbih7XHJcbiAgICAgIHg6IHBhcmFtLm9sZFgsXHJcbiAgICAgIHk6IHBhcmFtLm9sZFlcclxuICAgIH0pO1xyXG4gIFxyXG4gICAgZm9yKHZhciBpID0gMSA7IGkgPCBwYXJhbS5udW1iZXJPZkVkZ2VzIDsgaSsrKXtcclxuICAgICAgdmFyIGNsb25lSWQgPSBub2RlLmlkKCkrJ2Nsb25lLScraTtcclxuICAgICAgdmFyIGNsb25lID0gY3kuJChcIiNcIitjbG9uZUlkKTtcclxuICAgICAgdmFyIGNsb25lRWRnZSA9IGNsb25lLmNvbm5lY3RlZEVkZ2VzKClbMF07XHJcbiAgICAgIHZhciBlZGdlID0gY2xvbmVFZGdlLmNsb25lKCk7XHJcbiAgICAgIFxyXG4gICAgXHJcbiAgICAgIGlmKGVkZ2UuZGF0YSgpLnNvdXJjZSA9PSBjbG9uZUlkKXsgICAgICAgIFxyXG4gICAgICAgIGVkZ2UuZGF0YSgpLnNvdXJjZSA9IG5vZGUuaWQoKTtcclxuICAgICAgICBlZGdlLmRhdGEoKS5wb3J0c291cmNlID0gIG5vZGUuaWQoKTsgICAgXHJcbiAgICAgIH1lbHNleyAgICAgICAgICBcclxuICAgICAgICBlZGdlLmRhdGEoKS50YXJnZXQgPSAgbm9kZS5pZCgpO1xyXG4gICAgICAgIGVkZ2UuZGF0YSgpLnBvcnR0YXJnZXQgPSAgbm9kZS5pZCgpOyAgICBcclxuICAgICAgfVxyXG5cclxuICAgICAgY2xvbmVFZGdlLnJlbW92ZSgpO1xyXG4gICAgICBjbG9uZS5yZW1vdmUoKTtcclxuICAgICAgXHJcbiAgICAgIGN5LmFkZChlZGdlKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbm9kZTtcclxuICB9XHJcblxyXG4gIHVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zLmNoYW5nZU1hcFR5cGUgPSBmdW5jdGlvbihwYXJhbSl7XHJcbiAgICB2YXIgcmVzdWx0ID17fTtcclxuICAgIHZhciBjdXJyZW50TWFwVHlwZSA9IGVsZW1lbnRVdGlsaXRpZXMuZ2V0TWFwVHlwZSgpO1xyXG4gICAgZWxlbWVudFV0aWxpdGllcy5zZXRNYXBUeXBlKHBhcmFtLm1hcFR5cGUpO1xyXG4gICAgcmVzdWx0Lm1hcFR5cGUgPSBjdXJyZW50TWFwVHlwZTtcclxuICAgIHJlc3VsdC5jYWxsYmFjayA9IHBhcmFtLmNhbGxiYWNrO1xyXG4gICAgcGFyYW0uY2FsbGJhY2soKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG5cclxuICB9XHJcblxyXG4gIHJldHVybiB1bmRvUmVkb0FjdGlvbkZ1bmN0aW9uc0V4dGVuZGVyO1xyXG59O1xyXG4iXSwibmFtZXMiOlsibGlicyIsInJlcXVpcmUiLCJnZXRMaWJzIiwibW9kdWxlIiwiZXhwb3J0cyIsInNiZ252aXpJbnN0YW5jZSIsInVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zIiwiZWxlbWVudFV0aWxpdGllcyIsImN5IiwidG9wb2xvZ3lHcm91cGluZyIsInVuZG9SZWRvQWN0aW9uRnVuY3Rpb25zRXh0ZW5kZXIiLCJwYXJhbSIsInNiZ252aXpJbnN0YW5jZVV0aWxpdGllcyIsImdldEluc3RhbmNlIiwiZ2V0Q3kiLCJzaWZUb3BvbG9neUdyb3VwaW5nIiwiZXh0ZW5kIiwiYXBwbHlTSUZUb3BvbG9neUdyb3VwaW5nIiwib2xkRWxlcyIsIm5ld0VsZXMiLCJmaXJzdFRpbWUiLCJlbGVtZW50cyIsImFwcGx5IiwidW5hcHBseSIsImlzR3JhcGhUb3BvbG9neUxvY2tlZCIsInVubG9ja0dyYXBoVG9wb2xvZ3kiLCJsb2NrR3JhcGhUb3BvbG9neSIsInJlbW92ZSIsInJlc3RvcmUiLCJ0b2dnbGVBcHBsaWVkRmxhZyIsInJlc3VsdCIsImFkZE5vZGUiLCJuZXdOb2RlIiwieCIsInkiLCJpZCIsInBhcmVudCIsInZpc2liaWxpdHkiLCJyZXN0b3JlRWxlcyIsImVsZXMiLCJhZGRFZGdlIiwibmV3RWRnZSIsInNvdXJjZSIsInRhcmdldCIsImFkZFByb2Nlc3NXaXRoQ29udmVuaWVudEVkZ2VzIiwicHJvY2Vzc1R5cGUiLCJjcmVhdGVDb21wb3VuZEZvckdpdmVuTm9kZXMiLCJub2Rlc1RvTWFrZUNvbXBvdW5kIiwicmVtb3ZlZEVsZXMiLCJ1bmlvbiIsImRlc2NlbmRhbnRzIiwiY29ubmVjdGVkRWRnZXMiLCJvbGRQYXJlbnRJZCIsImRhdGEiLCJjb21wb3VuZFR5cGUiLCJtYWludGFpblBvaW50ZXIiLCJjcmVhdGVUZW1wbGF0ZVJlYWN0aW9uIiwidGVtcGxhdGVUeXBlIiwibWFjcm9tb2xlY3VsZUxpc3QiLCJjb21wbGV4TmFtZSIsInByb2Nlc3NQb3NpdGlvbiIsInRpbGluZ1BhZGRpbmdWZXJ0aWNhbCIsInRpbGluZ1BhZGRpbmdIb3Jpem9udGFsIiwiZWRnZUxlbmd0aCIsImxheW91dFBhcmFtIiwiYWRkIiwidW5zZWxlY3QiLCJzZWxlY3QiLCJjcmVhdGVBY3RpdmF0aW9uUmVhY3Rpb24iLCJwcm90ZWluTmFtZSIsInJldmVyc2UiLCJjcmVhdGVUcmFuc2xhdGlvbiIsInJlZ3VsYXRvckxhYmVsIiwib3V0cHV0TGFiZWwiLCJvcmllbnRhdGlvbiIsImNyZWF0ZVRyYW5zY3JpcHRpb24iLCJsYWJlbCIsImNyZWF0ZURlZ3JhZGF0aW9uIiwibWFjcm9tb2xlY3VsZSIsImNyZWF0ZUNvbXBsZXhQcm90ZWluRm9ybWF0aW9uIiwicHJvdGVpbkxhYmVscyIsImNvbXBsZXhMYWJlbCIsInJlZ3VsYXRvciIsImNyZWF0ZU11bHRpbWVyaXphdGlvbiIsInJlZ3VsYXRvck11bHRpbWVyIiwiY3JlYXRlQ29udmVyc2lvbiIsImlucHV0SW5mb2JveExhYmVscyIsIm91dHB1dEluZm9ib3hMYWJlbHMiLCJjcmVhdGVNZXRhYm9saWNSZWFjdGlvbiIsImlucHV0cyIsIm91dHB1dHMiLCJyZXZlcnNpYmxlIiwiY3JlYXRlTWV0YWJvbGljQ2F0YWx5dGljQWN0aXZpdHkiLCJpbnB1dE5vZGVMaXN0Iiwib3V0cHV0Tm9kZUxpc3QiLCJjYXRhbHlzdE5hbWUiLCJjYXRhbHlzdFR5cGUiLCJjcmVhdGVUcmFuc2NyaXB0aW9uUmVhY3Rpb24iLCJnZW5lTmFtZSIsIm1SbmFOYW1lIiwiY3JlYXRlVHJhbnNsYXRpb25SZWFjdGlvbiIsImdldE5vZGVQb3NpdGlvbnMiLCJwb3NpdGlvbnMiLCJub2RlcyIsImVhY2giLCJlbGUiLCJpIiwicG9zaXRpb24iLCJyZXR1cm5Ub1Bvc2l0aW9ucyIsImN1cnJlbnRQb3NpdGlvbnMiLCJwb3MiLCJyZXNpemVOb2RlcyIsInBlcmZvcm1PcGVyYXRpb24iLCJzaXplTWFwIiwidXNlQXNwZWN0UmF0aW8iLCJwcmVzZXJ2ZVJlbGF0aXZlUG9zIiwibGVuZ3RoIiwibm9kZSIsImlzUGFyZW50IiwidyIsImgiLCJiaWFzTCIsImJpYXNSIiwiYmlhc1QiLCJiaWFzQiIsIndpZHRoIiwiaGVpZ2h0Iiwic3R5bGUiLCJ1cGRhdGUiLCJjaGFuZ2VOb2RlTGFiZWwiLCJfcHJpdmF0ZSIsInVwZGF0ZUluZm9ib3hTdHlsZSIsImluZGV4IiwibmV3UHJvcHMiLCIkIiwidXBkYXRlSW5mb2JveE9iaiIsIm9iaiIsInJlZ2VuZXJhdGVJZCIsInZhbHVlIiwiY2hhbmdlRGF0YSIsIm5hbWUiLCJ2YWx1ZU1hcCIsInVwZGF0ZVNldEZpZWxkIiwidXBkYXRlcyIsImZpZWxkTmFtZSIsInRvRGVsZXRlIiwidG9BZGQiLCJjYWxsYmFjayIsImFkZGVkIiwiZGVsZXRlZCIsImNoYW5nZUNzcyIsImNzcyIsImNoYW5nZUZvbnRQcm9wZXJ0aWVzIiwicHJvcCIsInNob3dBbmRQZXJmb3JtTGF5b3V0IiwibGF5b3V0cGFyYW0iLCJ2aWV3VXRpbGl0aWVzIiwic2hvdyIsInVuZG9TaG93QW5kUGVyZm9ybUxheW91dCIsImhpZGUiLCJoaWRlQW5kUGVyZm9ybUxheW91dCIsInVuZG9IaWRlQW5kUGVyZm9ybUxheW91dCIsImRlbGV0ZUFuZFBlcmZvcm1MYXlvdXQiLCJ1bmRvRGVsZXRlQW5kUGVyZm9ybUxheW91dCIsImNoYW5nZVN0YXRlT3JJbmZvQm94IiwidHlwZSIsInRlbXBEYXRhIiwic2F2ZVVuaXRzIiwidW5kZWZpbmVkIiwicmVzdG9yZVVuaXRzIiwiZm9yY2VSZW5kZXIiLCJhZGRTdGF0ZU9ySW5mb0JveCIsImxvY2F0aW9uT2JqIiwicmVtb3ZlU3RhdGVPckluZm9Cb3giLCJmaXRVbml0cyIsImxvY2F0aW9ucyIsImZvckVhY2giLCJib3giLCJiYm94Iiwib2xkU2lkZSIsImFuY2hvclNpZGUiLCJtb2RpZnlVbml0cyIsInNldE11bHRpbWVyU3RhdHVzIiwic3RhdHVzIiwicmVzdWx0U3RhdHVzIiwiaXNNdWx0aW1lciIsImVuZHNXaXRoIiwic2V0QWN0aXZlU3RhdHVzIiwiaXNBY3RpdmUiLCJzdGFydHNXaXRoIiwic2V0SHlwb3RoZXRpY2FsU3RhdHVzIiwiaXNIeXBvdGhldGljYWwiLCJpbmNsdWRlcyIsInNldENsb25lTWFya2VyU3RhdHVzIiwiY3VycmVudFN0YXR1cyIsInNldERlZmF1bHRQcm9wZXJ0eSIsInNiZ25jbGFzcyIsImNsYXNzRGVmYXVsdHMiLCJnZXREZWZhdWx0UHJvcGVydGllcyIsImhhc093blByb3BlcnR5IiwicHJvcE1hcCIsInNldERlZmF1bHRQcm9wZXJ0aWVzIiwiYWRkQmFja2dyb3VuZEltYWdlIiwiYmdPYmoiLCJ1cGRhdGVJbmZvIiwicHJvbXB0SW52YWxpZEltYWdlIiwidmFsaWRhdGVVUkwiLCJyZW1vdmVCYWNrZ3JvdW5kSW1hZ2UiLCJ1cGRhdGVCYWNrZ3JvdW5kSW1hZ2UiLCJvbGRCZ09iaiIsImNoYW5nZUJhY2tncm91bmRJbWFnZSIsIm9sZEltZyIsIm5ld0ltZyIsImNvbnZlcnRJbnRvUmV2ZXJzaWJsZVJlYWN0aW9uIiwiY29sbGVjdGlvbiIsIm1hcFR5cGUiLCJnZXRNYXBUeXBlIiwic2V0TWFwVHlwZSIsInZhbCIsImVkZ2UiLCJzb3VyY2VOb2RlIiwidGFyZ2V0Tm9kZSIsIm1vdmUiLCJjb252ZXJ0ZWRFZGdlIiwiZ2V0RWxlbWVudEJ5SWQiLCJkaXN0YW5jZSIsIm1hcCIsImVsZW1lbnQiLCJ3ZWlnaHQiLCJwb3J0c291cmNlIiwicG9ydHRhcmdldCIsInByb2Nlc3NJZCIsIm1vdmVFZGdlIiwiZml4RXJyb3IiLCJlcnJvckNvZGUiLCJyZXZlcnNlRWRnZSIsIm5ld05vZGVzIiwibmV3RWRnZXMiLCJvbGRFZGdlcyIsIm9sZEVkZ2UiLCJlZGdlcyIsIm5ld1NvdXJjZSIsIm5ld1RhcmdldCIsImNsb25lZEVkZ2UiLCJjbG9uZSIsImVkZ2VQYXJhbXMiLCJsYW5ndWFnZSIsIm5ld1BhcmVudElkIiwicGFyZW50RGF0YSIsIndpdGhEZXNjZW5kYW50IiwiZWxlc1RvUmVzdG9yZSIsIm1vdmVkRWxlcyIsInBvc0RpZmYiLCJwb3NEaWZmWCIsInBvc0RpZmZZIiwibW92ZU5vZGVzIiwiZWRnZWNsYXNzIiwidmFsaWRhdGlvbiIsInZhbGlkYXRlQXJyb3dFbmRzIiwidGVtcCIsInVuZml4RXJyb3IiLCJhbmltYXRlIiwiZHVyYXRpb24iLCJlYXNpbmciLCJmaXQiLCJwYWRkaW5nIiwiY29tcGxldGUiLCJjbG9uZUhpZ2hEZWdyZWVOb2RlIiwib2xkWCIsIm9sZFkiLCJjbGFjdWxhdGVOZXdDbG9uZVBvc2l0aW9uIiwic291cmNlRW5kUG9pbnRYIiwic291cmNlRW5kUG9pbnRZIiwidGFyZ2V0RW5kUG9pbnRYIiwidGFyZ2V0RW5kUG9pbnRZIiwiZGVzaXJlZERpc3RhbmNlIiwiZGlyZWN0aW9uIiwiTWF0aCIsInNxcnQiLCJwb3ciLCJyYXRpbyIsImN4IiwiZWRnZUNsb25lIiwic3RhcnRQb3NpdGlvbiIsIm5ld1Bvc2l0aW9uIiwic291cmNlRW5kcG9pbnQiLCJ0YXJnZXRFbmRwb2ludCIsIm5ld05vZGVJZCIsImNsb25lRWRnZSIsIm51bWJlck9mRWRnZXMiLCJ1bkNsb25lSGlnaERlZ3JlZU5vZGUiLCJjbG9uZUlkIiwiY2hhbmdlTWFwVHlwZSIsImN1cnJlbnRNYXBUeXBlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/utilities/ur-action-functions-extender-factory.js\n");

/***/ }),

/***/ "./node_modules/lodash.isequal/index.js":
/*!**********************************************!*\
  !*** ./node_modules/lodash.isequal/index.js ***!
  \**********************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("/* module decorator */ module = __webpack_require__.nmd(module);\n/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof __webpack_require__.g == 'object' && __webpack_require__.g && __webpack_require__.g.Object === Object && __webpack_require__.g;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports =  true && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && \"object\" == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = isEqual;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoLmlzZXF1YWwvaW5kZXguanMiLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DOztBQUVwQztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0JBQXdCLHFCQUFNLGdCQUFnQixxQkFBTSxJQUFJLHFCQUFNLHNCQUFzQixxQkFBTTs7QUFFMUY7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLEtBQTBCOztBQUU1QztBQUNBLGdDQUFnQyxRQUFhOztBQUU3QztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxVQUFVO0FBQ3JCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsVUFBVTtBQUNyQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsR0FBRztBQUNoQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsVUFBVTtBQUNyQixhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsR0FBRztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLEdBQUc7QUFDZCxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7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QUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQixXQUFXLFVBQVU7QUFDckIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtB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O0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NoaXNlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC5pc2VxdWFsL2luZGV4LmpzPzVkYTEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMb2Rhc2ggKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCBKUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanMuZm91bmRhdGlvbi8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgdGhlIHNpemUgdG8gZW5hYmxlIGxhcmdlIGFycmF5IG9wdGltaXphdGlvbnMuICovXG52YXIgTEFSR0VfQVJSQVlfU0laRSA9IDIwMDtcblxuLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xudmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4vKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciB2YWx1ZSBjb21wYXJpc29ucy4gKi9cbnZhciBDT01QQVJFX1BBUlRJQUxfRkxBRyA9IDEsXG4gICAgQ09NUEFSRV9VTk9SREVSRURfRkxBRyA9IDI7XG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgIGFycmF5VGFnID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgICBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICBib29sVGFnID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgIGRhdGVUYWcgPSAnW29iamVjdCBEYXRlXScsXG4gICAgZXJyb3JUYWcgPSAnW29iamVjdCBFcnJvcl0nLFxuICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICBwcm9taXNlVGFnID0gJ1tvYmplY3QgUHJvbWlzZV0nLFxuICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJyxcbiAgICByZWdleHBUYWcgPSAnW29iamVjdCBSZWdFeHBdJyxcbiAgICBzZXRUYWcgPSAnW29iamVjdCBTZXRdJyxcbiAgICBzdHJpbmdUYWcgPSAnW29iamVjdCBTdHJpbmddJyxcbiAgICBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJyxcbiAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJyxcbiAgICB3ZWFrTWFwVGFnID0gJ1tvYmplY3QgV2Vha01hcF0nO1xuXG52YXIgYXJyYXlCdWZmZXJUYWcgPSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nLFxuICAgIGRhdGFWaWV3VGFnID0gJ1tvYmplY3QgRGF0YVZpZXddJyxcbiAgICBmbG9hdDMyVGFnID0gJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgZmxvYXQ2NFRhZyA9ICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nLFxuICAgIGludDhUYWcgPSAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICBpbnQxNlRhZyA9ICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICBpbnQzMlRhZyA9ICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICB1aW50OFRhZyA9ICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICB1aW50OENsYW1wZWRUYWcgPSAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgIHVpbnQxNlRhZyA9ICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgdWludDMyVGFnID0gJ1tvYmplY3QgVWludDMyQXJyYXldJztcblxuLyoqXG4gKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAqL1xudmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xudmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbi8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbnZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbi8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIG9mIHR5cGVkIGFycmF5cy4gKi9cbnZhciB0eXBlZEFycmF5VGFncyA9IHt9O1xudHlwZWRBcnJheVRhZ3NbZmxvYXQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1tmbG9hdDY0VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50OFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQxNlRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG50eXBlZEFycmF5VGFnc1thcmdzVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2FycmF5VGFnXSA9XG50eXBlZEFycmF5VGFnc1thcnJheUJ1ZmZlclRhZ10gPSB0eXBlZEFycmF5VGFnc1tib29sVGFnXSA9XG50eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9XG50eXBlZEFycmF5VGFnc1tlcnJvclRhZ10gPSB0eXBlZEFycmF5VGFnc1tmdW5jVGFnXSA9XG50eXBlZEFycmF5VGFnc1ttYXBUYWddID0gdHlwZWRBcnJheVRhZ3NbbnVtYmVyVGFnXSA9XG50eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9XG50eXBlZEFycmF5VGFnc1tzZXRUYWddID0gdHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXSA9XG50eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG52YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbnZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbi8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG52YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBwcm9jZXNzYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZVByb2Nlc3MgPSBtb2R1bGVFeHBvcnRzICYmIGZyZWVHbG9iYWwucHJvY2VzcztcblxuLyoqIFVzZWQgdG8gYWNjZXNzIGZhc3RlciBOb2RlLmpzIGhlbHBlcnMuICovXG52YXIgbm9kZVV0aWwgPSAoZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGZyZWVQcm9jZXNzICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuICB9IGNhdGNoIChlKSB7fVxufSgpKTtcblxuLyogTm9kZS5qcyBoZWxwZXIgcmVmZXJlbmNlcy4gKi9cbnZhciBub2RlSXNUeXBlZEFycmF5ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNUeXBlZEFycmF5O1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5maWx0ZXJgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlGaWx0ZXIoYXJyYXksIHByZWRpY2F0ZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgcmVzdWx0ID0gW107XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQXBwZW5kcyB0aGUgZWxlbWVudHMgb2YgYHZhbHVlc2AgdG8gYGFycmF5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGFwcGVuZC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICovXG5mdW5jdGlvbiBhcnJheVB1c2goYXJyYXksIHZhbHVlcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICBvZmZzZXQgPSBhcnJheS5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBhcnJheVtvZmZzZXQgKyBpbmRleF0gPSB2YWx1ZXNbaW5kZXhdO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc29tZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gKiBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGFycmF5U29tZShhcnJheSwgcHJlZGljYXRlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG4gKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUaW1lcyhuLCBpdGVyYXRlZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShpbmRleCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmFyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBzdG9yaW5nIG1ldGFkYXRhLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICB9O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGBjYWNoZWAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IGNhY2hlIFRoZSBjYWNoZSB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBjYWNoZUhhcyhjYWNoZSwga2V5KSB7XG4gIHJldHVybiBjYWNoZS5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG59XG5cbi8qKlxuICogQ29udmVydHMgYG1hcGAgdG8gaXRzIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAqL1xuZnVuY3Rpb24gbWFwVG9BcnJheShtYXApIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShtYXAuc2l6ZSk7XG5cbiAgbWFwLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgIHJlc3VsdFsrK2luZGV4XSA9IFtrZXksIHZhbHVlXTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICB9O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBzZXRgIHRvIGFuIGFycmF5IG9mIGl0cyB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIHNldFRvQXJyYXkoc2V0KSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXG4gIHNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0gdmFsdWU7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSxcbiAgICBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG52YXIgY29yZUpzRGF0YSA9IHJvb3RbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xudmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbn0oKSk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xudmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4pO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBCdWZmZXIgPSBtb2R1bGVFeHBvcnRzID8gcm9vdC5CdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgU3ltYm9sID0gcm9vdC5TeW1ib2wsXG4gICAgVWludDhBcnJheSA9IHJvb3QuVWludDhBcnJheSxcbiAgICBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlLFxuICAgIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlLFxuICAgIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlR2V0U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsXG4gICAgbmF0aXZlSXNCdWZmZXIgPSBCdWZmZXIgPyBCdWZmZXIuaXNCdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgbmF0aXZlS2V5cyA9IG92ZXJBcmcoT2JqZWN0LmtleXMsIE9iamVjdCk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbnZhciBEYXRhVmlldyA9IGdldE5hdGl2ZShyb290LCAnRGF0YVZpZXcnKSxcbiAgICBNYXAgPSBnZXROYXRpdmUocm9vdCwgJ01hcCcpLFxuICAgIFByb21pc2UgPSBnZXROYXRpdmUocm9vdCwgJ1Byb21pc2UnKSxcbiAgICBTZXQgPSBnZXROYXRpdmUocm9vdCwgJ1NldCcpLFxuICAgIFdlYWtNYXAgPSBnZXROYXRpdmUocm9vdCwgJ1dlYWtNYXAnKSxcbiAgICBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtYXBzLCBzZXRzLCBhbmQgd2Vha21hcHMuICovXG52YXIgZGF0YVZpZXdDdG9yU3RyaW5nID0gdG9Tb3VyY2UoRGF0YVZpZXcpLFxuICAgIG1hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShNYXApLFxuICAgIHByb21pc2VDdG9yU3RyaW5nID0gdG9Tb3VyY2UoUHJvbWlzZSksXG4gICAgc2V0Q3RvclN0cmluZyA9IHRvU291cmNlKFNldCksXG4gICAgd2Vha01hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShXZWFrTWFwKTtcblxuLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG52YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgIHN5bWJvbFZhbHVlT2YgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnZhbHVlT2YgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhhc2ggb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBIYXNoKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIEhhc2hcbiAqL1xuZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmF0aXZlQ3JlYXRlID8gbmF0aXZlQ3JlYXRlKG51bGwpIDoge307XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7T2JqZWN0fSBoYXNoIFRoZSBoYXNoIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoRGVsZXRlKGtleSkge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldO1xuICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICB9XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gKGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgdGhpcy5zaXplICs9IHRoaXMuaGFzKGtleSkgPyAwIDogMTtcbiAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgSGFzaGAuXG5IYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbkhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG5IYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0O1xuSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbkhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IFtdO1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgbGFzdEluZGV4ID0gZGF0YS5sZW5ndGggLSAxO1xuICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgZGF0YS5wb3AoKTtcbiAgfSBlbHNlIHtcbiAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gIH1cbiAgLS10aGlzLnNpemU7XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGRhdGFbaW5kZXhdWzFdO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBsaXN0IGNhY2hlIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICArK3RoaXMuc2l6ZTtcbiAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgfSBlbHNlIHtcbiAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbkxpc3RDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBsaXN0Q2FjaGVDbGVhcjtcbkxpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmhhcyA9IGxpc3RDYWNoZUhhcztcbkxpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuICB0aGlzLnNpemUgPSAwO1xuICB0aGlzLl9fZGF0YV9fID0ge1xuICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgJ21hcCc6IG5ldyAoTWFwIHx8IExpc3RDYWNoZSksXG4gICAgJ3N0cmluZyc6IG5ldyBIYXNoXG4gIH07XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIHJlc3VsdCA9IGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbiAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG1hcCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuZ2V0KGtleSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbWFwIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuaGFzKGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbWFwIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IGdldE1hcERhdGEodGhpcywga2V5KSxcbiAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHRoaXMuc2l6ZSArPSBkYXRhLnNpemUgPT0gc2l6ZSA/IDAgOiAxO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbk1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG5NYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbWFwQ2FjaGVEZWxldGU7XG5NYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG5NYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG5NYXBDYWNoZS5wcm90b3R5cGUuc2V0ID0gbWFwQ2FjaGVTZXQ7XG5cbi8qKlxuICpcbiAqIENyZWF0ZXMgYW4gYXJyYXkgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIHVuaXF1ZSB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gU2V0Q2FjaGUodmFsdWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gdmFsdWVzID09IG51bGwgPyAwIDogdmFsdWVzLmxlbmd0aDtcblxuICB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHRoaXMuYWRkKHZhbHVlc1tpbmRleF0pO1xuICB9XG59XG5cbi8qKlxuICogQWRkcyBgdmFsdWVgIHRvIHRoZSBhcnJheSBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgYWRkXG4gKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAqIEBhbGlhcyBwdXNoXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjYWNoZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBzZXRDYWNoZUFkZCh2YWx1ZSkge1xuICB0aGlzLl9fZGF0YV9fLnNldCh2YWx1ZSwgSEFTSF9VTkRFRklORUQpO1xuICByZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBpbiB0aGUgYXJyYXkgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIFNldENhY2hlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzZXRDYWNoZUhhcyh2YWx1ZSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXModmFsdWUpO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgU2V0Q2FjaGVgLlxuU2V0Q2FjaGUucHJvdG90eXBlLmFkZCA9IFNldENhY2hlLnByb3RvdHlwZS5wdXNoID0gc2V0Q2FjaGVBZGQ7XG5TZXRDYWNoZS5wcm90b3R5cGUuaGFzID0gc2V0Q2FjaGVIYXM7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0YWNrIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIFN0YWNrKGVudHJpZXMpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZShlbnRyaWVzKTtcbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIHN0YWNrLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIFN0YWNrXG4gKi9cbmZ1bmN0aW9uIHN0YWNrQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlO1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzdGFja0RlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgcmVzdWx0ID0gZGF0YVsnZGVsZXRlJ10oa2V5KTtcblxuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgc3RhY2sgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrR2V0KGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBzdGFjayB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrSGFzKGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBzdGFjayBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBzdGFjayBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gc3RhY2tTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChkYXRhIGluc3RhbmNlb2YgTGlzdENhY2hlKSB7XG4gICAgdmFyIHBhaXJzID0gZGF0YS5fX2RhdGFfXztcbiAgICBpZiAoIU1hcCB8fCAocGFpcnMubGVuZ3RoIDwgTEFSR0VfQVJSQVlfU0laRSAtIDEpKSB7XG4gICAgICBwYWlycy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICB0aGlzLnNpemUgPSArK2RhdGEuc2l6ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZShwYWlycyk7XG4gIH1cbiAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBTdGFja2AuXG5TdGFjay5wcm90b3R5cGUuY2xlYXIgPSBzdGFja0NsZWFyO1xuU3RhY2sucHJvdG90eXBlWydkZWxldGUnXSA9IHN0YWNrRGVsZXRlO1xuU3RhY2sucHJvdG90eXBlLmdldCA9IHN0YWNrR2V0O1xuU3RhY2sucHJvdG90eXBlLmhhcyA9IHN0YWNrSGFzO1xuU3RhY2sucHJvdG90eXBlLnNldCA9IHN0YWNrU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGluaGVyaXRlZCBTcGVjaWZ5IHJldHVybmluZyBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBhcnJheUxpa2VLZXlzKHZhbHVlLCBpbmhlcml0ZWQpIHtcbiAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSksXG4gICAgICBpc0FyZyA9ICFpc0FyciAmJiBpc0FyZ3VtZW50cyh2YWx1ZSksXG4gICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgIWlzQXJnICYmIGlzQnVmZmVyKHZhbHVlKSxcbiAgICAgIGlzVHlwZSA9ICFpc0FyciAmJiAhaXNBcmcgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkodmFsdWUpLFxuICAgICAgc2tpcEluZGV4ZXMgPSBpc0FyciB8fCBpc0FyZyB8fCBpc0J1ZmYgfHwgaXNUeXBlLFxuICAgICAgcmVzdWx0ID0gc2tpcEluZGV4ZXMgPyBiYXNlVGltZXModmFsdWUubGVuZ3RoLCBTdHJpbmcpIDogW10sXG4gICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgIGlmICgoaW5oZXJpdGVkIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpICYmXG4gICAgICAgICEoc2tpcEluZGV4ZXMgJiYgKFxuICAgICAgICAgICAvLyBTYWZhcmkgOSBoYXMgZW51bWVyYWJsZSBgYXJndW1lbnRzLmxlbmd0aGAgaW4gc3RyaWN0IG1vZGUuXG4gICAgICAgICAgIGtleSA9PSAnbGVuZ3RoJyB8fFxuICAgICAgICAgICAvLyBOb2RlLmpzIDAuMTAgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gYnVmZmVycy5cbiAgICAgICAgICAgKGlzQnVmZiAmJiAoa2V5ID09ICdvZmZzZXQnIHx8IGtleSA9PSAncGFyZW50JykpIHx8XG4gICAgICAgICAgIC8vIFBoYW50b21KUyAyIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIHR5cGVkIGFycmF5cy5cbiAgICAgICAgICAgKGlzVHlwZSAmJiAoa2V5ID09ICdidWZmZXInIHx8IGtleSA9PSAnYnl0ZUxlbmd0aCcgfHwga2V5ID09ICdieXRlT2Zmc2V0JykpIHx8XG4gICAgICAgICAgIC8vIFNraXAgaW5kZXggcHJvcGVydGllcy5cbiAgICAgICAgICAgaXNJbmRleChrZXksIGxlbmd0aClcbiAgICAgICAgKSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0ga2V5IFRoZSBrZXkgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG4gICAgICByZXR1cm4gbGVuZ3RoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldEFsbEtleXNgIGFuZCBgZ2V0QWxsS2V5c0luYCB3aGljaCB1c2VzXG4gKiBga2V5c0Z1bmNgIGFuZCBgc3ltYm9sc0Z1bmNgIHRvIGdldCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAqIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzeW1ib2xzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzRnVuYywgc3ltYm9sc0Z1bmMpIHtcbiAgdmFyIHJlc3VsdCA9IGtleXNGdW5jKG9iamVjdCk7XG4gIHJldHVybiBpc0FycmF5KG9iamVjdCkgPyByZXN1bHQgOiBhcnJheVB1c2gocmVzdWx0LCBzeW1ib2xzRnVuYyhvYmplY3QpKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYCB3aXRob3V0IGZhbGxiYWNrcyBmb3IgYnVnZ3kgZW52aXJvbm1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gIH1cbiAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgID8gZ2V0UmF3VGFnKHZhbHVlKVxuICAgIDogb2JqZWN0VG9TdHJpbmcodmFsdWUpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJndW1lbnRzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0FyZ3VtZW50cyh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcmdzVGFnO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRXF1YWxgIHdoaWNoIHN1cHBvcnRzIHBhcnRpYWwgY29tcGFyaXNvbnNcbiAqIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICogIDEgLSBVbm9yZGVyZWQgY29tcGFyaXNvblxuICogIDIgLSBQYXJ0aWFsIGNvbXBhcmlzb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgdmFsdWVgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gIGlmICh2YWx1ZSA9PT0gb3RoZXIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAodmFsdWUgPT0gbnVsbCB8fCBvdGhlciA9PSBudWxsIHx8ICghaXNPYmplY3RMaWtlKHZhbHVlKSAmJiAhaXNPYmplY3RMaWtlKG90aGVyKSkpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcjtcbiAgfVxuICByZXR1cm4gYmFzZUlzRXF1YWxEZWVwKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgYmFzZUlzRXF1YWwsIHN0YWNrKTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gKiBkZWVwIGNvbXBhcmlzb25zIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gKiByZWZlcmVuY2VzIHRvIGJlIGNvbXBhcmVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNFcXVhbERlZXAob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICB2YXIgb2JqSXNBcnIgPSBpc0FycmF5KG9iamVjdCksXG4gICAgICBvdGhJc0FyciA9IGlzQXJyYXkob3RoZXIpLFxuICAgICAgb2JqVGFnID0gb2JqSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvYmplY3QpLFxuICAgICAgb3RoVGFnID0gb3RoSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvdGhlcik7XG5cbiAgb2JqVGFnID0gb2JqVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvYmpUYWc7XG4gIG90aFRhZyA9IG90aFRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb3RoVGFnO1xuXG4gIHZhciBvYmpJc09iaiA9IG9ialRhZyA9PSBvYmplY3RUYWcsXG4gICAgICBvdGhJc09iaiA9IG90aFRhZyA9PSBvYmplY3RUYWcsXG4gICAgICBpc1NhbWVUYWcgPSBvYmpUYWcgPT0gb3RoVGFnO1xuXG4gIGlmIChpc1NhbWVUYWcgJiYgaXNCdWZmZXIob2JqZWN0KSkge1xuICAgIGlmICghaXNCdWZmZXIob3RoZXIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIG9iaklzQXJyID0gdHJ1ZTtcbiAgICBvYmpJc09iaiA9IGZhbHNlO1xuICB9XG4gIGlmIChpc1NhbWVUYWcgJiYgIW9iaklzT2JqKSB7XG4gICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICByZXR1cm4gKG9iaklzQXJyIHx8IGlzVHlwZWRBcnJheShvYmplY3QpKVxuICAgICAgPyBlcXVhbEFycmF5cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKVxuICAgICAgOiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIG9ialRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gIH1cbiAgaWYgKCEoYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHKSkge1xuICAgIHZhciBvYmpJc1dyYXBwZWQgPSBvYmpJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgJ19fd3JhcHBlZF9fJyksXG4gICAgICAgIG90aElzV3JhcHBlZCA9IG90aElzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsICdfX3dyYXBwZWRfXycpO1xuXG4gICAgaWYgKG9iaklzV3JhcHBlZCB8fCBvdGhJc1dyYXBwZWQpIHtcbiAgICAgIHZhciBvYmpVbndyYXBwZWQgPSBvYmpJc1dyYXBwZWQgPyBvYmplY3QudmFsdWUoKSA6IG9iamVjdCxcbiAgICAgICAgICBvdGhVbndyYXBwZWQgPSBvdGhJc1dyYXBwZWQgPyBvdGhlci52YWx1ZSgpIDogb3RoZXI7XG5cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICByZXR1cm4gZXF1YWxGdW5jKG9ialVud3JhcHBlZCwgb3RoVW53cmFwcGVkLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgfVxuICB9XG4gIGlmICghaXNTYW1lVGFnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gIHJldHVybiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcGF0dGVybiA9IGlzRnVuY3Rpb24odmFsdWUpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzVHlwZWRBcnJheWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VLZXlzKG9iamVjdCkge1xuICBpZiAoIWlzUHJvdG90eXBlKG9iamVjdCkpIHtcbiAgICByZXR1cm4gbmF0aXZlS2V5cyhvYmplY3QpO1xuICB9XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGtleSAhPSAnY29uc3RydWN0b3InKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgYXJyYXlzIHdpdGggc3VwcG9ydCBmb3JcbiAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge0FycmF5fSBvdGhlciBUaGUgb3RoZXIgYXJyYXkgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYGFycmF5YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcnJheXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxBcnJheXMoYXJyYXksIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICBhcnJMZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICBvdGhMZW5ndGggPSBvdGhlci5sZW5ndGg7XG5cbiAgaWYgKGFyckxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIShpc1BhcnRpYWwgJiYgb3RoTGVuZ3RoID4gYXJyTGVuZ3RoKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KGFycmF5KTtcbiAgaWYgKHN0YWNrZWQgJiYgc3RhY2suZ2V0KG90aGVyKSkge1xuICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICB9XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gdHJ1ZSxcbiAgICAgIHNlZW4gPSAoYml0bWFzayAmIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcpID8gbmV3IFNldENhY2hlIDogdW5kZWZpbmVkO1xuXG4gIHN0YWNrLnNldChhcnJheSwgb3RoZXIpO1xuICBzdGFjay5zZXQob3RoZXIsIGFycmF5KTtcblxuICAvLyBJZ25vcmUgbm9uLWluZGV4IHByb3BlcnRpZXMuXG4gIHdoaWxlICgrK2luZGV4IDwgYXJyTGVuZ3RoKSB7XG4gICAgdmFyIGFyclZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2luZGV4XTtcblxuICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBhcnJWYWx1ZSwgaW5kZXgsIG90aGVyLCBhcnJheSwgc3RhY2spXG4gICAgICAgIDogY3VzdG9taXplcihhcnJWYWx1ZSwgb3RoVmFsdWUsIGluZGV4LCBhcnJheSwgb3RoZXIsIHN0YWNrKTtcbiAgICB9XG4gICAgaWYgKGNvbXBhcmVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChjb21wYXJlZCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgaWYgKHNlZW4pIHtcbiAgICAgIGlmICghYXJyYXlTb21lKG90aGVyLCBmdW5jdGlvbihvdGhWYWx1ZSwgb3RoSW5kZXgpIHtcbiAgICAgICAgICAgIGlmICghY2FjaGVIYXMoc2Vlbiwgb3RoSW5kZXgpICYmXG4gICAgICAgICAgICAgICAgKGFyclZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzZWVuLnB1c2gob3RoSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pKSB7XG4gICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCEoXG4gICAgICAgICAgYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8XG4gICAgICAgICAgICBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaylcbiAgICAgICAgKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgc3RhY2tbJ2RlbGV0ZSddKGFycmF5KTtcbiAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGNvbXBhcmluZyBvYmplY3RzIG9mXG4gKiB0aGUgc2FtZSBgdG9TdHJpbmdUYWdgLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY29tcGFyaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIG9yIGBTdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3RzIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCB0YWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgc3dpdGNoICh0YWcpIHtcbiAgICBjYXNlIGRhdGFWaWV3VGFnOlxuICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgIChvYmplY3QuYnl0ZU9mZnNldCAhPSBvdGhlci5ieXRlT2Zmc2V0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBvYmplY3QuYnVmZmVyO1xuICAgICAgb3RoZXIgPSBvdGhlci5idWZmZXI7XG5cbiAgICBjYXNlIGFycmF5QnVmZmVyVGFnOlxuICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgICFlcXVhbEZ1bmMobmV3IFVpbnQ4QXJyYXkob2JqZWN0KSwgbmV3IFVpbnQ4QXJyYXkob3RoZXIpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIGNhc2UgYm9vbFRhZzpcbiAgICBjYXNlIGRhdGVUYWc6XG4gICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICAvLyBDb2VyY2UgYm9vbGVhbnMgdG8gYDFgIG9yIGAwYCBhbmQgZGF0ZXMgdG8gbWlsbGlzZWNvbmRzLlxuICAgICAgLy8gSW52YWxpZCBkYXRlcyBhcmUgY29lcmNlZCB0byBgTmFOYC5cbiAgICAgIHJldHVybiBlcSgrb2JqZWN0LCArb3RoZXIpO1xuXG4gICAgY2FzZSBlcnJvclRhZzpcbiAgICAgIHJldHVybiBvYmplY3QubmFtZSA9PSBvdGhlci5uYW1lICYmIG9iamVjdC5tZXNzYWdlID09IG90aGVyLm1lc3NhZ2U7XG5cbiAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICBjYXNlIHN0cmluZ1RhZzpcbiAgICAgIC8vIENvZXJjZSByZWdleGVzIHRvIHN0cmluZ3MgYW5kIHRyZWF0IHN0cmluZ3MsIHByaW1pdGl2ZXMgYW5kIG9iamVjdHMsXG4gICAgICAvLyBhcyBlcXVhbC4gU2VlIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1yZWdleHAucHJvdG90eXBlLnRvc3RyaW5nXG4gICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgcmV0dXJuIG9iamVjdCA9PSAob3RoZXIgKyAnJyk7XG5cbiAgICBjYXNlIG1hcFRhZzpcbiAgICAgIHZhciBjb252ZXJ0ID0gbWFwVG9BcnJheTtcblxuICAgIGNhc2Ugc2V0VGFnOlxuICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRztcbiAgICAgIGNvbnZlcnQgfHwgKGNvbnZlcnQgPSBzZXRUb0FycmF5KTtcblxuICAgICAgaWYgKG9iamVjdC5zaXplICE9IG90aGVyLnNpemUgJiYgIWlzUGFydGlhbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gICAgICB9XG4gICAgICBiaXRtYXNrIHw9IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUc7XG5cbiAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICAgICAgdmFyIHJlc3VsdCA9IGVxdWFsQXJyYXlzKGNvbnZlcnQob2JqZWN0KSwgY29udmVydChvdGhlciksIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgY2FzZSBzeW1ib2xUYWc6XG4gICAgICBpZiAoc3ltYm9sVmFsdWVPZikge1xuICAgICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZi5jYWxsKG9iamVjdCkgPT0gc3ltYm9sVmFsdWVPZi5jYWxsKG90aGVyKTtcbiAgICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBvYmplY3RzIHdpdGggc3VwcG9ydCBmb3JcbiAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICBvYmpQcm9wcyA9IGdldEFsbEtleXMob2JqZWN0KSxcbiAgICAgIG9iakxlbmd0aCA9IG9ialByb3BzLmxlbmd0aCxcbiAgICAgIG90aFByb3BzID0gZ2V0QWxsS2V5cyhvdGhlciksXG4gICAgICBvdGhMZW5ndGggPSBvdGhQcm9wcy5sZW5ndGg7XG5cbiAgaWYgKG9iakxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIWlzUGFydGlhbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgaW5kZXggPSBvYmpMZW5ndGg7XG4gIHdoaWxlIChpbmRleC0tKSB7XG4gICAgdmFyIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICBpZiAoIShpc1BhcnRpYWwgPyBrZXkgaW4gb3RoZXIgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCBrZXkpKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gIGlmIChzdGFja2VkICYmIHN0YWNrLmdldChvdGhlcikpIHtcbiAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgfVxuICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICBzdGFjay5zZXQob3RoZXIsIG9iamVjdCk7XG5cbiAgdmFyIHNraXBDdG9yID0gaXNQYXJ0aWFsO1xuICB3aGlsZSAoKytpbmRleCA8IG9iakxlbmd0aCkge1xuICAgIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltrZXldO1xuXG4gICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIG9ialZhbHVlLCBrZXksIG90aGVyLCBvYmplY3QsIHN0YWNrKVxuICAgICAgICA6IGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlLCBrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrKTtcbiAgICB9XG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgaWYgKCEoY29tcGFyZWQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gKG9ialZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMob2JqVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpXG4gICAgICAgICAgOiBjb21wYXJlZFxuICAgICAgICApKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBza2lwQ3RvciB8fCAoc2tpcEN0b3IgPSBrZXkgPT0gJ2NvbnN0cnVjdG9yJyk7XG4gIH1cbiAgaWYgKHJlc3VsdCAmJiAhc2tpcEN0b3IpIHtcbiAgICB2YXIgb2JqQ3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcixcbiAgICAgICAgb3RoQ3RvciA9IG90aGVyLmNvbnN0cnVjdG9yO1xuXG4gICAgLy8gTm9uIGBPYmplY3RgIG9iamVjdCBpbnN0YW5jZXMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1YWwuXG4gICAgaWYgKG9iakN0b3IgIT0gb3RoQ3RvciAmJlxuICAgICAgICAoJ2NvbnN0cnVjdG9yJyBpbiBvYmplY3QgJiYgJ2NvbnN0cnVjdG9yJyBpbiBvdGhlcikgJiZcbiAgICAgICAgISh0eXBlb2Ygb2JqQ3RvciA9PSAnZnVuY3Rpb24nICYmIG9iakN0b3IgaW5zdGFuY2VvZiBvYmpDdG9yICYmXG4gICAgICAgICAgdHlwZW9mIG90aEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvdGhDdG9yIGluc3RhbmNlb2Ygb3RoQ3RvcikpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICovXG5mdW5jdGlvbiBnZXRBbGxLZXlzKG9iamVjdCkge1xuICByZXR1cm4gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzLCBnZXRTeW1ib2xzKTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBkYXRhIGZvciBgbWFwYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcmVmZXJlbmNlIGtleS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXAgZGF0YS5cbiAqL1xuZnVuY3Rpb24gZ2V0TWFwRGF0YShtYXAsIGtleSkge1xuICB2YXIgZGF0YSA9IG1hcC5fX2RhdGFfXztcbiAgcmV0dXJuIGlzS2V5YWJsZShrZXkpXG4gICAgPyBkYXRhW3R5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyAnc3RyaW5nJyA6ICdoYXNoJ11cbiAgICA6IGRhdGEubWFwO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgdHJ5IHtcbiAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIGlmICh1bm1hc2tlZCkge1xuICAgIGlmIChpc093bikge1xuICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAqL1xudmFyIGdldFN5bWJvbHMgPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gIHJldHVybiBhcnJheUZpbHRlcihuYXRpdmVHZXRTeW1ib2xzKG9iamVjdCksIGZ1bmN0aW9uKHN5bWJvbCkge1xuICAgIHJldHVybiBwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iamVjdCwgc3ltYm9sKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIGB0b1N0cmluZ1RhZ2Agb2YgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG52YXIgZ2V0VGFnID0gYmFzZUdldFRhZztcblxuLy8gRmFsbGJhY2sgZm9yIGRhdGEgdmlld3MsIG1hcHMsIHNldHMsIGFuZCB3ZWFrIG1hcHMgaW4gSUUgMTEgYW5kIHByb21pc2VzIGluIE5vZGUuanMgPCA2LlxuaWYgKChEYXRhVmlldyAmJiBnZXRUYWcobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpICE9IGRhdGFWaWV3VGFnKSB8fFxuICAgIChNYXAgJiYgZ2V0VGFnKG5ldyBNYXApICE9IG1hcFRhZykgfHxcbiAgICAoUHJvbWlzZSAmJiBnZXRUYWcoUHJvbWlzZS5yZXNvbHZlKCkpICE9IHByb21pc2VUYWcpIHx8XG4gICAgKFNldCAmJiBnZXRUYWcobmV3IFNldCkgIT0gc2V0VGFnKSB8fFxuICAgIChXZWFrTWFwICYmIGdldFRhZyhuZXcgV2Vha01hcCkgIT0gd2Vha01hcFRhZykpIHtcbiAgZ2V0VGFnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gYmFzZUdldFRhZyh2YWx1ZSksXG4gICAgICAgIEN0b3IgPSByZXN1bHQgPT0gb2JqZWN0VGFnID8gdmFsdWUuY29uc3RydWN0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgIGN0b3JTdHJpbmcgPSBDdG9yID8gdG9Tb3VyY2UoQ3RvcikgOiAnJztcblxuICAgIGlmIChjdG9yU3RyaW5nKSB7XG4gICAgICBzd2l0Y2ggKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgY2FzZSBkYXRhVmlld0N0b3JTdHJpbmc6IHJldHVybiBkYXRhVmlld1RhZztcbiAgICAgICAgY2FzZSBtYXBDdG9yU3RyaW5nOiByZXR1cm4gbWFwVGFnO1xuICAgICAgICBjYXNlIHByb21pc2VDdG9yU3RyaW5nOiByZXR1cm4gcHJvbWlzZVRhZztcbiAgICAgICAgY2FzZSBzZXRDdG9yU3RyaW5nOiByZXR1cm4gc2V0VGFnO1xuICAgICAgICBjYXNlIHdlYWtNYXBDdG9yU3RyaW5nOiByZXR1cm4gd2Vha01hcFRhZztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAodHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8IHJlSXNVaW50LnRlc3QodmFsdWUpKSAmJlxuICAgICh2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3IgdXNlIGFzIHVuaXF1ZSBvYmplY3Qga2V5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICA/ICh2YWx1ZSAhPT0gJ19fcHJvdG9fXycpXG4gICAgOiAodmFsdWUgPT09IG51bGwpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2VkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgcmV0dXJuICEhbWFza1NyY0tleSAmJiAobWFza1NyY0tleSBpbiBmdW5jKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBwcm90b3R5cGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvdG90eXBlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzUHJvdG90eXBlKHZhbHVlKSB7XG4gIHZhciBDdG9yID0gdmFsdWUgJiYgdmFsdWUuY29uc3RydWN0b3IsXG4gICAgICBwcm90byA9ICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlKSB8fCBvYmplY3RQcm90bztcblxuICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAqL1xuZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogUGVyZm9ybXMgYVxuICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKCdhJywgJ2EnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKE5hTiwgTmFOKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcmd1bWVudHMgPSBiYXNlSXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPyBiYXNlSXNBcmd1bWVudHMgOiBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpO1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS4gQSB2YWx1ZSBpcyBjb25zaWRlcmVkIGFycmF5LWxpa2UgaWYgaXQnc1xuICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoJ2FiYycpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4zLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNCdWZmZXIobmV3IEJ1ZmZlcigyKSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0J1ZmZlcihuZXcgVWludDhBcnJheSgyKSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNCdWZmZXIgPSBuYXRpdmVJc0J1ZmZlciB8fCBzdHViRmFsc2U7XG5cbi8qKlxuICogUGVyZm9ybXMgYSBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZVxuICogZXF1aXZhbGVudC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2Qgc3VwcG9ydHMgY29tcGFyaW5nIGFycmF5cywgYXJyYXkgYnVmZmVycywgYm9vbGVhbnMsXG4gKiBkYXRlIG9iamVjdHMsIGVycm9yIG9iamVjdHMsIG1hcHMsIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsXG4gKiBzZXRzLCBzdHJpbmdzLCBzeW1ib2xzLCBhbmQgdHlwZWQgYXJyYXlzLiBgT2JqZWN0YCBvYmplY3RzIGFyZSBjb21wYXJlZFxuICogYnkgdGhlaXIgb3duLCBub3QgaW5oZXJpdGVkLCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuIEZ1bmN0aW9ucyBhbmQgRE9NXG4gKiBub2RlcyBhcmUgY29tcGFyZWQgYnkgc3RyaWN0IGVxdWFsaXR5LCBpLmUuIGA9PT1gLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmlzRXF1YWwob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogb2JqZWN0ID09PSBvdGhlcjtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRXF1YWwodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNGdW5jdGlvbihfKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgLy8gaW4gU2FmYXJpIDkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXlzIGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNMZW5ndGgoMyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoJzMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiZcbiAgICB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgdHlwZWQgYXJyYXkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzVHlwZWRBcnJheShuZXcgVWludDhBcnJheSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkoW10pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzVHlwZWRBcnJheSA9IG5vZGVJc1R5cGVkQXJyYXkgPyBiYXNlVW5hcnkobm9kZUlzVHlwZWRBcnJheSkgOiBiYXNlSXNUeXBlZEFycmF5O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICpcbiAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLiBTZWUgdGhlXG4gKiBbRVMgc3BlY10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gKiBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqICAgdGhpcy5iID0gMjtcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICpcbiAqIF8ua2V5cyhuZXcgRm9vKTtcbiAqIC8vID0+IFsnYScsICdiJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAqXG4gKiBfLmtleXMoJ2hpJyk7XG4gKiAvLyA9PiBbJzAnLCAnMSddXG4gKi9cbmZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XG4gIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QpIDogYmFzZUtleXMob2JqZWN0KTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGVtcHR5IGFycmF5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMy4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgYXJyYXkuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBhcnJheXMgPSBfLnRpbWVzKDIsIF8uc3R1YkFycmF5KTtcbiAqXG4gKiBjb25zb2xlLmxvZyhhcnJheXMpO1xuICogLy8gPT4gW1tdLCBbXV1cbiAqXG4gKiBjb25zb2xlLmxvZyhhcnJheXNbMF0gPT09IGFycmF5c1sxXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBzdHViQXJyYXkoKSB7XG4gIHJldHVybiBbXTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIGBmYWxzZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjEzLjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRpbWVzKDIsIF8uc3R1YkZhbHNlKTtcbiAqIC8vID0+IFtmYWxzZSwgZmFsc2VdXG4gKi9cbmZ1bmN0aW9uIHN0dWJGYWxzZSgpIHtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzRXF1YWw7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash.isequal/index.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});